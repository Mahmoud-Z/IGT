2024-06-29 13:54:39.080 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 13:54:39.853 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 13:54:39.857 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 13:54:39.859 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 13:54:40.058 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 13:54:40.220 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 13:54:40.229 +03:00 [DBG] Creating DbConnection.
2024-06-29 13:54:40.283 +03:00 [DBG] Created DbConnection. (52ms).
2024-06-29 13:54:40.287 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.298 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.670 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.678 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 13:54:40.685 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-06-29 13:54:40.688 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2024-06-29 13:54:40.695 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:54:40.721 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:54:40.724 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.733 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 13:54:40.737 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 13:54:40.738 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 13:54:40.739 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 13:54:40.740 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.742 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.743 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:54:40.761 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:54:40.763 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.764 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:54:40.766 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.768 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.769 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 13:54:40.770 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 13:54:40.771 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 13:54:40.773 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:54:40.775 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:54:40.777 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.779 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:54:40.780 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 13:54:40.781 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 13:54:40.782 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 13:54:40.784 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.785 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.787 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:54:40.789 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:54:40.791 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.792 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:54:40.803 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.804 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.805 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 13:54:40.806 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 13:54:40.807 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 13:54:40.809 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 13:54:40.821 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 13:54:40.826 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.828 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 13:54:40.830 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.831 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:54:40.842 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 13:54:40.844 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 13:54:40.847 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:54:40.849 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 13:54:40.956 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 13:54:41.129 +03:00 [DBG] Hosting starting
2024-06-29 13:54:41.158 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 13:54:41.168 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 13:54:41.187 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 13:54:41.202 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 13:54:41.226 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 13:54:41.239 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 13:54:41.240 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 13:54:41.247 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 13:54:41.251 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 13:54:41.253 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 13:54:41.255 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 13:54:41.258 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 13:54:41.261 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 13:54:41.264 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 13:54:41.265 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 13:54:41.445 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 13:54:41.511 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 13:54:41.513 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 13:54:41.514 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 13:54:41.514 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 13:54:41.516 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 13:54:41.516 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 13:54:41.570 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 13:54:41.571 +03:00 [INF] Hosting environment: Development
2024-06-29 13:54:41.572 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 13:54:41.573 +03:00 [DBG] Hosting started
2024-06-29 13:54:41.966 +03:00 [DBG] Connection id "0HN4O57GJO51L" accepted.
2024-06-29 13:54:41.966 +03:00 [DBG] Connection id "0HN4O57GJO51M" accepted.
2024-06-29 13:54:41.969 +03:00 [DBG] Connection id "0HN4O57GJO51M" started.
2024-06-29 13:54:41.969 +03:00 [DBG] Connection id "0HN4O57GJO51L" started.
2024-06-29 13:54:42.261 +03:00 [DBG] Connection id "0HN4O57GJO51N" accepted.
2024-06-29 13:54:42.269 +03:00 [DBG] Connection id "0HN4O57GJO51N" started.
2024-06-29 13:54:42.269 +03:00 [DBG] Connection id "0HN4O57GJO51O" accepted.
2024-06-29 13:54:42.271 +03:00 [DBG] Connection id "0HN4O57GJO51O" started.
2024-06-29 13:54:42.310 +03:00 [DBG] Connection id "0HN4O57GJO51O" received FIN.
2024-06-29 13:54:42.310 +03:00 [DBG] Connection id "0HN4O57GJO51N" received FIN.
2024-06-29 13:54:42.322 +03:00 [DBG] Connection id "0HN4O57GJO51P" accepted.
2024-06-29 13:54:42.333 +03:00 [DBG] Connection id "0HN4O57GJO51P" started.
2024-06-29 13:54:42.340 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:54:42.344 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:54:42.348 +03:00 [DBG] Connection 0HN4O57GJO51P established using the following protocol: "Tls12"
2024-06-29 13:54:42.364 +03:00 [DBG] Connection id "0HN4O57GJO51N" stopped.
2024-06-29 13:54:42.367 +03:00 [DBG] Connection id "0HN4O57GJO51O" stopped.
2024-06-29 13:54:42.372 +03:00 [DBG] Connection id "0HN4O57GJO51N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:54:42.372 +03:00 [DBG] Connection id "0HN4O57GJO51O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:54:42.448 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 13:54:42.580 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 13:54:42.598 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 13:54:42.600 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:54:42.619 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 177.4949ms
2024-06-29 13:54:42.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 13:54:42.633 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 13:54:42.634 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:54:42.675 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 13:54:42.677 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 13:54:42.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 13:54:42.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 13:54:42.709 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 13:54:42.709 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 13:54:42.712 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 13:54:42.713 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:54:42.715 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 13:54:42.716 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 13:54:42.718 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:54:42.720 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:54:42.722 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 13:54:42.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 101.6065ms
2024-06-29 13:54:42.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 13:54:42.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 13:54:42.754 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 13:54:42.764 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 58.5239ms
2024-06-29 13:54:42.769 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 13:54:42.772 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 63.4644ms
2024-06-29 13:54:42.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 39.4611ms
2024-06-29 13:54:42.814 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 13:54:42.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 109.1471ms
2024-06-29 13:54:42.838 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.8998ms
2024-06-29 13:54:43.013 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 13:54:43.020 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 13:54:43.025 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:54:43.662 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 649.0507ms
2024-06-29 13:54:51.993 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2024-06-29 13:54:51.993 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2024-06-29 13:54:51.995 +03:00 [DBG] Connection id "0HN4O57GJO51M" stopped.
2024-06-29 13:54:51.995 +03:00 [DBG] Connection id "0HN4O57GJO51L" stopped.
2024-06-29 13:54:51.996 +03:00 [DBG] Connection id "0HN4O57GJO51M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:54:51.998 +03:00 [DBG] Connection id "0HN4O57GJO51L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:54:54.761 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 48
2024-06-29 13:54:54.771 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 13:54:54.775 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 13:54:54.777 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 13:54:54.780 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 13:54:54.816 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 13:54:54.820 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 13:54:54.845 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 13:54:54.850 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 13:54:54.852 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 13:54:54.853 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 13:54:54.855 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 13:54:54.856 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 13:54:54.860 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 13:54:54.873 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 13:54:54.891 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 13:54:54.895 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 13:54:54.899 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 13:54:54.905 +03:00 [DBG] Connection id "0HN4O57GJO51P", Request id "0HN4O57GJO51P:00000011": started reading request body.
2024-06-29 13:54:54.907 +03:00 [DBG] Connection id "0HN4O57GJO51P", Request id "0HN4O57GJO51P:00000011": done reading request body.
2024-06-29 13:54:54.913 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 13:54:54.915 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 13:54:54.916 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 13:54:54.917 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 13:54:54.926 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 13:54:55.047 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 13:54:55.053 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 13:54:55.054 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 13:54:55.055 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 13:54:55.057 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 13:54:55.060 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 13:54:55.080 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 217.8782ms
2024-06-29 13:54:55.082 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 13:54:55.085 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 301.1072 ms
2024-06-29 13:54:55.090 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 328.0611ms
2024-06-29 13:56:04.604 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 198
2024-06-29 13:56:04.607 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 13:56:04.609 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 13:56:04.612 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:56:04.613 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 13:56:04.651 +03:00 [DBG] Successfully validated the token.
2024-06-29 13:56:04.654 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 13:56:04.659 +03:00 [DBG] Authorization was successful.
2024-06-29 13:56:04.661 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:56:04.666 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 13:56:04.668 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 13:56:04.670 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 13:56:04.672 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 13:56:04.673 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 13:56:04.674 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 13:56:04.687 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:56:04.690 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:56:04.692 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:56:04.694 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 13:56:04.695 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 13:56:04.700 +03:00 [DBG] Connection id "0HN4O57GJO51P", Request id "0HN4O57GJO51P:00000013": started reading request body.
2024-06-29 13:56:04.702 +03:00 [DBG] Connection id "0HN4O57GJO51P", Request id "0HN4O57GJO51P:00000013": done reading request body.
2024-06-29 13:56:04.706 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 13:56:04.707 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:56:04.709 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:56:04.710 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:56:04.715 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:56:04.734 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 13:56:04.792 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-06-29 13:56:04.961 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 13:56:04.996 +03:00 [DBG] Creating DbConnection.
2024-06-29 13:56:04.998 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-29 13:56:05.001 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:56:05.004 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:56:05.005 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 13:56:05.006 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 13:56:05.010 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 13:56:05.014 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 13:56:05.065 +03:00 [ERR] Failed executing DbCommand (52ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 13:56:05.071 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:56:05.072 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:56:05.081 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IGT.Data.DatabaseContext.AkramDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'expiresAt'.
Invalid column name 'isTempUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:797e9fbc-ee26-4abd-b9b7-c87b04fbb213
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'expiresAt'.
Invalid column name 'isTempUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:797e9fbc-ee26-4abd-b9b7-c87b04fbb213
Error Number:207,State:1,Class:16
2024-06-29 13:56:05.252 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 13:56:05.256 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 13:56:05.256 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 13:56:05.257 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 13:56:05.258 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 13:56:05.259 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 13:56:05.263 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 587.7836ms
2024-06-29 13:56:05.265 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:56:05.266 +03:00 [INF] HTTP POST /addUser responded 200 in 653.0574 ms
2024-06-29 13:56:05.268 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 13:56:05.271 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:56:05.274 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 13:56:05.275 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 671.3621ms
2024-06-29 13:56:23.751 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 198
2024-06-29 13:56:23.756 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 13:56:23.757 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 13:56:23.760 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:56:23.763 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 13:56:23.767 +03:00 [DBG] Successfully validated the token.
2024-06-29 13:56:23.769 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 13:56:23.771 +03:00 [DBG] Authorization was successful.
2024-06-29 13:56:23.771 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:56:23.772 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 13:56:23.775 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 13:56:23.777 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 13:56:23.778 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 13:56:23.779 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 13:56:23.780 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 13:56:23.783 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:56:23.785 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:56:23.786 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:56:23.788 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 13:56:23.789 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 13:56:23.790 +03:00 [DBG] Connection id "0HN4O57GJO51P", Request id "0HN4O57GJO51P:00000015": started reading request body.
2024-06-29 13:56:23.791 +03:00 [DBG] Connection id "0HN4O57GJO51P", Request id "0HN4O57GJO51P:00000015": done reading request body.
2024-06-29 13:56:23.793 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 13:56:23.793 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:56:23.795 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:56:23.796 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:56:23.797 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:56:25.395 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 13:56:25.403 +03:00 [DBG] Creating DbConnection.
2024-06-29 13:56:25.403 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 13:56:25.405 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:56:25.406 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:56:25.409 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 13:56:25.410 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 13:56:25.411 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 13:56:25.413 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 13:56:25.440 +03:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 13:56:25.443 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:56:25.445 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:56:25.447 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IGT.Data.DatabaseContext.AkramDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'expiresAt'.
Invalid column name 'isTempUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:797e9fbc-ee26-4abd-b9b7-c87b04fbb213
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'expiresAt'.
Invalid column name 'isTempUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:797e9fbc-ee26-4abd-b9b7-c87b04fbb213
Error Number:207,State:1,Class:16
2024-06-29 13:56:43.514 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 13:56:43.517 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 13:56:43.518 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 13:56:43.520 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 13:56:43.521 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 13:56:43.522 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 13:56:43.525 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 19743.4648ms
2024-06-29 13:56:43.526 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:56:43.527 +03:00 [INF] HTTP POST /addUser responded 200 in 19762.6062 ms
2024-06-29 13:56:43.530 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 13:56:43.532 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:56:43.533 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 13:56:43.534 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 19782.8085ms
2024-06-29 13:56:47.489 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 198
2024-06-29 13:56:47.495 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 13:56:47.496 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 13:56:47.501 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:56:47.503 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 13:56:47.505 +03:00 [DBG] Successfully validated the token.
2024-06-29 13:56:47.506 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 13:56:47.508 +03:00 [DBG] Authorization was successful.
2024-06-29 13:56:47.509 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:56:47.509 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 13:56:47.512 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 13:56:47.514 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 13:56:47.515 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 13:56:47.516 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 13:56:47.518 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 13:56:47.519 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:56:47.529 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:56:47.531 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:56:47.533 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 13:56:47.534 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 13:56:47.536 +03:00 [DBG] Connection id "0HN4O57GJO51P", Request id "0HN4O57GJO51P:00000017": started reading request body.
2024-06-29 13:56:47.537 +03:00 [DBG] Connection id "0HN4O57GJO51P", Request id "0HN4O57GJO51P:00000017": done reading request body.
2024-06-29 13:56:47.538 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 13:56:47.539 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:56:47.540 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:56:47.541 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:56:47.543 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:57:40.793 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 13:57:41.551 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 13:57:41.554 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 13:57:41.557 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 13:57:41.801 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 13:57:41.988 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 13:57:41.999 +03:00 [DBG] Creating DbConnection.
2024-06-29 13:57:42.049 +03:00 [DBG] Created DbConnection. (47ms).
2024-06-29 13:57:42.054 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.062 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.308 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.314 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 13:57:42.321 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-06-29 13:57:42.324 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 13:57:42.331 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:57:42.355 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:57:42.358 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.366 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 13:57:42.370 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 13:57:42.371 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 13:57:42.372 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 13:57:42.374 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.375 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.377 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:57:42.390 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:57:42.392 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.394 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:57:42.397 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.398 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.400 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 13:57:42.401 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 13:57:42.402 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 13:57:42.403 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:57:42.406 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:57:42.408 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.410 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:57:42.411 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 13:57:42.412 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 13:57:42.414 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 13:57:42.415 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.416 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.417 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:57:42.420 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:57:42.422 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.423 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:57:42.435 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.436 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.437 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 13:57:42.438 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 13:57:42.440 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 13:57:42.442 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 13:57:42.445 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 13:57:42.450 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.452 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 13:57:42.454 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.456 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:57:42.466 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 13:57:42.469 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 13:57:42.472 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:57:42.474 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 13:57:42.538 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 13:57:42.677 +03:00 [DBG] Hosting starting
2024-06-29 13:57:42.701 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 13:57:42.709 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 13:57:42.715 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 13:57:42.717 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 13:57:42.723 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 13:57:42.729 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 13:57:42.730 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 13:57:42.738 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 13:57:42.742 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 13:57:42.745 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 13:57:42.747 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 13:57:42.750 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 13:57:42.752 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 13:57:42.755 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 13:57:42.757 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 13:57:42.863 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 13:57:42.920 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 13:57:42.921 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 13:57:42.922 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 13:57:42.923 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 13:57:42.924 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 13:57:42.925 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 13:57:42.961 +03:00 [DBG] Connection id "0HN4O596HR8OU" accepted.
2024-06-29 13:57:42.962 +03:00 [DBG] Connection id "0HN4O596HR8OU" started.
2024-06-29 13:57:42.986 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 13:57:42.987 +03:00 [INF] Hosting environment: Development
2024-06-29 13:57:42.988 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 13:57:42.989 +03:00 [DBG] Hosting started
2024-06-29 13:57:43.000 +03:00 [DBG] Connection id "0HN4O596HR8OU" received FIN.
2024-06-29 13:57:43.009 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:57:43.022 +03:00 [DBG] Connection id "0HN4O596HR8OU" stopped.
2024-06-29 13:57:43.025 +03:00 [DBG] Connection id "0HN4O596HR8OU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:57:43.254 +03:00 [DBG] Connection id "0HN4O596HR8OV" accepted.
2024-06-29 13:57:43.271 +03:00 [DBG] Connection id "0HN4O596HR8OV" started.
2024-06-29 13:57:43.297 +03:00 [DBG] Connection id "0HN4O596HR8OV" received FIN.
2024-06-29 13:57:43.303 +03:00 [DBG] Connection id "0HN4O596HR8P0" accepted.
2024-06-29 13:57:43.305 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:57:43.312 +03:00 [DBG] Connection id "0HN4O596HR8P0" started.
2024-06-29 13:57:43.319 +03:00 [DBG] Connection id "0HN4O596HR8OV" stopped.
2024-06-29 13:57:43.322 +03:00 [DBG] Connection id "0HN4O596HR8OV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:57:43.326 +03:00 [DBG] Connection id "0HN4O596HR8P0" received FIN.
2024-06-29 13:57:43.326 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:57:43.327 +03:00 [DBG] Connection id "0HN4O596HR8P1" accepted.
2024-06-29 13:57:43.332 +03:00 [DBG] Connection id "0HN4O596HR8P0" stopped.
2024-06-29 13:57:43.332 +03:00 [DBG] Connection id "0HN4O596HR8P1" started.
2024-06-29 13:57:43.333 +03:00 [DBG] Connection id "0HN4O596HR8P0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:57:43.346 +03:00 [DBG] Connection 0HN4O596HR8P1 established using the following protocol: "Tls12"
2024-06-29 13:57:43.406 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 13:57:43.501 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 13:57:43.518 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 13:57:43.519 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:57:43.537 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 135.8987ms
2024-06-29 13:57:43.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 13:57:43.551 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 13:57:43.552 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:57:43.600 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 13:57:43.602 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 13:57:43.632 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 13:57:43.635 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 13:57:43.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 13:57:43.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 13:57:43.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 13:57:43.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 95.1415ms
2024-06-29 13:57:43.640 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 13:57:43.650 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 13:57:43.653 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 13:57:43.658 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:57:43.659 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 13:57:43.659 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:57:43.660 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:57:43.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 13:57:43.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 29.1114ms
2024-06-29 13:57:43.716 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 13:57:43.717 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 79.4075ms
2024-06-29 13:57:43.724 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 13:57:43.741 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 102.5694ms
2024-06-29 13:57:43.763 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.0649ms
2024-06-29 13:57:43.764 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 13:57:43.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 132.7608ms
2024-06-29 13:57:44.258 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 13:57:44.261 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 13:57:44.262 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:57:44.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 198.1481ms
2024-06-29 13:58:16.656 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 198
2024-06-29 13:58:16.666 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 13:58:16.668 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 13:58:16.672 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:58:16.675 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 13:58:16.852 +03:00 [DBG] Successfully validated the token.
2024-06-29 13:58:16.855 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 13:58:16.865 +03:00 [DBG] Authorization was successful.
2024-06-29 13:58:16.867 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:58:16.892 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 13:58:16.896 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 13:58:16.898 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 13:58:16.901 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 13:58:16.902 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 13:58:16.905 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 13:58:16.919 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:58:16.925 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:58:16.939 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:58:16.943 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 13:58:16.947 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 13:58:16.959 +03:00 [DBG] Connection id "0HN4O596HR8P1", Request id "0HN4O596HR8P1:00000011": started reading request body.
2024-06-29 13:58:16.960 +03:00 [DBG] Connection id "0HN4O596HR8P1", Request id "0HN4O596HR8P1:00000011": done reading request body.
2024-06-29 13:58:16.968 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 13:58:16.970 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:58:16.971 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:58:16.972 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:58:16.987 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:58:18.883 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 13:58:18.947 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-06-29 13:58:19.147 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 13:58:19.187 +03:00 [DBG] Creating DbConnection.
2024-06-29 13:58:19.188 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 13:58:19.191 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:58:19.195 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:58:19.196 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 13:58:19.197 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 13:58:19.202 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 13:58:19.205 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 13:58:19.266 +03:00 [ERR] Failed executing DbCommand (61ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 13:58:19.271 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:58:19.273 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:58:19.283 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'IGT.Data.DatabaseContext.AkramDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'expiresAt'.
Invalid column name 'isTempUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a36b114c-989d-48bb-9621-00e28db087c5
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'expiresAt'.
Invalid column name 'isTempUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:a36b114c-989d-48bb-9621-00e28db087c5
Error Number:207,State:1,Class:16
2024-06-29 13:58:55.448 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 13:58:55.872 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 13:58:55.873 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 13:58:55.873 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 13:58:56.015 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 13:58:56.171 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 13:58:56.185 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 13:59:02.332 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 13:59:02.731 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 13:59:02.732 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 13:59:02.732 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 13:59:02.858 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 13:59:02.965 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 13:59:02.997 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 13:59:02.997 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 13:59:02.997 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 13:59:03.015 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 13:59:03.526 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 13:59:35.142 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 13:59:35.821 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 13:59:35.824 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 13:59:35.826 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 13:59:35.987 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 13:59:36.111 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 13:59:36.121 +03:00 [DBG] Creating DbConnection.
2024-06-29 13:59:36.166 +03:00 [DBG] Created DbConnection. (42ms).
2024-06-29 13:59:36.168 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.174 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.400 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.405 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 13:59:36.410 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-06-29 13:59:36.414 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-06-29 13:59:36.421 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:59:36.445 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:59:36.448 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.456 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 13:59:36.460 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 13:59:36.461 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 13:59:36.462 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 13:59:36.463 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.465 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.466 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:59:36.478 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:59:36.480 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.482 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:59:36.484 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.485 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.486 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 13:59:36.487 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 13:59:36.488 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 13:59:36.490 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:59:36.492 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 13:59:36.494 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.495 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:59:36.497 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 13:59:36.498 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 13:59:36.499 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 13:59:36.500 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.501 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.502 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:59:36.504 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 13:59:36.506 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.507 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:59:36.516 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.518 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.519 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 13:59:36.520 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 13:59:36.521 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 13:59:36.522 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 13:59:36.525 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 13:59:36.530 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.532 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 13:59:36.534 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.535 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 13:59:36.545 +03:00 [INF] Applying migration '20240629105903_addTempUser'.
2024-06-29 13:59:36.584 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.586 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.589 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 13:59:36.598 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 13:59:36.600 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 13:59:36.602 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 13:59:36.604 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-06-29 13:59:36.605 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [expiresAt] datetime2 NULL;
2024-06-29 13:59:36.748 +03:00 [INF] Executed DbCommand (143ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [expiresAt] datetime2 NULL;
2024-06-29 13:59:36.753 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 13:59:36.754 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 13:59:36.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 13:59:36.757 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [isTempUser] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-06-29 13:59:36.806 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [isTempUser] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-06-29 13:59:36.809 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 13:59:36.810 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 13:59:36.811 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 13:59:36.812 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629105903_addTempUser', N'8.0.2');
2024-06-29 13:59:36.820 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629105903_addTempUser', N'8.0.2');
2024-06-29 13:59:36.824 +03:00 [DBG] Committing transaction.
2024-06-29 13:59:36.829 +03:00 [DBG] Committed transaction.
2024-06-29 13:59:36.832 +03:00 [DBG] Disposing transaction.
2024-06-29 13:59:36.832 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.834 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 13:59:36.837 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 13:59:36.840 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 13:59:36.843 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 13:59:36.930 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 13:59:37.057 +03:00 [DBG] Hosting starting
2024-06-29 13:59:37.077 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 13:59:37.085 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 13:59:37.090 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 13:59:37.091 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 13:59:37.096 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 13:59:37.100 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 13:59:37.101 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 13:59:37.107 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 13:59:37.111 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 13:59:37.112 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 13:59:37.114 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 13:59:37.117 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 13:59:37.119 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 13:59:37.121 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 13:59:37.123 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 13:59:37.221 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 13:59:37.265 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 13:59:37.266 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 13:59:37.267 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 13:59:37.268 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 13:59:37.269 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 13:59:37.270 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 13:59:37.317 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 13:59:37.318 +03:00 [INF] Hosting environment: Development
2024-06-29 13:59:37.319 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 13:59:37.320 +03:00 [DBG] Hosting started
2024-06-29 13:59:37.704 +03:00 [DBG] Connection id "0HN4O5A8O4B35" accepted.
2024-06-29 13:59:37.706 +03:00 [DBG] Connection id "0HN4O5A8O4B35" started.
2024-06-29 13:59:37.713 +03:00 [DBG] Connection id "0HN4O5A8O4B36" accepted.
2024-06-29 13:59:37.714 +03:00 [DBG] Connection id "0HN4O5A8O4B36" started.
2024-06-29 13:59:37.746 +03:00 [DBG] Connection id "0HN4O5A8O4B35" received FIN.
2024-06-29 13:59:37.746 +03:00 [DBG] Connection id "0HN4O5A8O4B36" received FIN.
2024-06-29 13:59:37.761 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:59:37.767 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:59:37.780 +03:00 [DBG] Connection id "0HN4O5A8O4B35" stopped.
2024-06-29 13:59:37.780 +03:00 [DBG] Connection id "0HN4O5A8O4B36" stopped.
2024-06-29 13:59:37.784 +03:00 [DBG] Connection id "0HN4O5A8O4B36" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:59:37.784 +03:00 [DBG] Connection id "0HN4O5A8O4B35" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:59:37.967 +03:00 [DBG] Connection id "0HN4O5A8O4B37" accepted.
2024-06-29 13:59:37.976 +03:00 [DBG] Connection id "0HN4O5A8O4B37" started.
2024-06-29 13:59:38.006 +03:00 [DBG] Connection id "0HN4O5A8O4B37" received FIN.
2024-06-29 13:59:38.007 +03:00 [DBG] Connection id "0HN4O5A8O4B38" accepted.
2024-06-29 13:59:38.008 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:59:38.009 +03:00 [DBG] Connection id "0HN4O5A8O4B38" started.
2024-06-29 13:59:38.015 +03:00 [DBG] Connection id "0HN4O5A8O4B37" stopped.
2024-06-29 13:59:38.017 +03:00 [DBG] Connection id "0HN4O5A8O4B37" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:59:38.019 +03:00 [DBG] Connection id "0HN4O5A8O4B38" received FIN.
2024-06-29 13:59:38.020 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:59:38.022 +03:00 [DBG] Connection id "0HN4O5A8O4B39" accepted.
2024-06-29 13:59:38.026 +03:00 [DBG] Connection id "0HN4O5A8O4B38" stopped.
2024-06-29 13:59:38.027 +03:00 [DBG] Connection id "0HN4O5A8O4B39" started.
2024-06-29 13:59:38.028 +03:00 [DBG] Connection id "0HN4O5A8O4B38" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:59:38.038 +03:00 [DBG] Connection 0HN4O5A8O4B39 established using the following protocol: "Tls12"
2024-06-29 13:59:38.105 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 13:59:38.197 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 13:59:38.218 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 13:59:38.220 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:59:38.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 142.2181ms
2024-06-29 13:59:38.247 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 13:59:38.255 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 13:59:38.256 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:59:38.295 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 13:59:38.297 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 13:59:38.320 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 13:59:38.324 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 13:59:38.322 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 13:59:38.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 13:59:38.326 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:59:38.327 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 13:59:38.328 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 13:59:38.330 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 13:59:38.334 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:59:38.333 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:59:38.332 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 13:59:38.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 93.5229ms
2024-06-29 13:59:38.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 13:59:38.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 13:59:38.382 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 13:59:38.382 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 13:59:38.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 68.5627ms
2024-06-29 13:59:38.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 69.6722ms
2024-06-29 13:59:38.411 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 58.5558ms
2024-06-29 13:59:38.433 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 13:59:38.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 123.8484ms
2024-06-29 13:59:38.500 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 149.1247ms
2024-06-29 13:59:38.661 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 13:59:38.665 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 13:59:38.666 +03:00 [DBG] Request did not match any endpoints
2024-06-29 13:59:38.830 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.6742ms
2024-06-29 13:59:48.469 +03:00 [DBG] Connection id "0HN4O5A8O4B39" received FIN.
2024-06-29 13:59:48.473 +03:00 [DBG] Connection id "0HN4O5A8O4B39" is closed. The last processed stream ID was 15.
2024-06-29 13:59:48.475 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B39 completed.
2024-06-29 13:59:48.475 +03:00 [DBG] Connection id "0HN4O5A8O4B39" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:59:48.484 +03:00 [DBG] Connection id "0HN4O5A8O4B39" stopped.
2024-06-29 13:59:56.856 +03:00 [DBG] Connection id "0HN4O5A8O4B3A" accepted.
2024-06-29 13:59:56.858 +03:00 [DBG] Connection id "0HN4O5A8O4B3A" started.
2024-06-29 13:59:56.862 +03:00 [DBG] Connection id "0HN4O5A8O4B3A" received FIN.
2024-06-29 13:59:56.863 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 13:59:56.865 +03:00 [DBG] Connection id "0HN4O5A8O4B3B" accepted.
2024-06-29 13:59:56.870 +03:00 [DBG] Connection id "0HN4O5A8O4B3A" stopped.
2024-06-29 13:59:56.871 +03:00 [DBG] Connection id "0HN4O5A8O4B3B" started.
2024-06-29 13:59:56.873 +03:00 [DBG] Connection id "0HN4O5A8O4B3A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 13:59:56.878 +03:00 [DBG] Connection 0HN4O5A8O4B3B established using the following protocol: "Tls12"
2024-06-29 13:59:56.881 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 198
2024-06-29 13:59:56.885 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 13:59:56.887 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 13:59:56.889 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:59:56.890 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 13:59:57.038 +03:00 [DBG] Successfully validated the token.
2024-06-29 13:59:57.041 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 13:59:57.047 +03:00 [DBG] Authorization was successful.
2024-06-29 13:59:57.049 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 13:59:57.067 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 13:59:57.070 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 13:59:57.071 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 13:59:57.073 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 13:59:57.075 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 13:59:57.076 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 13:59:57.088 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:59:57.095 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 13:59:57.107 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:59:57.110 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 13:59:57.113 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 13:59:57.123 +03:00 [DBG] Connection id "0HN4O5A8O4B3B", Request id "0HN4O5A8O4B3B:00000001": started reading request body.
2024-06-29 13:59:57.125 +03:00 [DBG] Connection id "0HN4O5A8O4B3B", Request id "0HN4O5A8O4B3B:00000001": done reading request body.
2024-06-29 13:59:57.133 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 13:59:57.134 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:59:57.135 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 13:59:57.136 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 13:59:57.147 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:00:00.135 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:00:00.195 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-06-29 14:00:00.405 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:00:00.445 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:00:00.447 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 14:00:00.449 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:00.452 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:00.454 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:00.455 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:00.460 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 14:00:00.463 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:00:00.516 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:00:00.529 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:00.531 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 11ms reading results.
2024-06-29 14:00:00.534 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:00.536 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:00:00.540 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 14:00:00.549 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:00:00.554 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:00.557 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:00.558 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:00.559 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:00:00.560 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:00.561 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:00:00.569 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:00:00.573 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:00.575 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:00:00.577 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:00.578 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:00:00.715 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:00:00.719 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:00:00.719 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:00:00.720 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:00:00.722 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:00:00.724 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:00:00.736 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 3655.7528ms
2024-06-29 14:00:00.737 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:00:00.741 +03:00 [INF] HTTP POST /addUser responded 200 in 3847.2902 ms
2024-06-29 14:00:00.744 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:00:00.747 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:00.748 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:00:00.749 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 3868.5172ms
2024-06-29 14:00:08.471 +03:00 [DBG] Connection id "0HN4O5A8O4B3B" received FIN.
2024-06-29 14:00:08.477 +03:00 [DBG] Connection id "0HN4O5A8O4B3B" is closed. The last processed stream ID was 1.
2024-06-29 14:00:08.477 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3B completed.
2024-06-29 14:00:08.478 +03:00 [DBG] Connection id "0HN4O5A8O4B3B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:00:08.492 +03:00 [DBG] Connection id "0HN4O5A8O4B3B" stopped.
2024-06-29 14:00:18.801 +03:00 [DBG] Connection id "0HN4O5A8O4B3C" accepted.
2024-06-29 14:00:18.803 +03:00 [DBG] Connection id "0HN4O5A8O4B3C" started.
2024-06-29 14:00:18.806 +03:00 [DBG] Connection id "0HN4O5A8O4B3C" received FIN.
2024-06-29 14:00:18.807 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:00:18.807 +03:00 [DBG] Connection id "0HN4O5A8O4B3D" accepted.
2024-06-29 14:00:18.815 +03:00 [DBG] Connection id "0HN4O5A8O4B3C" stopped.
2024-06-29 14:00:18.816 +03:00 [DBG] Connection id "0HN4O5A8O4B3D" started.
2024-06-29 14:00:18.818 +03:00 [DBG] Connection id "0HN4O5A8O4B3C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:00:18.824 +03:00 [DBG] Connection 0HN4O5A8O4B3D established using the following protocol: "Tls12"
2024-06-29 14:00:18.826 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 198
2024-06-29 14:00:18.829 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 14:00:18.830 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 14:00:18.832 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:00:18.833 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:00:18.836 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:00:18.837 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:00:18.840 +03:00 [DBG] Authorization was successful.
2024-06-29 14:00:18.841 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:00:18.842 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 14:00:18.845 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 14:00:18.847 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:00:18.849 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 14:00:18.850 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:00:18.852 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 14:00:18.856 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:00:18.859 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:00:18.861 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:00:18.863 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 14:00:18.865 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:00:18.866 +03:00 [DBG] Connection id "0HN4O5A8O4B3D", Request id "0HN4O5A8O4B3D:00000001": started reading request body.
2024-06-29 14:00:18.867 +03:00 [DBG] Connection id "0HN4O5A8O4B3D", Request id "0HN4O5A8O4B3D:00000001": done reading request body.
2024-06-29 14:00:18.869 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 14:00:18.870 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:00:18.871 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:00:18.872 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:00:18.874 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:00:18.925 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:00:18.932 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:00:18.933 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:00:18.934 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.936 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.937 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:18.938 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:18.940 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:00:18.941 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:00:18.946 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:00:18.948 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.949 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:00:18.951 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.952 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:00:18.954 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.955 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.956 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:18.957 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:18.958 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:00:18.959 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:00:18.964 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:00:18.967 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.967 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-06-29 14:00:18.969 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.970 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:00:18.979 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-06-29 14:00:18.990 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4], [Property: Role.SystemStatusCodeId (long?) FK Index, 5] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName, a.SystemStatusCodeId
            FROM AspNetRoles AS a
            WHERE (a.Discriminator == N'Role') && (a.NormalizedName == @__normalizedName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:00:18.996 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.997 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:18.998 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:19.000 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:19.001 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:00:19.002 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 14:00:19.022 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 14:00:19.051 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:00:19.067 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.069 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 44ms reading results.
2024-06-29 14:00:19.071 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.072 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:00:19.174 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.175 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.176 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:19.177 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:00:19.177 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:19.179 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:00:19.184 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:00:19.187 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.188 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:00:19.189 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.190 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:00:19.246 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:00:19.251 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:00:19.254 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:00:19.282 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:00:19.343 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.345 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.350 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:19.351 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:00:19.353 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:00:19.355 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 14:00:19.372 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 14:00:19.378 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.379 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:00:19.381 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.382 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:00:19.392 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:00:19.396 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 14:00:19.401 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-06-29 14:00:19.406 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4], [Property: Role.SystemStatusCodeId (long?) FK Index, 5] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName, a.SystemStatusCodeId
            FROM AspNetRoles AS a
            WHERE (a.Discriminator == N'Role') && (a.NormalizedName == @__normalizedRoleName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:00:19.410 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.411 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.412 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:19.413 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:00:19.414 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:19.418 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:00:19.426 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:00:19.429 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.430 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:00:19.432 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.433 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:00:19.448 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-06-29 14:00:19.470 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:00:19.475 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.477 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.479 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:19.480 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:00:19.481 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:19.482 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 14:00:19.489 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 14:00:19.493 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.495 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:00:19.496 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.497 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:00:19.504 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.507 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.509 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:19.511 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:19.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:00:19.514 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:00:19.518 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:00:19.528 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.532 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 6ms reading results.
2024-06-29 14:00:19.535 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.537 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:00:19.552 +03:00 [DBG] Context 'AkramDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:00:19.555 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.556 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.558 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:19.559 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:19.560 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:00:19.562 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:00:19.567 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:00:19.572 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.573 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:00:19.576 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.578 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:00:19.584 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:00:19.587 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:00:19.588 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:00:19.590 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:00:19.607 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 14:00:19.610 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.611 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.613 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 14:00:19.615 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 14:00:19.616 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:19.617 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:19.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:00:19.619 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 14:00:19.645 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 14:00:19.652 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.654 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 14:00:19.657 +03:00 [DBG] Committing transaction.
2024-06-29 14:00:19.660 +03:00 [DBG] Committed transaction.
2024-06-29 14:00:19.663 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:19.664 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:00:19.666 +03:00 [DBG] Disposing transaction.
2024-06-29 14:00:19.667 +03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:00:19.669 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:00:19.671 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 14:00:21.976 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:00:21.991 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:00:21.994 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:00:21.995 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:00:21.995 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:00:21.997 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:00:21.998 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 3144.047ms
2024-06-29 14:00:21.999 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:00:22.000 +03:00 [INF] HTTP POST /addUser responded 200 in 3165.7176 ms
2024-06-29 14:00:22.002 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:00:22.003 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:22.004 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:00:22.005 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 3179.2684ms
2024-06-29 14:00:28.473 +03:00 [DBG] Connection id "0HN4O5A8O4B3D" received FIN.
2024-06-29 14:00:28.478 +03:00 [DBG] Connection id "0HN4O5A8O4B3D" is closed. The last processed stream ID was 1.
2024-06-29 14:00:28.478 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3D completed.
2024-06-29 14:00:28.480 +03:00 [DBG] Connection id "0HN4O5A8O4B3D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:00:28.498 +03:00 [DBG] Connection id "0HN4O5A8O4B3D" stopped.
2024-06-29 14:00:50.541 +03:00 [DBG] Connection id "0HN4O5A8O4B3E" accepted.
2024-06-29 14:00:50.548 +03:00 [DBG] Connection id "0HN4O5A8O4B3E" started.
2024-06-29 14:00:50.551 +03:00 [DBG] Connection id "0HN4O5A8O4B3E" received FIN.
2024-06-29 14:00:50.558 +03:00 [DBG] Connection id "0HN4O5A8O4B3F" accepted.
2024-06-29 14:00:50.555 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:00:50.563 +03:00 [DBG] Connection id "0HN4O5A8O4B3F" started.
2024-06-29 14:00:50.569 +03:00 [DBG] Connection id "0HN4O5A8O4B3E" stopped.
2024-06-29 14:00:50.570 +03:00 [DBG] Connection id "0HN4O5A8O4B3E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:00:50.574 +03:00 [DBG] Connection 0HN4O5A8O4B3F established using the following protocol: "Tls12"
2024-06-29 14:00:50.577 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 207
2024-06-29 14:00:50.579 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 14:00:50.581 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 14:00:50.583 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:00:50.583 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:00:50.586 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:00:50.588 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:00:50.590 +03:00 [DBG] Authorization was successful.
2024-06-29 14:00:50.591 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:00:50.592 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 14:00:50.594 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 14:00:50.597 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:00:50.599 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 14:00:50.600 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:00:50.602 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 14:00:50.604 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:00:50.613 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:00:50.616 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:00:50.617 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 14:00:50.618 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:00:50.620 +03:00 [DBG] Connection id "0HN4O5A8O4B3F", Request id "0HN4O5A8O4B3F:00000001": started reading request body.
2024-06-29 14:00:50.621 +03:00 [DBG] Connection id "0HN4O5A8O4B3F", Request id "0HN4O5A8O4B3F:00000001": done reading request body.
2024-06-29 14:00:50.622 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 14:00:50.623 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:00:50.624 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:00:50.625 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:00:50.626 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:00:50.629 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:00:50.631 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:00:50.632 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:00:50.633 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:50.634 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:50.636 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:00:50.637 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:00:50.638 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:00:50.639 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:00:50.644 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:00:50.647 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:00:50.648 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:50.650 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:00:50.651 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:50.652 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:00:50.755 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:00:50.757 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:00:50.758 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:00:50.759 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:00:50.760 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:00:50.761 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:00:50.763 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 159.1907ms
2024-06-29 14:00:50.764 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:00:50.765 +03:00 [INF] HTTP POST /addUser responded 200 in 180.3569 ms
2024-06-29 14:00:50.766 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:00:50.767 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:00:50.769 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 14:00:50.770 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 194.0827ms
2024-06-29 14:00:58.479 +03:00 [DBG] Connection id "0HN4O5A8O4B3F" received FIN.
2024-06-29 14:00:58.480 +03:00 [DBG] Connection id "0HN4O5A8O4B3F" is closed. The last processed stream ID was 1.
2024-06-29 14:00:58.480 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3F completed.
2024-06-29 14:00:58.482 +03:00 [DBG] Connection id "0HN4O5A8O4B3F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:00:58.490 +03:00 [DBG] Connection id "0HN4O5A8O4B3F" stopped.
2024-06-29 14:01:02.355 +03:00 [DBG] Connection id "0HN4O5A8O4B3G" accepted.
2024-06-29 14:01:02.359 +03:00 [DBG] Connection id "0HN4O5A8O4B3G" started.
2024-06-29 14:01:02.362 +03:00 [DBG] Connection id "0HN4O5A8O4B3G" received FIN.
2024-06-29 14:01:02.362 +03:00 [DBG] Connection id "0HN4O5A8O4B3H" accepted.
2024-06-29 14:01:02.362 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:01:02.372 +03:00 [DBG] Connection id "0HN4O5A8O4B3H" started.
2024-06-29 14:01:02.377 +03:00 [DBG] Connection id "0HN4O5A8O4B3G" stopped.
2024-06-29 14:01:02.378 +03:00 [DBG] Connection id "0HN4O5A8O4B3G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:01:02.381 +03:00 [DBG] Connection 0HN4O5A8O4B3H established using the following protocol: "Tls12"
2024-06-29 14:01:02.383 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 207
2024-06-29 14:01:02.385 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 14:01:02.386 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 14:01:02.387 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:01:02.388 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:01:02.389 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:01:02.389 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:01:02.390 +03:00 [DBG] Authorization was successful.
2024-06-29 14:01:02.391 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:01:02.392 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 14:01:02.394 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 14:01:02.395 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:01:02.396 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 14:01:02.398 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:01:02.399 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 14:01:02.400 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:01:02.401 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:01:02.402 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:01:02.403 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 14:01:02.405 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:01:02.406 +03:00 [DBG] Connection id "0HN4O5A8O4B3H", Request id "0HN4O5A8O4B3H:00000001": started reading request body.
2024-06-29 14:01:02.407 +03:00 [DBG] Connection id "0HN4O5A8O4B3H", Request id "0HN4O5A8O4B3H:00000001": done reading request body.
2024-06-29 14:01:02.408 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 14:01:02.409 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:01:02.410 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:01:02.411 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:01:02.412 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:01:02.414 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:01:02.416 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:01:02.416 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:01:02.417 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:02.418 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:02.419 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:02.420 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:01:02.421 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:01:02.422 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:01:02.427 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:01:02.430 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:01:02.431 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:02.432 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:01:02.433 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:02.434 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:01:02.518 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:01:02.521 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:01:02.522 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:01:02.523 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:01:02.524 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:01:02.525 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:01:02.527 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 126.6254ms
2024-06-29 14:01:02.528 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:01:02.529 +03:00 [INF] HTTP POST /addUser responded 200 in 140.3524 ms
2024-06-29 14:01:02.531 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:01:02.532 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:02.533 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:01:02.534 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 151.5573ms
2024-06-29 14:01:08.481 +03:00 [DBG] Connection id "0HN4O5A8O4B3H" received FIN.
2024-06-29 14:01:08.483 +03:00 [DBG] Connection id "0HN4O5A8O4B3H" is closed. The last processed stream ID was 1.
2024-06-29 14:01:08.483 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3H completed.
2024-06-29 14:01:08.485 +03:00 [DBG] Connection id "0HN4O5A8O4B3H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:01:08.493 +03:00 [DBG] Connection id "0HN4O5A8O4B3H" stopped.
2024-06-29 14:01:08.722 +03:00 [DBG] Connection id "0HN4O5A8O4B3I" accepted.
2024-06-29 14:01:08.725 +03:00 [DBG] Connection id "0HN4O5A8O4B3I" started.
2024-06-29 14:01:08.728 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:01:08.728 +03:00 [DBG] Connection id "0HN4O5A8O4B3I" received FIN.
2024-06-29 14:01:08.729 +03:00 [DBG] Connection id "0HN4O5A8O4B3J" accepted.
2024-06-29 14:01:08.733 +03:00 [DBG] Connection id "0HN4O5A8O4B3I" stopped.
2024-06-29 14:01:08.737 +03:00 [DBG] Connection id "0HN4O5A8O4B3J" started.
2024-06-29 14:01:08.738 +03:00 [DBG] Connection id "0HN4O5A8O4B3I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:01:08.744 +03:00 [DBG] Connection 0HN4O5A8O4B3J established using the following protocol: "Tls12"
2024-06-29 14:01:08.748 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 207
2024-06-29 14:01:08.752 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 14:01:08.753 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 14:01:08.755 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:01:08.756 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:01:08.757 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:01:08.758 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:01:08.760 +03:00 [DBG] Authorization was successful.
2024-06-29 14:01:08.760 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:01:08.762 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 14:01:08.764 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 14:01:08.766 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:01:08.768 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 14:01:08.770 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:01:08.771 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 14:01:08.773 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:01:08.775 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:01:08.776 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:01:08.778 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 14:01:08.780 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:01:08.781 +03:00 [DBG] Connection id "0HN4O5A8O4B3J", Request id "0HN4O5A8O4B3J:00000001": started reading request body.
2024-06-29 14:01:08.782 +03:00 [DBG] Connection id "0HN4O5A8O4B3J", Request id "0HN4O5A8O4B3J:00000001": done reading request body.
2024-06-29 14:01:08.783 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 14:01:08.784 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:01:08.785 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:01:08.786 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:01:08.788 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:01:08.790 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:01:08.792 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:01:08.793 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:01:08.794 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.795 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.796 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:08.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:01:08.798 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:01:08.799 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:01:08.804 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:01:08.807 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.809 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:01:08.811 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.812 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:01:08.813 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.815 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.816 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:08.817 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:01:08.818 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:01:08.819 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:01:08.823 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:01:08.826 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.827 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:08.829 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.830 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:01:08.831 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.832 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.833 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:08.834 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:01:08.835 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:01:08.837 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 14:01:08.843 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 14:01:08.846 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:01:08.847 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.848 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:01:08.850 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.851 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:01:08.933 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.935 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.936 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:08.937 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:01:08.938 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:01:08.940 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:01:08.943 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:01:08.947 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.948 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:08.949 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.951 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:01:08.952 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:01:08.954 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:01:08.955 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:01:08.957 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:01:08.958 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.959 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.960 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:08.963 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:01:08.965 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 14:01:08.967 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 14:01:08.978 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 14:01:08.982 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.984 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:08.986 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:08.990 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (3ms).
2024-06-29 14:01:08.993 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:01:08.995 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 14:01:08.998 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.000 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.001 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:09.003 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:01:09.006 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 14:01:09.007 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:01:09.014 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:01:09.019 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.020 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:09.022 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.030 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (7ms).
2024-06-29 14:01:09.036 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.039 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.041 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:09.042 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:01:09.045 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 14:01:09.047 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 14:01:09.051 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 14:01:09.055 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.056 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:09.058 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.060 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:01:09.062 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.063 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.065 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:09.067 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:01:09.068 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:01:09.070 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:01:09.077 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:01:09.081 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.082 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:09.084 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.086 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:01:09.088 +03:00 [DBG] Context 'AkramDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:01:09.090 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.091 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.093 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:09.094 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:01:09.096 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:01:09.097 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:01:09.103 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:01:09.106 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.107 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:09.109 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.111 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:01:09.112 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:01:09.114 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:01:09.115 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:01:09.117 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:01:09.118 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 14:01:09.119 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.121 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.123 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 14:01:09.124 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 14:01:09.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:09.126 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:01:09.127 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:01:09.128 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 14:01:09.139 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 14:01:09.143 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.144 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:09.145 +03:00 [DBG] Committing transaction.
2024-06-29 14:01:09.146 +03:00 [DBG] Committed transaction.
2024-06-29 14:01:09.147 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:09.148 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:01:09.150 +03:00 [DBG] Disposing transaction.
2024-06-29 14:01:09.151 +03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:01:09.152 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:01:09.154 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 14:01:12.089 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:01:12.103 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:01:12.106 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:01:12.109 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:01:12.111 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:01:12.114 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:01:12.117 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 3343.7161ms
2024-06-29 14:01:12.118 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:01:12.119 +03:00 [INF] HTTP POST /addUser responded 200 in 3361.8095 ms
2024-06-29 14:01:12.120 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:01:12.121 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:12.123 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:01:12.125 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 3376.8499ms
2024-06-29 14:01:18.481 +03:00 [DBG] Connection id "0HN4O5A8O4B3J" received FIN.
2024-06-29 14:01:18.482 +03:00 [DBG] Connection id "0HN4O5A8O4B3J" is closed. The last processed stream ID was 1.
2024-06-29 14:01:18.483 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3J completed.
2024-06-29 14:01:18.484 +03:00 [DBG] Connection id "0HN4O5A8O4B3J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:01:18.502 +03:00 [DBG] Connection id "0HN4O5A8O4B3J" stopped.
2024-06-29 14:01:53.329 +03:00 [DBG] Connection id "0HN4O5A8O4B3K" accepted.
2024-06-29 14:01:53.336 +03:00 [DBG] Connection id "0HN4O5A8O4B3K" started.
2024-06-29 14:01:53.342 +03:00 [DBG] Connection id "0HN4O5A8O4B3K" received FIN.
2024-06-29 14:01:53.344 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:01:53.347 +03:00 [DBG] Connection id "0HN4O5A8O4B3L" accepted.
2024-06-29 14:01:53.356 +03:00 [DBG] Connection id "0HN4O5A8O4B3K" stopped.
2024-06-29 14:01:53.357 +03:00 [DBG] Connection id "0HN4O5A8O4B3L" started.
2024-06-29 14:01:53.358 +03:00 [DBG] Connection id "0HN4O5A8O4B3K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:01:53.363 +03:00 [DBG] Connection 0HN4O5A8O4B3L established using the following protocol: "Tls12"
2024-06-29 14:01:53.366 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:01:53.369 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:01:53.370 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:01:53.372 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:01:53.373 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:01:53.374 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:01:53.375 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:01:53.376 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:01:53.382 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:01:53.385 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:01:53.386 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:01:53.388 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:01:53.390 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:01:53.391 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:01:53.393 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:01:53.399 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:01:53.400 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:01:53.401 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:01:53.403 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:01:53.405 +03:00 [DBG] Connection id "0HN4O5A8O4B3L", Request id "0HN4O5A8O4B3L:00000001": started reading request body.
2024-06-29 14:01:53.406 +03:00 [DBG] Connection id "0HN4O5A8O4B3L", Request id "0HN4O5A8O4B3L:00000001": done reading request body.
2024-06-29 14:01:53.408 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:01:53.408 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:01:53.410 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:01:53.411 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:01:53.414 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:01:53.418 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:01:53.420 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:01:53.421 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:01:53.422 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.424 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.425 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:53.426 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:01:53.427 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:01:53.428 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:01:53.434 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:01:53.438 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:01:53.439 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.440 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:01:53.442 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.444 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:01:53.537 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 14:01:53.566 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:01:53.570 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.572 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:53.574 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:01:53.575 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:01:53.576 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:01:53.583 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:01:53.587 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.588 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:53.590 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.592 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:01:53.600 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 14:01:53.623 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:01:53.629 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.631 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.632 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:53.633 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:01:53.635 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:01:53.636 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:01:53.642 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:01:53.645 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.647 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:53.649 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.650 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:01:53.654 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.656 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.657 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:01:53.658 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:01:53.659 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:01:53.661 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:01:53.663 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:01:53.666 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.667 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:01:53.668 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.669 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:01:53.681 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:01:53.685 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:01:53.685 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:01:53.686 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:01:53.687 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:01:53.689 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 14:01:53.699 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 306.3233ms
2024-06-29 14:01:53.704 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:01:53.706 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 332.2064 ms
2024-06-29 14:01:53.707 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:01:53.709 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:01:53.710 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:01:53.712 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 346.5396ms
2024-06-29 14:01:58.489 +03:00 [DBG] Connection id "0HN4O5A8O4B3L" received FIN.
2024-06-29 14:01:58.500 +03:00 [DBG] Connection id "0HN4O5A8O4B3L" is closed. The last processed stream ID was 1.
2024-06-29 14:01:58.501 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3L completed.
2024-06-29 14:01:58.507 +03:00 [DBG] Connection id "0HN4O5A8O4B3L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:01:58.519 +03:00 [DBG] Connection id "0HN4O5A8O4B3L" stopped.
2024-06-29 14:03:14.176 +03:00 [DBG] Connection id "0HN4O5A8O4B3M" accepted.
2024-06-29 14:03:14.185 +03:00 [DBG] Connection id "0HN4O5A8O4B3M" started.
2024-06-29 14:03:14.187 +03:00 [DBG] Connection id "0HN4O5A8O4B3M" received FIN.
2024-06-29 14:03:14.193 +03:00 [DBG] Connection id "0HN4O5A8O4B3N" accepted.
2024-06-29 14:03:14.189 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:03:14.197 +03:00 [DBG] Connection id "0HN4O5A8O4B3N" started.
2024-06-29 14:03:14.200 +03:00 [DBG] Connection id "0HN4O5A8O4B3M" stopped.
2024-06-29 14:03:14.202 +03:00 [DBG] Connection id "0HN4O5A8O4B3M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:03:14.207 +03:00 [DBG] Connection 0HN4O5A8O4B3N established using the following protocol: "Tls12"
2024-06-29 14:03:14.209 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:03:14.213 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:03:14.214 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:03:14.217 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:03:14.218 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:03:14.219 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:03:14.220 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:03:14.221 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:03:14.222 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:03:14.225 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:03:14.226 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:03:14.228 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:03:14.231 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:03:14.233 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:03:14.234 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:03:14.235 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:03:14.238 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:03:14.239 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:03:14.240 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:03:14.242 +03:00 [DBG] Connection id "0HN4O5A8O4B3N", Request id "0HN4O5A8O4B3N:00000001": started reading request body.
2024-06-29 14:03:14.243 +03:00 [DBG] Connection id "0HN4O5A8O4B3N", Request id "0HN4O5A8O4B3N:00000001": done reading request body.
2024-06-29 14:03:14.245 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:03:14.246 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:03:14.247 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:03:14.248 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:03:14.249 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:03:14.251 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:03:14.253 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:03:14.254 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:03:14.255 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:14.256 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:14.259 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:03:14.260 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:03:14.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:03:14.262 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:03:14.267 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:03:14.270 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:03:14.272 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:14.273 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:03:14.274 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:14.275 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:03:14.457 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:03:14.460 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:03:14.461 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:03:14.462 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:03:14.463 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:03:14.464 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:03:14.465 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 231.2987ms
2024-06-29 14:03:14.467 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:03:14.468 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 249.3297 ms
2024-06-29 14:03:14.470 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:03:14.471 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:14.472 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:03:14.473 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 263.8249ms
2024-06-29 14:03:18.504 +03:00 [DBG] Connection id "0HN4O5A8O4B3N" received FIN.
2024-06-29 14:03:18.507 +03:00 [DBG] Connection id "0HN4O5A8O4B3N" is closed. The last processed stream ID was 1.
2024-06-29 14:03:18.507 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3N completed.
2024-06-29 14:03:18.509 +03:00 [DBG] Connection id "0HN4O5A8O4B3N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:03:18.519 +03:00 [DBG] Connection id "0HN4O5A8O4B3N" stopped.
2024-06-29 14:03:22.108 +03:00 [DBG] Connection id "0HN4O5A8O4B3O" accepted.
2024-06-29 14:03:22.111 +03:00 [DBG] Connection id "0HN4O5A8O4B3O" started.
2024-06-29 14:03:22.113 +03:00 [DBG] Connection id "0HN4O5A8O4B3O" received FIN.
2024-06-29 14:03:22.115 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:03:22.115 +03:00 [DBG] Connection id "0HN4O5A8O4B3P" accepted.
2024-06-29 14:03:22.118 +03:00 [DBG] Connection id "0HN4O5A8O4B3O" stopped.
2024-06-29 14:03:22.120 +03:00 [DBG] Connection id "0HN4O5A8O4B3P" started.
2024-06-29 14:03:22.121 +03:00 [DBG] Connection id "0HN4O5A8O4B3O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:03:22.128 +03:00 [DBG] Connection 0HN4O5A8O4B3P established using the following protocol: "Tls12"
2024-06-29 14:03:22.132 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:03:22.142 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:03:22.143 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:03:22.144 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:03:22.145 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:03:22.146 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:03:22.146 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:03:22.147 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:03:22.149 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:03:22.151 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:03:22.153 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:03:22.154 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:03:22.157 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:03:22.158 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:03:22.160 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:03:22.162 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:03:22.163 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:03:22.165 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:03:22.167 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:03:22.169 +03:00 [DBG] Connection id "0HN4O5A8O4B3P", Request id "0HN4O5A8O4B3P:00000001": started reading request body.
2024-06-29 14:03:22.170 +03:00 [DBG] Connection id "0HN4O5A8O4B3P", Request id "0HN4O5A8O4B3P:00000001": done reading request body.
2024-06-29 14:03:22.171 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:03:22.172 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:03:22.173 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:03:22.174 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:03:22.176 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:03:26.706 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:03:26.711 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:03:26.712 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 14:03:26.713 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:26.716 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:26.718 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:03:26.719 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:03:26.720 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:03:26.721 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:03:26.745 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:03:26.748 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:03:26.750 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:26.751 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:03:26.752 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:26.753 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:03:59.292 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.295 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.296 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:03:59.298 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:03:59.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:03:59.300 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:03:59.305 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:03:59.307 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.308 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:03:59.310 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.313 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:03:59.314 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.315 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.316 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:03:59.317 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:03:59.318 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:03:59.320 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:03:59.334 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:03:59.337 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.341 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:03:59.343 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.344 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:03:59.346 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.349 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.350 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:03:59.351 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:03:59.352 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:03:59.354 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:03:59.357 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:03:59.359 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.362 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:03:59.364 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.365 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:03:59.366 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:03:59.370 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:03:59.370 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:03:59.371 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:03:59.372 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:03:59.373 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 14:03:59.376 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 37215.9231ms
2024-06-29 14:03:59.378 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:03:59.379 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 37233.8945 ms
2024-06-29 14:03:59.383 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:03:59.386 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:03:59.391 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-06-29 14:03:59.393 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 37261.5085ms
2024-06-29 14:04:00.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 14:04:00.282 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 14:04:00.283 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:00.284 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 14:04:00.294 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 14:04:00.296 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 14:04:00.296 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 14:04:00.297 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 35.7111ms
2024-06-29 14:04:00.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 14:04:00.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 14:04:00.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 14:04:00.426 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 14:04:00.423 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 14:04:00.429 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 14:04:00.431 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:00.438 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:00.437 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:00.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 14:04:00.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 14:04:00.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 16.3264ms
2024-06-29 14:04:00.478 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 14:04:00.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 69.1191ms
2024-06-29 14:04:00.501 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 14:04:00.534 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 14:04:00.540 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 118.4034ms
2024-06-29 14:04:00.541 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 128.3602ms
2024-06-29 14:04:00.562 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 111.2299ms
2024-06-29 14:04:00.751 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 14:04:00.831 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 14:04:00.839 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:00.858 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.0101ms
2024-06-29 14:04:00.878 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - null null
2024-06-29 14:04:00.901 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-06-29 14:04:00.904 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:00.911 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-06-29 14:04:00.930 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - 200 628 image/png 51.4812ms
2024-06-29 14:04:08.513 +03:00 [DBG] Connection id "0HN4O5A8O4B3P" received FIN.
2024-06-29 14:04:08.514 +03:00 [DBG] Connection id "0HN4O5A8O4B3P" is closed. The last processed stream ID was 17.
2024-06-29 14:04:08.515 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3P completed.
2024-06-29 14:04:08.516 +03:00 [DBG] Connection id "0HN4O5A8O4B3P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:04:08.524 +03:00 [DBG] Connection id "0HN4O5A8O4B3P" stopped.
2024-06-29 14:04:12.290 +03:00 [DBG] Connection id "0HN4O5A8O4B3Q" accepted.
2024-06-29 14:04:12.292 +03:00 [DBG] Connection id "0HN4O5A8O4B3Q" started.
2024-06-29 14:04:12.295 +03:00 [DBG] Connection id "0HN4O5A8O4B3Q" received FIN.
2024-06-29 14:04:12.296 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:04:12.296 +03:00 [DBG] Connection id "0HN4O5A8O4B3R" accepted.
2024-06-29 14:04:12.302 +03:00 [DBG] Connection id "0HN4O5A8O4B3Q" stopped.
2024-06-29 14:04:12.303 +03:00 [DBG] Connection id "0HN4O5A8O4B3R" started.
2024-06-29 14:04:12.305 +03:00 [DBG] Connection id "0HN4O5A8O4B3Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:04:12.312 +03:00 [DBG] Connection 0HN4O5A8O4B3R established using the following protocol: "Tls12"
2024-06-29 14:04:12.315 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:04:12.322 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:04:12.323 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:04:12.326 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:04:12.327 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:04:12.328 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 14:04:12.329 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:04:12.334 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:04:12.336 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:04:12.338 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:04:12.341 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:04:12.343 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:04:12.344 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:04:12.346 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:04:12.347 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:04:12.348 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:04:12.350 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:04:12.351 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:04:12.353 +03:00 [DBG] Connection id "0HN4O5A8O4B3R", Request id "0HN4O5A8O4B3R:00000001": started reading request body.
2024-06-29 14:04:12.355 +03:00 [DBG] Connection id "0HN4O5A8O4B3R", Request id "0HN4O5A8O4B3R:00000001": done reading request body.
2024-06-29 14:04:12.356 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:04:12.357 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:04:12.359 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:04:12.360 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:04:12.363 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:04:13.885 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:04:13.888 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:04:13.891 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-29 14:04:13.892 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:13.893 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:13.894 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:04:13.895 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:04:13.897 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:04:13.899 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:04:13.906 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:04:13.909 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:04:13.911 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:13.912 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:04:13.914 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:13.916 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:04:14.004 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.006 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.010 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:04:14.012 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:04:14.013 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:04:14.015 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:04:14.019 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:04:14.023 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.025 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:04:14.028 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.030 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:04:14.032 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.033 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.035 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:04:14.037 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:04:14.038 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:04:14.039 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:04:14.046 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:04:14.049 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.051 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:04:14.052 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.054 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:04:14.057 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.058 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.060 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:04:14.061 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:04:14.063 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:04:14.064 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:04:14.068 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:04:14.072 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.074 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:04:14.076 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.080 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 14:04:14.082 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:04:14.089 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:04:14.091 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:04:14.093 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:04:14.094 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:04:14.095 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 14:04:14.101 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 1755.3133ms
2024-06-29 14:04:14.103 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:04:14.105 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 1777.4060 ms
2024-06-29 14:04:14.107 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:04:14.109 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:14.111 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 14:04:14.113 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 1798.2612ms
2024-06-29 14:04:18.516 +03:00 [DBG] Connection id "0HN4O5A8O4B3R" received FIN.
2024-06-29 14:04:18.532 +03:00 [DBG] Connection id "0HN4O5A8O4B3R" is closed. The last processed stream ID was 1.
2024-06-29 14:04:18.532 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3R completed.
2024-06-29 14:04:18.538 +03:00 [DBG] Connection id "0HN4O5A8O4B3R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:04:18.548 +03:00 [DBG] Connection id "0HN4O5A8O4B3R" stopped.
2024-06-29 14:04:18.703 +03:00 [DBG] Connection id "0HN4O5A8O4B3S" accepted.
2024-06-29 14:04:18.705 +03:00 [DBG] Connection id "0HN4O5A8O4B3S" started.
2024-06-29 14:04:18.708 +03:00 [DBG] Connection id "0HN4O5A8O4B3S" received FIN.
2024-06-29 14:04:18.709 +03:00 [DBG] Connection id "0HN4O5A8O4B3T" accepted.
2024-06-29 14:04:18.708 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:04:18.718 +03:00 [DBG] Connection id "0HN4O5A8O4B3T" started.
2024-06-29 14:04:18.722 +03:00 [DBG] Connection id "0HN4O5A8O4B3S" stopped.
2024-06-29 14:04:18.724 +03:00 [DBG] Connection id "0HN4O5A8O4B3S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:04:18.729 +03:00 [DBG] Connection 0HN4O5A8O4B3T established using the following protocol: "Tls12"
2024-06-29 14:04:18.731 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:04:18.736 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:04:18.737 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:04:18.738 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:04:18.739 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:04:18.740 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 14:04:18.741 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:04:18.742 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:04:18.744 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:04:18.745 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:04:18.747 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:04:18.749 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:04:18.751 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:04:18.753 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:04:18.755 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:04:18.756 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:04:18.758 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:04:18.760 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:04:18.761 +03:00 [DBG] Connection id "0HN4O5A8O4B3T", Request id "0HN4O5A8O4B3T:00000001": started reading request body.
2024-06-29 14:04:18.763 +03:00 [DBG] Connection id "0HN4O5A8O4B3T", Request id "0HN4O5A8O4B3T:00000001": done reading request body.
2024-06-29 14:04:18.764 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:04:18.765 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:04:18.767 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:04:18.768 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:04:18.769 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:04:21.670 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:04:21.672 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:04:21.673 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:04:21.674 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:21.676 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:21.677 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:04:21.679 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:04:21.680 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:04:21.680 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:04:21.725 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:04:21.727 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:04:21.729 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:21.730 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:04:21.731 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:21.733 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:04:54.013 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.015 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.016 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:04:54.017 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:04:54.018 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:04:54.019 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:04:54.024 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:04:54.027 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.028 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:04:54.030 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.032 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:04:54.033 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.034 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.037 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:04:54.038 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:04:54.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:04:54.041 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:04:54.048 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:04:54.052 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.053 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:04:54.055 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.057 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:04:54.059 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.060 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.061 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:04:54.063 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:04:54.065 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:04:54.066 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:04:54.071 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:04:54.073 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.075 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:04:54.078 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.080 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:04:54.082 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:04:54.086 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:04:54.087 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:04:54.088 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:04:54.089 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:04:54.091 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 14:04:54.092 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 35339.1511ms
2024-06-29 14:04:54.094 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:04:54.095 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 35354.8744 ms
2024-06-29 14:04:54.096 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:04:54.099 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:04:54.100 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:04:54.103 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 35372.0526ms
2024-06-29 14:04:55.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 14:04:55.050 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 14:04:55.051 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:55.058 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 14:04:55.059 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 14:04:55.061 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 14:04:55.062 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 14:04:55.063 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 22.5203ms
2024-06-29 14:04:55.102 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 14:04:55.102 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 14:04:55.106 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 14:04:55.102 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 14:04:55.126 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 22.7365ms
2024-06-29 14:04:55.123 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 14:04:55.121 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 14:04:55.116 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 14:04:55.134 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 14:04:55.137 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:55.138 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:55.142 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:55.159 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 14:04:55.175 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 14:04:55.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 77.0364ms
2024-06-29 14:04:55.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 76.7553ms
2024-06-29 14:04:55.194 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 14:04:55.199 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.0807ms
2024-06-29 14:04:55.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 100.5731ms
2024-06-29 14:04:55.324 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 14:04:55.329 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 14:04:55.330 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:55.454 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.7312ms
2024-06-29 14:04:55.471 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - null null
2024-06-29 14:04:55.577 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-06-29 14:04:55.579 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:04:55.579 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-06-29 14:04:55.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - 200 628 image/png 109.2245ms
2024-06-29 14:04:58.520 +03:00 [DBG] Connection id "0HN4O5A8O4B3T" received FIN.
2024-06-29 14:04:58.523 +03:00 [DBG] Connection id "0HN4O5A8O4B3T" is closed. The last processed stream ID was 17.
2024-06-29 14:04:58.523 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3T completed.
2024-06-29 14:04:58.525 +03:00 [DBG] Connection id "0HN4O5A8O4B3T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:04:58.531 +03:00 [DBG] Connection id "0HN4O5A8O4B3T" stopped.
2024-06-29 14:05:02.743 +03:00 [DBG] Connection id "0HN4O5A8O4B3U" accepted.
2024-06-29 14:05:02.744 +03:00 [DBG] Connection id "0HN4O5A8O4B3U" started.
2024-06-29 14:05:02.749 +03:00 [DBG] Connection id "0HN4O5A8O4B3U" received FIN.
2024-06-29 14:05:02.751 +03:00 [DBG] Connection id "0HN4O5A8O4B3V" accepted.
2024-06-29 14:05:02.751 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:05:02.753 +03:00 [DBG] Connection id "0HN4O5A8O4B3V" started.
2024-06-29 14:05:02.756 +03:00 [DBG] Connection id "0HN4O5A8O4B3U" stopped.
2024-06-29 14:05:02.758 +03:00 [DBG] Connection id "0HN4O5A8O4B3U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:05:02.762 +03:00 [DBG] Connection 0HN4O5A8O4B3V established using the following protocol: "Tls12"
2024-06-29 14:05:02.764 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:05:02.766 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:05:02.767 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:05:02.768 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:05:02.769 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:05:02.770 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 14:05:02.771 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:05:02.775 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:05:02.777 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:05:02.778 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:05:02.779 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:05:02.782 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:05:02.783 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:05:02.784 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:05:02.785 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:05:02.786 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:05:02.788 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:05:02.789 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:05:02.791 +03:00 [DBG] Connection id "0HN4O5A8O4B3V", Request id "0HN4O5A8O4B3V:00000001": started reading request body.
2024-06-29 14:05:02.792 +03:00 [DBG] Connection id "0HN4O5A8O4B3V", Request id "0HN4O5A8O4B3V:00000001": done reading request body.
2024-06-29 14:05:02.793 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:05:02.795 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:05:02.796 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:05:02.797 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:05:02.799 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:05:11.376 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:05:11.388 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:05:11.388 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:05:11.389 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:05:11.390 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:05:11.392 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:05:11.392 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:05:11.394 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:05:11.395 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:05:11.403 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:05:11.408 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:05:11.410 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:05:11.412 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 14:05:11.418 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:05:11.429 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (10ms).
2024-06-29 14:05:32.736 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:05:32.739 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:05:32.740 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:05:32.741 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:05:32.742 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:05:32.743 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:05:32.746 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 29962.3195ms
2024-06-29 14:05:32.748 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:05:32.749 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 29979.0241 ms
2024-06-29 14:05:32.751 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:05:32.752 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:05:32.753 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:05:32.755 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 29991.2534ms
2024-06-29 14:05:38.529 +03:00 [DBG] Connection id "0HN4O5A8O4B3V" received FIN.
2024-06-29 14:05:38.541 +03:00 [DBG] Connection id "0HN4O5A8O4B3V" is closed. The last processed stream ID was 1.
2024-06-29 14:05:38.542 +03:00 [DBG] The connection queue processing loop for 0HN4O5A8O4B3V completed.
2024-06-29 14:05:38.546 +03:00 [DBG] Connection id "0HN4O5A8O4B3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:05:38.563 +03:00 [DBG] Connection id "0HN4O5A8O4B3V" stopped.
2024-06-29 14:31:58.139 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 14:31:58.534 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 14:31:58.535 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 14:31:58.535 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 14:31:58.661 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 14:31:58.768 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:31:58.807 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 14:31:58.807 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 14:31:58.807 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 14:31:58.836 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 14:31:59.416 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:34:17.268 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 14:34:17.855 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 14:34:17.858 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 14:34:17.859 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 14:34:18.019 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 14:34:18.144 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:34:18.151 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:34:18.202 +03:00 [DBG] Created DbConnection. (48ms).
2024-06-29 14:34:18.205 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.215 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.526 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.532 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:34:18.539 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-06-29 14:34:18.542 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 14:34:18.548 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:34:18.575 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:34:18.579 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.586 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 14:34:18.589 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:34:18.590 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:34:18.592 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 14:34:18.593 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.594 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.596 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:34:18.609 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:34:18.610 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.612 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:34:18.614 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.615 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.616 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:34:18.617 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 14:34:18.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 14:34:18.619 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:34:18.622 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:34:18.624 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.626 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:34:18.628 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:34:18.629 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 14:34:18.630 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:34:18.631 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.633 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.634 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:34:18.636 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:34:18.638 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.639 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:34:18.649 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.650 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.652 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:34:18.653 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:34:18.654 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:34:18.656 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:34:18.660 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:34:18.664 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.666 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:34:18.668 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.669 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:34:18.681 +03:00 [INF] Applying migration '20240629113159_addSessionTable'.
2024-06-29 14:34:18.728 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.730 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.732 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 14:34:18.737 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 14:34:18.739 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:34:18.740 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 14:34:18.742 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 14:34:18.743 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Session] (
    [SessionId] int NOT NULL,
    [Token] varchar(max) NULL,
    [SystemStatusCodeId] bigint NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK__Session__B3E77E5CCF515C05] PRIMARY KEY ([SessionId]),
    CONSTRAINT [FK_SESSION_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId]),
    CONSTRAINT [FK_SESSION_REFERENCE_USER] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id])
);
2024-06-29 14:34:18.774 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Session] (
    [SessionId] int NOT NULL,
    [Token] varchar(max) NULL,
    [SystemStatusCodeId] bigint NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK__Session__B3E77E5CCF515C05] PRIMARY KEY ([SessionId]),
    CONSTRAINT [FK_SESSION_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId]),
    CONSTRAINT [FK_SESSION_REFERENCE_USER] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id])
);
2024-06-29 14:34:18.778 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:34:18.779 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 14:34:18.780 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 14:34:18.781 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionSystemStatusCodeId] ON [Session] ([SystemStatusCodeId]);
2024-06-29 14:34:18.800 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionSystemStatusCodeId] ON [Session] ([SystemStatusCodeId]);
2024-06-29 14:34:18.802 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:34:18.803 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 14:34:18.804 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 14:34:18.805 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionUserId] ON [Session] ([UserId]);
2024-06-29 14:34:18.808 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionUserId] ON [Session] ([UserId]);
2024-06-29 14:34:18.810 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:34:18.811 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 14:34:18.812 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 14:34:18.813 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629113159_addSessionTable', N'8.0.2');
2024-06-29 14:34:18.817 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629113159_addSessionTable', N'8.0.2');
2024-06-29 14:34:18.820 +03:00 [DBG] Committing transaction.
2024-06-29 14:34:18.825 +03:00 [DBG] Committed transaction.
2024-06-29 14:34:18.827 +03:00 [DBG] Disposing transaction.
2024-06-29 14:34:18.828 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.829 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:34:18.832 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:34:18.835 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:34:18.837 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 14:34:18.926 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 14:34:19.062 +03:00 [DBG] Hosting starting
2024-06-29 14:34:19.085 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 14:34:19.095 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 14:34:19.102 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 14:34:19.104 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 14:34:19.113 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 14:34:19.124 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 14:34:19.126 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 14:34:19.132 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 14:34:19.136 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:34:19.138 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 14:34:19.141 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:34:19.143 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 14:34:19.145 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 14:34:19.148 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 14:34:19.150 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 14:34:19.314 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 14:34:19.388 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 14:34:19.389 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 14:34:19.391 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 14:34:19.392 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 14:34:19.392 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 14:34:19.393 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 14:34:19.444 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 14:34:19.447 +03:00 [INF] Hosting environment: Development
2024-06-29 14:34:19.447 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 14:34:19.448 +03:00 [DBG] Hosting started
2024-06-29 14:34:19.455 +03:00 [DBG] Connection id "0HN4O5TL588GS" accepted.
2024-06-29 14:34:19.457 +03:00 [DBG] Connection id "0HN4O5TL588GS" started.
2024-06-29 14:34:19.495 +03:00 [DBG] Connection id "0HN4O5TL588GS" received FIN.
2024-06-29 14:34:19.506 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:34:19.520 +03:00 [DBG] Connection id "0HN4O5TL588GS" stopped.
2024-06-29 14:34:19.525 +03:00 [DBG] Connection id "0HN4O5TL588GS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:34:19.763 +03:00 [DBG] Connection id "0HN4O5TL588GT" accepted.
2024-06-29 14:34:19.860 +03:00 [DBG] Connection id "0HN4O5TL588GT" started.
2024-06-29 14:34:19.958 +03:00 [DBG] Connection id "0HN4O5TL588GT" received FIN.
2024-06-29 14:34:19.960 +03:00 [DBG] Connection id "0HN4O5TL588GU" accepted.
2024-06-29 14:34:19.969 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:34:19.976 +03:00 [DBG] Connection id "0HN4O5TL588GU" started.
2024-06-29 14:34:19.984 +03:00 [DBG] Connection id "0HN4O5TL588GT" stopped.
2024-06-29 14:34:19.986 +03:00 [DBG] Connection id "0HN4O5TL588GT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:34:19.991 +03:00 [DBG] Connection id "0HN4O5TL588GU" received FIN.
2024-06-29 14:34:19.991 +03:00 [DBG] Connection id "0HN4O5TL588GV" accepted.
2024-06-29 14:34:20.000 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:34:20.052 +03:00 [DBG] Connection id "0HN4O5TL588GV" started.
2024-06-29 14:34:20.060 +03:00 [DBG] Connection id "0HN4O5TL588GU" stopped.
2024-06-29 14:34:20.062 +03:00 [DBG] Connection id "0HN4O5TL588GU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:34:20.074 +03:00 [DBG] Connection 0HN4O5TL588GV established using the following protocol: "Tls12"
2024-06-29 14:34:20.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 14:34:20.294 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 14:34:20.316 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 14:34:20.319 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:34:20.347 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 196.4922ms
2024-06-29 14:34:20.352 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 14:34:20.360 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 14:34:20.362 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:34:20.409 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 14:34:20.412 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 14:34:20.458 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 14:34:20.462 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 14:34:20.473 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 14:34:20.475 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 14:34:20.475 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 14:34:20.478 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 125.8898ms
2024-06-29 14:34:20.481 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 14:34:20.485 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 14:34:20.492 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:34:20.487 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 14:34:20.497 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:34:20.494 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:34:20.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 14:34:20.508 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 14:34:20.531 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 22.6576ms
2024-06-29 14:34:20.543 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 14:34:20.546 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 73.5324ms
2024-06-29 14:34:20.554 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 14:34:20.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 107.4742ms
2024-06-29 14:34:20.590 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.1841ms
2024-06-29 14:34:20.590 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 14:34:20.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 125.7246ms
2024-06-29 14:34:20.789 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 14:34:20.794 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 14:34:20.795 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:34:21.065 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 275.8054ms
2024-06-29 14:34:23.893 +03:00 [DBG] Connection id "0HN4O5TL588GV" received FIN.
2024-06-29 14:34:23.904 +03:00 [DBG] The connection queue processing loop for 0HN4O5TL588GV completed.
2024-06-29 14:34:23.904 +03:00 [DBG] Connection id "0HN4O5TL588GV" is closed. The last processed stream ID was 15.
2024-06-29 14:34:23.906 +03:00 [DBG] Connection id "0HN4O5TL588GV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:34:23.920 +03:00 [DBG] Connection id "0HN4O5TL588GV" stopped.
2024-06-29 14:34:48.574 +03:00 [DBG] Connection id "0HN4O5TL588H0" accepted.
2024-06-29 14:34:48.584 +03:00 [DBG] Connection id "0HN4O5TL588H0" started.
2024-06-29 14:34:48.587 +03:00 [DBG] Connection id "0HN4O5TL588H0" received FIN.
2024-06-29 14:34:48.592 +03:00 [DBG] Connection id "0HN4O5TL588H1" accepted.
2024-06-29 14:34:48.592 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:34:48.594 +03:00 [DBG] Connection id "0HN4O5TL588H1" started.
2024-06-29 14:34:48.598 +03:00 [DBG] Connection id "0HN4O5TL588H0" stopped.
2024-06-29 14:34:48.600 +03:00 [DBG] Connection id "0HN4O5TL588H0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:34:48.602 +03:00 [DBG] Connection 0HN4O5TL588H1 established using the following protocol: "Tls12"
2024-06-29 14:34:48.605 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 48
2024-06-29 14:34:48.610 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:34:48.612 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:34:48.614 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:34:48.617 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:34:48.650 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 14:34:48.655 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:34:48.680 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:34:48.684 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:34:48.686 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:34:48.688 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:34:48.689 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:34:48.691 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:34:48.694 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:34:48.709 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:34:48.725 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:34:48.730 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:34:48.733 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:34:48.739 +03:00 [DBG] Connection id "0HN4O5TL588H1", Request id "0HN4O5TL588H1:00000001": started reading request body.
2024-06-29 14:34:48.742 +03:00 [DBG] Connection id "0HN4O5TL588H1", Request id "0HN4O5TL588H1:00000001": done reading request body.
2024-06-29 14:34:48.746 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:34:48.748 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:34:48.750 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:34:48.752 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:34:48.762 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:34:48.880 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:34:48.885 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:34:48.886 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:34:48.887 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:34:48.889 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:34:48.892 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 14:34:48.914 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 218.475ms
2024-06-29 14:34:48.916 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:34:48.919 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 299.1322 ms
2024-06-29 14:34:48.925 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 320.6328ms
2024-06-29 14:34:53.896 +03:00 [DBG] Connection id "0HN4O5TL588H1" received FIN.
2024-06-29 14:34:53.907 +03:00 [DBG] Connection id "0HN4O5TL588H1" is closed. The last processed stream ID was 1.
2024-06-29 14:34:53.907 +03:00 [DBG] The connection queue processing loop for 0HN4O5TL588H1 completed.
2024-06-29 14:34:53.910 +03:00 [DBG] Connection id "0HN4O5TL588H1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:34:53.915 +03:00 [DBG] Connection id "0HN4O5TL588H1" stopped.
2024-06-29 14:35:52.941 +03:00 [DBG] Connection id "0HN4O5TL588H2" accepted.
2024-06-29 14:35:52.949 +03:00 [DBG] Connection id "0HN4O5TL588H2" started.
2024-06-29 14:35:52.953 +03:00 [DBG] Connection id "0HN4O5TL588H2" received FIN.
2024-06-29 14:35:52.954 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:35:52.954 +03:00 [DBG] Connection id "0HN4O5TL588H3" accepted.
2024-06-29 14:35:52.961 +03:00 [DBG] Connection id "0HN4O5TL588H2" stopped.
2024-06-29 14:35:52.962 +03:00 [DBG] Connection id "0HN4O5TL588H3" started.
2024-06-29 14:35:52.968 +03:00 [DBG] Connection id "0HN4O5TL588H2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:35:52.974 +03:00 [DBG] Connection 0HN4O5TL588H3 established using the following protocol: "Tls12"
2024-06-29 14:35:52.977 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 208
2024-06-29 14:35:52.982 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 14:35:52.983 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 14:35:52.986 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:35:52.988 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:35:53.038 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:35:53.041 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:35:53.048 +03:00 [DBG] Authorization was successful.
2024-06-29 14:35:53.049 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:35:53.054 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 14:35:53.056 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 14:35:53.058 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:35:53.059 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 14:35:53.061 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:35:53.063 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 14:35:53.077 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:35:53.081 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:35:53.082 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:35:53.084 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 14:35:53.086 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:35:53.091 +03:00 [DBG] Connection id "0HN4O5TL588H3", Request id "0HN4O5TL588H3:00000001": started reading request body.
2024-06-29 14:35:53.092 +03:00 [DBG] Connection id "0HN4O5TL588H3", Request id "0HN4O5TL588H3:00000001": done reading request body.
2024-06-29 14:35:53.096 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 14:35:53.097 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:35:53.099 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:35:53.100 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:35:53.105 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:35:53.128 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:35:53.201 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-06-29 14:35:53.436 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:35:53.479 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:35:53.480 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 14:35:53.483 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:35:53.486 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:35:53.487 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:35:53.489 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:35:53.493 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 14:35:53.496 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:35:53.528 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:35:53.566 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:35:53.619 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:35:53.621 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 89ms reading results.
2024-06-29 14:35:53.625 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:35:53.628 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:35:53.784 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:35:53.787 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:35:53.788 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:35:53.788 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:35:53.790 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:35:53.791 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:35:53.794 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 729.8002ms
2024-06-29 14:35:53.796 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:35:53.798 +03:00 [INF] HTTP POST /addUser responded 200 in 806.8931 ms
2024-06-29 14:35:53.800 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:35:53.803 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:35:53.804 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:35:53.806 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 829.0616ms
2024-06-29 14:35:53.907 +03:00 [DBG] Connection id "0HN4O5TL588H3" received FIN.
2024-06-29 14:35:53.909 +03:00 [DBG] Connection id "0HN4O5TL588H3" is closed. The last processed stream ID was 1.
2024-06-29 14:35:53.909 +03:00 [DBG] The connection queue processing loop for 0HN4O5TL588H3 completed.
2024-06-29 14:35:53.910 +03:00 [DBG] Connection id "0HN4O5TL588H3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:35:53.916 +03:00 [DBG] Connection id "0HN4O5TL588H3" stopped.
2024-06-29 14:36:01.758 +03:00 [DBG] Connection id "0HN4O5TL588H4" accepted.
2024-06-29 14:36:01.760 +03:00 [DBG] Connection id "0HN4O5TL588H4" started.
2024-06-29 14:36:01.764 +03:00 [DBG] Connection id "0HN4O5TL588H4" received FIN.
2024-06-29 14:36:01.764 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:36:01.765 +03:00 [DBG] Connection id "0HN4O5TL588H5" accepted.
2024-06-29 14:36:01.770 +03:00 [DBG] Connection id "0HN4O5TL588H4" stopped.
2024-06-29 14:36:01.771 +03:00 [DBG] Connection id "0HN4O5TL588H5" started.
2024-06-29 14:36:01.772 +03:00 [DBG] Connection id "0HN4O5TL588H4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:36:01.779 +03:00 [DBG] Connection 0HN4O5TL588H5 established using the following protocol: "Tls12"
2024-06-29 14:36:01.782 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 208
2024-06-29 14:36:01.785 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 14:36:01.786 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 14:36:01.787 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:36:01.789 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:36:01.792 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:36:01.794 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:36:01.797 +03:00 [DBG] Authorization was successful.
2024-06-29 14:36:01.797 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:36:01.798 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 14:36:01.800 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 14:36:01.801 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:36:01.803 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 14:36:01.804 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:36:01.805 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 14:36:01.808 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:36:01.811 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:36:01.813 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:36:01.814 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 14:36:01.815 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:36:01.817 +03:00 [DBG] Connection id "0HN4O5TL588H5", Request id "0HN4O5TL588H5:00000001": started reading request body.
2024-06-29 14:36:01.818 +03:00 [DBG] Connection id "0HN4O5TL588H5", Request id "0HN4O5TL588H5:00000001": done reading request body.
2024-06-29 14:36:01.819 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 14:36:01.820 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:36:01.821 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:36:01.822 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:36:01.824 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:36:01.877 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:36:01.883 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:36:01.883 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:36:01.884 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:01.886 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:01.887 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:36:01.888 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:36:01.889 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:36:01.890 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:36:01.900 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:36:01.902 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:01.903 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:36:01.905 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:01.906 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:36:01.910 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 14:36:01.917 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:36:01.922 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:01.923 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:01.924 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:36:01.925 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:36:01.926 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:36:01.928 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:36:01.932 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:36:01.935 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:01.936 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:36:01.938 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:01.939 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:36:02.064 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:36:02.068 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:36:02.069 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:36:02.070 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:36:02.071 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:36:02.073 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:36:02.074 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 267.4794ms
2024-06-29 14:36:02.076 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:36:02.077 +03:00 [INF] HTTP POST /addUser responded 200 in 286.8552 ms
2024-06-29 14:36:02.079 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:36:02.081 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:02.082 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-29 14:36:02.083 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 300.8478ms
2024-06-29 14:36:03.908 +03:00 [DBG] Connection id "0HN4O5TL588H5" received FIN.
2024-06-29 14:36:03.916 +03:00 [DBG] Connection id "0HN4O5TL588H5" is closed. The last processed stream ID was 1.
2024-06-29 14:36:03.917 +03:00 [DBG] The connection queue processing loop for 0HN4O5TL588H5 completed.
2024-06-29 14:36:03.918 +03:00 [DBG] Connection id "0HN4O5TL588H5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:36:03.928 +03:00 [DBG] Connection id "0HN4O5TL588H5" stopped.
2024-06-29 14:36:47.774 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 14:36:48.481 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 14:36:48.488 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 14:36:48.492 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 14:36:48.695 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 14:36:48.853 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:36:48.861 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:36:48.903 +03:00 [DBG] Created DbConnection. (40ms).
2024-06-29 14:36:48.907 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:48.912 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.131 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.137 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:36:49.143 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 14:36:49.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 14:36:49.153 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:36:49.175 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:36:49.179 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.186 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 14:36:49.190 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:36:49.191 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:36:49.193 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 14:36:49.194 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.196 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.198 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:36:49.216 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:36:49.218 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.220 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:36:49.222 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.223 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.224 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:36:49.225 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 14:36:49.227 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 14:36:49.228 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:36:49.231 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:36:49.234 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.235 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:36:49.237 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:36:49.238 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:36:49.239 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 14:36:49.240 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.242 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.243 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:36:49.247 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:36:49.249 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.250 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:36:49.262 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.263 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.264 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:36:49.265 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:36:49.267 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:36:49.269 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:36:49.274 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:36:49.279 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.281 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:36:49.283 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.284 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:36:49.295 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 14:36:49.297 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:36:49.300 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:36:49.302 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:36:49.363 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 14:36:49.476 +03:00 [DBG] Hosting starting
2024-06-29 14:36:49.497 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 14:36:49.507 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 14:36:49.512 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 14:36:49.514 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 14:36:49.520 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 14:36:49.526 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 14:36:49.528 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 14:36:49.535 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 14:36:49.541 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:36:49.543 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 14:36:49.545 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:36:49.549 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 14:36:49.551 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 14:36:49.554 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 14:36:49.556 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 14:36:49.684 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 14:36:49.769 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 14:36:49.770 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 14:36:49.771 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 14:36:49.771 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 14:36:49.772 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 14:36:49.773 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 14:36:49.881 +03:00 [DBG] Connection id "0HN4O5V1VQNJJ" accepted.
2024-06-29 14:36:49.909 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 14:36:49.932 +03:00 [DBG] Connection id "0HN4O5V1VQNJJ" received FIN.
2024-06-29 14:36:49.957 +03:00 [DBG] Connection id "0HN4O5V1VQNJJ" started.
2024-06-29 14:36:49.973 +03:00 [INF] Hosting environment: Development
2024-06-29 14:36:49.976 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 14:36:49.977 +03:00 [DBG] Hosting started
2024-06-29 14:36:49.988 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:36:50.001 +03:00 [DBG] Connection id "0HN4O5V1VQNJJ" stopped.
2024-06-29 14:36:50.006 +03:00 [DBG] Connection id "0HN4O5V1VQNJJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:36:50.244 +03:00 [DBG] Connection id "0HN4O5V1VQNJK" accepted.
2024-06-29 14:36:50.265 +03:00 [DBG] Connection id "0HN4O5V1VQNJK" started.
2024-06-29 14:36:50.301 +03:00 [DBG] Connection id "0HN4O5V1VQNJK" received FIN.
2024-06-29 14:36:50.302 +03:00 [DBG] Connection id "0HN4O5V1VQNJL" accepted.
2024-06-29 14:36:50.329 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:36:50.364 +03:00 [DBG] Connection id "0HN4O5V1VQNJL" started.
2024-06-29 14:36:50.408 +03:00 [DBG] Connection id "0HN4O5V1VQNJK" stopped.
2024-06-29 14:36:50.413 +03:00 [DBG] Connection id "0HN4O5V1VQNJM" accepted.
2024-06-29 14:36:50.412 +03:00 [DBG] Connection id "0HN4O5V1VQNJL" received FIN.
2024-06-29 14:36:50.419 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:36:50.422 +03:00 [DBG] Connection id "0HN4O5V1VQNJM" started.
2024-06-29 14:36:50.422 +03:00 [DBG] Connection id "0HN4O5V1VQNJK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:36:50.699 +03:00 [DBG] Connection id "0HN4O5V1VQNJL" stopped.
2024-06-29 14:36:50.707 +03:00 [DBG] Connection id "0HN4O5V1VQNJL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:36:50.718 +03:00 [DBG] Connection 0HN4O5V1VQNJM established using the following protocol: "Tls12"
2024-06-29 14:36:50.799 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 14:36:50.915 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 14:36:50.935 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 14:36:50.937 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:36:50.959 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 165.0735ms
2024-06-29 14:36:50.965 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 14:36:50.974 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 14:36:50.975 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:36:51.023 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 14:36:51.025 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 14:36:51.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 14:36:51.053 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 14:36:51.055 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 14:36:51.062 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 14:36:51.057 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 14:36:51.059 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 14:36:51.065 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:36:51.064 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:36:51.064 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:36:51.057 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 14:36:51.074 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 14:36:51.075 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 109.9046ms
2024-06-29 14:36:51.083 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 14:36:51.083 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 14:36:51.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 16.749ms
2024-06-29 14:36:51.117 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 14:36:51.126 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 14:36:51.127 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 73.3144ms
2024-06-29 14:36:51.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 73.9279ms
2024-06-29 14:36:51.153 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 14:36:51.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 103.5775ms
2024-06-29 14:36:51.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.3822ms
2024-06-29 14:36:51.345 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 14:36:51.348 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 14:36:51.349 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:36:51.509 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 164.164ms
2024-06-29 14:36:58.919 +03:00 [DBG] Connection id "0HN4O5V1VQNJM" received FIN.
2024-06-29 14:36:58.951 +03:00 [DBG] Connection id "0HN4O5V1VQNJM" is closed. The last processed stream ID was 15.
2024-06-29 14:36:58.951 +03:00 [DBG] The connection queue processing loop for 0HN4O5V1VQNJM completed.
2024-06-29 14:36:58.955 +03:00 [DBG] Connection id "0HN4O5V1VQNJM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:36:58.959 +03:00 [DBG] Connection id "0HN4O5V1VQNJM" stopped.
2024-06-29 14:37:05.492 +03:00 [DBG] Connection id "0HN4O5V1VQNJN" accepted.
2024-06-29 14:37:05.497 +03:00 [DBG] Connection id "0HN4O5V1VQNJN" started.
2024-06-29 14:37:05.504 +03:00 [DBG] Connection id "0HN4O5V1VQNJN" received FIN.
2024-06-29 14:37:05.505 +03:00 [DBG] Connection id "0HN4O5V1VQNJO" accepted.
2024-06-29 14:37:05.505 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:37:05.509 +03:00 [DBG] Connection id "0HN4O5V1VQNJO" started.
2024-06-29 14:37:05.513 +03:00 [DBG] Connection id "0HN4O5V1VQNJN" stopped.
2024-06-29 14:37:05.517 +03:00 [DBG] Connection id "0HN4O5V1VQNJN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:37:05.519 +03:00 [DBG] Connection 0HN4O5V1VQNJO established using the following protocol: "Tls12"
2024-06-29 14:37:05.523 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 208
2024-06-29 14:37:05.529 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 14:37:05.531 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 14:37:05.534 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:37:05.537 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:37:05.709 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:37:05.712 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:37:05.719 +03:00 [DBG] Authorization was successful.
2024-06-29 14:37:05.721 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:37:05.743 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 14:37:05.747 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 14:37:05.748 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:37:05.750 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 14:37:05.752 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:37:05.753 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 14:37:05.770 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:37:05.779 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 14:37:05.797 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:37:05.801 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 14:37:05.805 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:37:05.817 +03:00 [DBG] Connection id "0HN4O5V1VQNJO", Request id "0HN4O5V1VQNJO:00000001": started reading request body.
2024-06-29 14:37:05.818 +03:00 [DBG] Connection id "0HN4O5V1VQNJO", Request id "0HN4O5V1VQNJO:00000001": done reading request body.
2024-06-29 14:37:05.825 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 14:37:05.826 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:37:05.829 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:37:05.830 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 14:37:05.844 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 14:37:05.867 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:37:05.927 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-06-29 14:37:06.112 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:37:06.157 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:37:06.158 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 14:37:06.160 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.165 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.166 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:06.167 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:37:06.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 14:37:06.177 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:37:06.235 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 14:37:06.249 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.251 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 11ms reading results.
2024-06-29 14:37:06.254 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.256 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:37:06.260 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 14:37:06.268 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:37:06.273 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.275 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.276 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:06.278 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:37:06.281 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 14:37:06.283 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:37:06.289 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:37:06.292 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.295 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:37:06.297 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.299 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:37:06.312 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-06-29 14:37:06.323 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4], [Property: Role.SystemStatusCodeId (long?) FK Index, 5] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName, a.SystemStatusCodeId
            FROM AspNetRoles AS a
            WHERE (a.Discriminator == N'Role') && (a.NormalizedName == @__normalizedName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:37:06.328 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.330 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.331 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:06.332 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:37:06.333 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:37:06.334 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 14:37:06.349 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 14:37:06.378 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:37:06.396 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.398 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 45ms reading results.
2024-06-29 14:37:06.400 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.401 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:37:06.508 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.510 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.511 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:06.513 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:37:06.514 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:37:06.515 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:37:06.520 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:37:06.526 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.527 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:37:06.529 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.532 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:37:06.600 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:37:06.604 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:37:06.607 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:37:06.642 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:37:06.710 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.713 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.718 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:06.720 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:37:06.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:37:06.725 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 14:37:06.736 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 14:37:06.748 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.751 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 5ms reading results.
2024-06-29 14:37:06.756 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.758 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:37:06.772 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:37:06.782 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 14:37:06.790 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-06-29 14:37:06.798 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4], [Property: Role.SystemStatusCodeId (long?) FK Index, 5] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName, a.SystemStatusCodeId
            FROM AspNetRoles AS a
            WHERE (a.Discriminator == N'Role') && (a.NormalizedName == @__normalizedRoleName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:37:06.804 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.806 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.811 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:06.813 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:37:06.814 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:37:06.817 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:37:06.823 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:37:06.827 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.830 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:37:06.833 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.834 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:37:06.854 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-06-29 14:37:06.875 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:37:06.880 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.881 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.883 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:06.883 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:37:06.886 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:37:06.887 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 14:37:06.892 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 14:37:06.895 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.896 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:37:06.898 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.900 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:37:06.904 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.906 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.908 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:06.909 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:37:06.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:37:06.911 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:37:06.918 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 14:37:06.922 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.923 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:37:06.926 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.927 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:37:06.941 +03:00 [DBG] Context 'AkramDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:37:06.944 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.947 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.949 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:06.950 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:37:06.951 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:37:06.953 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:37:06.962 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:37:06.966 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.969 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:37:06.971 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:06.972 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:37:06.979 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:37:06.984 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:37:06.985 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:37:06.987 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:37:07.004 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 14:37:07.007 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:07.010 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:07.012 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 14:37:07.020 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 14:37:07.022 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:07.024 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:37:07.026 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:37:07.027 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 14:37:07.207 +03:00 [INF] Executed DbCommand (180ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 14:37:07.215 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:07.216 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 14:37:07.221 +03:00 [DBG] Committing transaction.
2024-06-29 14:37:07.227 +03:00 [DBG] Committed transaction.
2024-06-29 14:37:07.229 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:07.231 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:37:07.234 +03:00 [DBG] Disposing transaction.
2024-06-29 14:37:07.235 +03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:37:07.237 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:37:07.239 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 14:37:09.265 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:37:09.274 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:37:09.277 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:37:09.280 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:37:09.284 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:37:09.287 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:37:09.301 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 3543.9462ms
2024-06-29 14:37:09.303 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 14:37:09.307 +03:00 [INF] HTTP POST /addUser responded 200 in 3767.0110 ms
2024-06-29 14:37:09.311 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:37:09.316 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:09.320 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-29 14:37:09.322 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 3799.1619ms
2024-06-29 14:37:18.920 +03:00 [DBG] Connection id "0HN4O5V1VQNJO" received FIN.
2024-06-29 14:37:18.926 +03:00 [DBG] Connection id "0HN4O5V1VQNJO" is closed. The last processed stream ID was 1.
2024-06-29 14:37:18.926 +03:00 [DBG] Connection id "0HN4O5V1VQNJO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:37:18.931 +03:00 [DBG] The connection queue processing loop for 0HN4O5V1VQNJO completed.
2024-06-29 14:37:18.932 +03:00 [DBG] Connection id "0HN4O5V1VQNJO" stopped.
2024-06-29 14:37:41.151 +03:00 [DBG] Connection id "0HN4O5V1VQNJP" accepted.
2024-06-29 14:37:41.165 +03:00 [DBG] Connection id "0HN4O5V1VQNJP" started.
2024-06-29 14:37:41.167 +03:00 [DBG] Connection id "0HN4O5V1VQNJP" received FIN.
2024-06-29 14:37:41.169 +03:00 [DBG] Connection id "0HN4O5V1VQNJQ" accepted.
2024-06-29 14:37:41.169 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:37:41.176 +03:00 [DBG] Connection id "0HN4O5V1VQNJQ" started.
2024-06-29 14:37:41.182 +03:00 [DBG] Connection id "0HN4O5V1VQNJP" stopped.
2024-06-29 14:37:41.186 +03:00 [DBG] Connection id "0HN4O5V1VQNJP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:37:41.189 +03:00 [DBG] Connection 0HN4O5V1VQNJQ established using the following protocol: "Tls12"
2024-06-29 14:37:41.192 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:37:41.195 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:37:41.195 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:37:41.198 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:37:41.199 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:37:41.202 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:37:41.202 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:37:41.203 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:37:41.211 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:37:41.215 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:37:41.216 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:37:41.217 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:37:41.222 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:37:41.223 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:37:41.225 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:37:41.236 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:37:41.237 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:37:41.238 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:37:41.241 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:37:41.243 +03:00 [DBG] Connection id "0HN4O5V1VQNJQ", Request id "0HN4O5V1VQNJQ:00000001": started reading request body.
2024-06-29 14:37:41.244 +03:00 [DBG] Connection id "0HN4O5V1VQNJQ", Request id "0HN4O5V1VQNJQ:00000001": done reading request body.
2024-06-29 14:37:41.245 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:37:41.248 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:37:41.249 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:37:41.250 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:37:41.252 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:37:41.317 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:37:41.321 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:37:41.322 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 14:37:41.325 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:41.326 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:41.327 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:37:41.328 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:37:41.330 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:37:41.332 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:37:41.338 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:37:41.342 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:37:41.344 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:41.346 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 14:37:41.348 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:41.349 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:37:41.453 +03:00 [DBG] Invalid password for user.
2024-06-29 14:37:41.654 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:37:41.656 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:37:41.658 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:37:41.659 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:37:41.660 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:37:41.661 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:37:41.665 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 440.1399ms
2024-06-29 14:37:41.666 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:37:41.667 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 467.3191 ms
2024-06-29 14:37:41.669 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:37:41.671 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:37:41.672 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:37:41.674 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 481.4787ms
2024-06-29 14:37:49.064 +03:00 [DBG] Connection id "0HN4O5V1VQNJQ" received FIN.
2024-06-29 14:37:49.070 +03:00 [DBG] Connection id "0HN4O5V1VQNJQ" is closed. The last processed stream ID was 1.
2024-06-29 14:37:49.071 +03:00 [DBG] The connection queue processing loop for 0HN4O5V1VQNJQ completed.
2024-06-29 14:37:49.073 +03:00 [DBG] Connection id "0HN4O5V1VQNJQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:37:49.084 +03:00 [DBG] Connection id "0HN4O5V1VQNJQ" stopped.
2024-06-29 14:38:12.763 +03:00 [DBG] Connection id "0HN4O5V1VQNJR" accepted.
2024-06-29 14:38:12.767 +03:00 [DBG] Connection id "0HN4O5V1VQNJR" started.
2024-06-29 14:38:12.771 +03:00 [DBG] Connection id "0HN4O5V1VQNJR" received FIN.
2024-06-29 14:38:12.773 +03:00 [DBG] Connection id "0HN4O5V1VQNJS" accepted.
2024-06-29 14:38:12.788 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:38:12.789 +03:00 [DBG] Connection id "0HN4O5V1VQNJS" started.
2024-06-29 14:38:12.794 +03:00 [DBG] Connection id "0HN4O5V1VQNJR" stopped.
2024-06-29 14:38:12.796 +03:00 [DBG] Connection id "0HN4O5V1VQNJR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:38:12.799 +03:00 [DBG] Connection 0HN4O5V1VQNJS established using the following protocol: "Tls12"
2024-06-29 14:38:12.801 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:38:12.805 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:38:12.806 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:38:12.808 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:38:12.809 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:38:12.812 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:38:12.812 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:38:12.813 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:38:12.815 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:38:12.817 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:38:12.818 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:38:12.819 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:38:12.822 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:38:12.823 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:38:12.825 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:38:12.828 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:38:12.829 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:38:12.830 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:38:12.831 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:38:12.833 +03:00 [DBG] Connection id "0HN4O5V1VQNJS", Request id "0HN4O5V1VQNJS:00000001": started reading request body.
2024-06-29 14:38:12.834 +03:00 [DBG] Connection id "0HN4O5V1VQNJS", Request id "0HN4O5V1VQNJS:00000001": done reading request body.
2024-06-29 14:38:12.835 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:38:12.836 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:38:12.837 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:38:12.839 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:38:12.840 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:38:12.843 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:38:12.846 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:38:12.846 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:38:12.847 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:12.849 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:12.850 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:38:12.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:38:12.853 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:38:12.854 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:38:12.860 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:38:12.865 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:38:12.867 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:12.868 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:38:12.871 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:12.873 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:38:18.002 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 14:38:18.060 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (int) Required PK AfterSave:Throw, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:38:18.066 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.067 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.068 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:38:18.070 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:38:18.071 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:38:18.073 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:38:18.082 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:38:18.086 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.087 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:38:18.089 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.090 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:38:18.095 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()
    .Where(s => s.Name == "EXPIRED")'
2024-06-29 14:38:18.101 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s
        WHERE s.Name == 'EXPIRED'), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:38:18.105 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.106 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.107 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:38:18.108 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:38:18.109 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:38:18.111 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:38:18.128 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:38:18.130 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.132 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:38:18.134 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.135 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:38:18.139 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:38:18.140 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:38:18.141 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:38:18.142 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 0 entities written to the database.
2024-06-29 14:38:18.148 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 14:38:18.159 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:38:18.162 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.164 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.165 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:38:18.165 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:38:18.167 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:38:18.168 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:38:18.172 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:38:18.175 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.176 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:38:18.177 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.178 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:38:18.186 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 14:38:18.206 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:38:18.211 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.213 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.214 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:38:18.216 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:38:18.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:38:18.219 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:38:18.224 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:38:18.227 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.228 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:38:18.230 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.231 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:38:18.235 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.237 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.238 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:38:18.239 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:38:18.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:38:18.241 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:38:18.247 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:38:18.250 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.252 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:38:18.253 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.254 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:38:18.265 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:38:18.267 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:38:18.268 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:38:18.269 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:38:18.270 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:38:18.271 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 14:38:18.280 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 5455.6696ms
2024-06-29 14:38:18.282 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:38:18.283 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 5472.9077 ms
2024-06-29 14:38:18.284 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:38:18.289 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:38:18.293 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-06-29 14:38:18.295 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 5493.736ms
2024-06-29 14:38:19.050 +03:00 [DBG] Connection id "0HN4O5V1VQNJS" received FIN.
2024-06-29 14:38:19.052 +03:00 [DBG] The connection queue processing loop for 0HN4O5V1VQNJS completed.
2024-06-29 14:38:19.052 +03:00 [DBG] Connection id "0HN4O5V1VQNJS" is closed. The last processed stream ID was 1.
2024-06-29 14:38:19.055 +03:00 [DBG] Connection id "0HN4O5V1VQNJS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:38:19.070 +03:00 [DBG] Connection id "0HN4O5V1VQNJS" stopped.
2024-06-29 14:40:13.945 +03:00 [DBG] Connection id "0HN4O5V1VQNJT" accepted.
2024-06-29 14:40:13.965 +03:00 [DBG] Connection id "0HN4O5V1VQNJT" started.
2024-06-29 14:40:13.970 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:40:13.974 +03:00 [DBG] Connection id "0HN4O5V1VQNJU" accepted.
2024-06-29 14:40:13.970 +03:00 [DBG] Connection id "0HN4O5V1VQNJT" received FIN.
2024-06-29 14:40:13.979 +03:00 [DBG] Connection id "0HN4O5V1VQNJT" stopped.
2024-06-29 14:40:13.980 +03:00 [DBG] Connection id "0HN4O5V1VQNJU" started.
2024-06-29 14:40:13.984 +03:00 [DBG] Connection id "0HN4O5V1VQNJT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:40:13.990 +03:00 [DBG] Connection 0HN4O5V1VQNJU established using the following protocol: "Tls12"
2024-06-29 14:40:13.992 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:40:13.994 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:40:13.995 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:40:13.997 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:40:13.998 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:40:13.999 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:40:14.000 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:40:14.001 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:40:14.002 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:40:14.005 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:40:14.006 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:40:14.007 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:40:14.010 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:40:14.011 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:40:14.012 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:40:14.025 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:40:14.026 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:40:14.027 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:40:14.029 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:40:14.032 +03:00 [DBG] Connection id "0HN4O5V1VQNJU", Request id "0HN4O5V1VQNJU:00000001": started reading request body.
2024-06-29 14:40:14.033 +03:00 [DBG] Connection id "0HN4O5V1VQNJU", Request id "0HN4O5V1VQNJU:00000001": done reading request body.
2024-06-29 14:40:14.034 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:40:14.035 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:40:14.036 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:40:14.039 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:40:14.040 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:40:14.042 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:40:14.046 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:40:14.046 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:40:14.047 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.048 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.049 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:40:14.050 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:40:14.052 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:40:14.054 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:40:14.058 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:40:14.062 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:40:14.063 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.064 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:40:14.066 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.067 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:40:14.162 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.175 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:40:14.189 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:40:14.192 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 14:40:14.195 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:40:14.210 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:40:14.248 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:40:14.256 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.258 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 38ms reading results.
2024-06-29 14:40:14.262 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.263 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:40:14.266 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.268 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.270 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:40:14.272 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:40:14.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-06-29 14:40:14.287 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:40:14.300 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:40:14.307 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.314 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 6ms reading results.
2024-06-29 14:40:14.320 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.321 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:40:14.337 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Added"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:40:14.342 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:40:14.347 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:40:14.356 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:40:14.397 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.417 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.423 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:40:14.425 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:40:14.429 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 14:40:14.431 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 14:40:14.493 +03:00 [ERR] Failed executing DbCommand (61ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 14:40:14.502 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.504 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:40:14.519 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'IGT.Data.DatabaseContext.AkramDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK__Session__B3E77E5CCF515C05'. Cannot insert duplicate key in object 'dbo.Session'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a2e72a01-5dad-4a68-b1bd-e477e857e309
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK__Session__B3E77E5CCF515C05'. Cannot insert duplicate key in object 'dbo.Session'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a2e72a01-5dad-4a68-b1bd-e477e857e309
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-29 14:40:14.849 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:40:14.854 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:40:14.854 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:40:14.855 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:40:14.856 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:40:14.858 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:40:14.860 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 847.613ms
2024-06-29 14:40:14.861 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:40:14.862 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 863.2939 ms
2024-06-29 14:40:14.864 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:40:14.865 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:14.867 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 14:40:14.869 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 877.0591ms
2024-06-29 14:40:19.079 +03:00 [DBG] Connection id "0HN4O5V1VQNJU" received FIN.
2024-06-29 14:40:19.081 +03:00 [DBG] Connection id "0HN4O5V1VQNJU" is closed. The last processed stream ID was 1.
2024-06-29 14:40:19.082 +03:00 [DBG] The connection queue processing loop for 0HN4O5V1VQNJU completed.
2024-06-29 14:40:19.083 +03:00 [DBG] Connection id "0HN4O5V1VQNJU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:40:19.100 +03:00 [DBG] Connection id "0HN4O5V1VQNJU" stopped.
2024-06-29 14:40:25.732 +03:00 [DBG] Connection id "0HN4O5V1VQNJV" accepted.
2024-06-29 14:40:25.747 +03:00 [DBG] Connection id "0HN4O5V1VQNJV" started.
2024-06-29 14:40:25.749 +03:00 [DBG] Connection id "0HN4O5V1VQNJV" received FIN.
2024-06-29 14:40:25.750 +03:00 [DBG] Connection id "0HN4O5V1VQNK0" accepted.
2024-06-29 14:40:25.752 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:40:25.754 +03:00 [DBG] Connection id "0HN4O5V1VQNK0" started.
2024-06-29 14:40:25.757 +03:00 [DBG] Connection id "0HN4O5V1VQNJV" stopped.
2024-06-29 14:40:25.760 +03:00 [DBG] Connection id "0HN4O5V1VQNJV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:40:25.763 +03:00 [DBG] Connection 0HN4O5V1VQNK0 established using the following protocol: "Tls12"
2024-06-29 14:40:25.770 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:40:25.777 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:40:25.778 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:40:25.780 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:40:25.781 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:40:25.782 +03:00 [DBG] Successfully validated the token.
2024-06-29 14:40:25.782 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 14:40:25.783 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:40:25.784 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:40:25.786 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:40:25.788 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:40:25.789 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:40:25.791 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:40:25.792 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:40:25.794 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:40:25.795 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:40:25.796 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:40:25.797 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:40:25.798 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:40:25.800 +03:00 [DBG] Connection id "0HN4O5V1VQNK0", Request id "0HN4O5V1VQNK0:00000001": started reading request body.
2024-06-29 14:40:25.801 +03:00 [DBG] Connection id "0HN4O5V1VQNK0", Request id "0HN4O5V1VQNK0:00000001": done reading request body.
2024-06-29 14:40:25.802 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:40:25.803 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:40:25.804 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:40:25.805 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:40:25.807 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:40:25.809 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:40:25.810 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:40:25.811 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 14:40:25.812 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:25.813 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:25.814 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:40:25.815 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:40:25.816 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:40:25.817 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:40:25.824 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:40:25.829 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:40:25.831 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:25.832 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:40:25.834 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:25.852 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (18ms).
2024-06-29 14:40:27.501 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:27.504 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:27.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:40:27.508 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:40:27.509 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:40:27.511 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:40:27.536 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:40:27.542 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:40:27.543 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:27.545 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:40:27.547 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:27.548 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:40:28.633 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:28.637 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:28.639 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:40:28.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:40:28.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:40:28.645 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:40:28.652 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:40:28.674 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:28.675 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:40:28.677 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:28.679 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:40:30.707 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Added"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:40:31.745 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:40:31.746 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:40:31.748 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:40:31.751 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:31.752 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:31.754 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:40:31.755 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:40:31.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:40:31.757 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 14:40:31.782 +03:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 14:40:31.786 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:31.788 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:40:31.791 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'IGT.Data.DatabaseContext.AkramDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK__Session__B3E77E5CCF515C05'. Cannot insert duplicate key in object 'dbo.Session'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a2e72a01-5dad-4a68-b1bd-e477e857e309
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK__Session__B3E77E5CCF515C05'. Cannot insert duplicate key in object 'dbo.Session'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a2e72a01-5dad-4a68-b1bd-e477e857e309
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-29 14:40:32.091 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:40:32.094 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:40:32.095 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:40:32.095 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:40:32.096 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:40:32.097 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 14:40:32.099 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 6305.35ms
2024-06-29 14:40:32.100 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:40:32.102 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 6320.9776 ms
2024-06-29 14:40:32.104 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:40:32.106 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:40:32.108 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:40:32.110 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 6340.4221ms
2024-06-29 14:40:39.083 +03:00 [DBG] Connection id "0HN4O5V1VQNK0" received FIN.
2024-06-29 14:40:39.085 +03:00 [DBG] Connection id "0HN4O5V1VQNK0" is closed. The last processed stream ID was 1.
2024-06-29 14:40:39.086 +03:00 [DBG] The connection queue processing loop for 0HN4O5V1VQNK0 completed.
2024-06-29 14:40:39.087 +03:00 [DBG] Connection id "0HN4O5V1VQNK0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:40:39.104 +03:00 [DBG] Connection id "0HN4O5V1VQNK0" stopped.
2024-06-29 14:41:07.778 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 14:41:08.396 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 14:41:08.398 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 14:41:08.400 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 14:41:08.562 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 14:41:08.694 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:41:08.702 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:41:08.747 +03:00 [DBG] Created DbConnection. (42ms).
2024-06-29 14:41:08.750 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:08.755 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.010 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.016 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:41:09.022 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-06-29 14:41:09.025 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-06-29 14:41:09.031 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:41:09.052 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:41:09.056 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.063 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 14:41:09.067 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:41:09.067 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 14:41:09.069 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 14:41:09.070 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.071 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.072 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:41:09.085 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:41:09.090 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.092 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:41:09.094 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.095 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.096 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:41:09.097 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 14:41:09.098 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 14:41:09.100 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:41:09.102 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:41:09.104 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.105 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:41:09.106 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:41:09.107 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 14:41:09.108 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:41:09.109 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.110 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.111 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:41:09.113 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:41:09.115 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.117 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:41:09.128 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.130 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.131 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:41:09.132 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:41:09.134 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:41:09.135 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:41:09.139 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:41:09.143 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.145 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:41:09.147 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.148 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:41:09.158 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 14:41:09.160 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:41:09.162 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:09.164 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 14:41:09.221 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 14:41:09.341 +03:00 [DBG] Hosting starting
2024-06-29 14:41:09.364 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 14:41:09.370 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 14:41:09.374 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 14:41:09.376 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 14:41:09.381 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 14:41:09.385 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 14:41:09.386 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 14:41:09.391 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 14:41:09.395 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:41:09.397 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 14:41:09.398 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:41:09.401 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 14:41:09.402 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 14:41:09.404 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 14:41:09.406 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 14:41:09.517 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 14:41:09.571 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 14:41:09.572 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 14:41:09.573 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 14:41:09.574 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 14:41:09.575 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 14:41:09.576 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 14:41:09.620 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 14:41:09.622 +03:00 [INF] Hosting environment: Development
2024-06-29 14:41:09.622 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 14:41:09.623 +03:00 [DBG] Hosting started
2024-06-29 14:41:09.729 +03:00 [DBG] Connection id "0HN4O61FDTPLM" accepted.
2024-06-29 14:41:09.731 +03:00 [DBG] Connection id "0HN4O61FDTPLN" accepted.
2024-06-29 14:41:09.732 +03:00 [DBG] Connection id "0HN4O61FDTPLM" started.
2024-06-29 14:41:09.732 +03:00 [DBG] Connection id "0HN4O61FDTPLN" started.
2024-06-29 14:41:09.758 +03:00 [DBG] Connection id "0HN4O61FDTPLM" received FIN.
2024-06-29 14:41:09.759 +03:00 [DBG] Connection id "0HN4O61FDTPLN" received FIN.
2024-06-29 14:41:09.783 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:41:09.783 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:41:09.796 +03:00 [DBG] Connection id "0HN4O61FDTPLM" stopped.
2024-06-29 14:41:09.796 +03:00 [DBG] Connection id "0HN4O61FDTPLN" stopped.
2024-06-29 14:41:09.801 +03:00 [DBG] Connection id "0HN4O61FDTPLM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:41:09.801 +03:00 [DBG] Connection id "0HN4O61FDTPLN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:41:09.996 +03:00 [DBG] Connection id "0HN4O61FDTPLO" accepted.
2024-06-29 14:41:10.031 +03:00 [DBG] Connection id "0HN4O61FDTPLO" started.
2024-06-29 14:41:10.084 +03:00 [DBG] Connection id "0HN4O61FDTPLO" received FIN.
2024-06-29 14:41:10.084 +03:00 [DBG] Connection id "0HN4O61FDTPLP" accepted.
2024-06-29 14:41:10.086 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:41:10.087 +03:00 [DBG] Connection id "0HN4O61FDTPLP" started.
2024-06-29 14:41:10.094 +03:00 [DBG] Connection id "0HN4O61FDTPLO" stopped.
2024-06-29 14:41:10.099 +03:00 [DBG] Connection id "0HN4O61FDTPLO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:41:10.101 +03:00 [DBG] Connection id "0HN4O61FDTPLP" received FIN.
2024-06-29 14:41:10.102 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:41:10.102 +03:00 [DBG] Connection id "0HN4O61FDTPLQ" accepted.
2024-06-29 14:41:10.108 +03:00 [DBG] Connection id "0HN4O61FDTPLP" stopped.
2024-06-29 14:41:10.109 +03:00 [DBG] Connection id "0HN4O61FDTPLQ" started.
2024-06-29 14:41:10.110 +03:00 [DBG] Connection id "0HN4O61FDTPLP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:41:10.122 +03:00 [DBG] Connection 0HN4O61FDTPLQ established using the following protocol: "Tls12"
2024-06-29 14:41:10.191 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 14:41:10.638 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 14:41:10.673 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 14:41:10.677 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:41:10.699 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 513.8047ms
2024-06-29 14:41:10.704 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 14:41:10.711 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 14:41:10.713 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:41:10.771 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 14:41:10.820 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 14:41:10.889 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 14:41:10.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 14:41:10.894 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 14:41:10.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 14:41:10.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 14:41:10.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 14:41:10.897 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 14:41:10.899 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 194.9816ms
2024-06-29 14:41:10.902 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 14:41:10.917 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:41:10.910 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:41:10.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 14:41:10.906 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 14:41:10.924 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:41:10.918 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 23.4269ms
2024-06-29 14:41:10.966 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 14:41:10.954 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 14:41:10.976 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 82.5619ms
2024-06-29 14:41:10.976 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 83.6328ms
2024-06-29 14:41:11.004 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 14:41:11.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.1661ms
2024-06-29 14:41:11.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 116.824ms
2024-06-29 14:41:11.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 14:41:11.357 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 14:41:11.359 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:41:11.488 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 163.7031ms
2024-06-29 14:41:16.680 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:41:16.690 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:41:16.694 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:41:16.698 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:41:16.702 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:41:16.815 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 14:41:16.818 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:41:16.850 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:41:16.856 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:41:16.858 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:41:16.860 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:41:16.863 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:41:16.865 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:41:16.870 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:41:16.884 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:41:16.904 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:41:16.907 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:41:16.911 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:41:16.916 +03:00 [DBG] Connection id "0HN4O61FDTPLQ", Request id "0HN4O61FDTPLQ:00000011": started reading request body.
2024-06-29 14:41:16.917 +03:00 [DBG] Connection id "0HN4O61FDTPLQ", Request id "0HN4O61FDTPLQ:00000011": done reading request body.
2024-06-29 14:41:16.922 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:41:16.924 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:41:16.925 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:41:16.926 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:41:16.934 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:41:16.956 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:41:17.030 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 14:41:17.250 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:41:17.294 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:41:17.295 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 14:41:17.297 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:17.300 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:17.301 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:41:17.302 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:41:17.307 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 14:41:17.310 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:41:17.354 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:41:17.394 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:41:17.443 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:17.445 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 87ms reading results.
2024-06-29 14:41:17.448 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:17.452 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (3ms).
2024-06-29 14:41:20.240 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 14:41:20.302 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (int) Required PK AfterSave:Throw, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:41:20.307 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.310 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.311 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:41:20.312 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:41:20.313 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:41:20.314 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:41:20.325 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:41:20.356 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:41:20.362 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.363 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 35ms reading results.
2024-06-29 14:41:20.365 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.366 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:41:20.383 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()
    .Where(s => s.Name == "EXPIRED")'
2024-06-29 14:41:20.395 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s
        WHERE s.Name == 'EXPIRED'), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:41:20.403 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.404 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.407 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:41:20.408 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:41:20.410 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:41:20.411 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:41:20.421 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:41:20.423 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.425 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:41:20.427 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.429 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:41:20.455 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Added"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:41:20.460 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:41:20.464 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:41:20.492 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:41:20.553 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.555 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.558 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:41:20.559 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:41:20.560 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:41:20.562 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 14:41:20.573 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 14:41:20.580 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:41:20.581 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:41:20.591 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'IGT.Data.DatabaseContext.AkramDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK__Session__B3E77E5CCF515C05'. Cannot insert duplicate key in object 'dbo.Session'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fcfe2eae-4ba0-4899-af22-fc08fa1b6989
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK__Session__B3E77E5CCF515C05'. Cannot insert duplicate key in object 'dbo.Session'. The duplicate key value is (1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fcfe2eae-4ba0-4899-af22-fc08fa1b6989
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-29 14:43:37.926 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 14:43:38.551 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 14:43:38.553 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 14:43:38.554 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 14:43:38.700 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 14:43:38.836 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:43:38.845 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:43:38.890 +03:00 [DBG] Created DbConnection. (42ms).
2024-06-29 14:43:38.893 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:38.898 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.133 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.140 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:43:39.147 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-06-29 14:43:39.150 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 14:43:39.156 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:43:39.178 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:43:39.182 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.189 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 14:43:39.193 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:43:39.194 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 14:43:39.195 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:43:39.196 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.198 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.200 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:43:39.213 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:43:39.216 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.217 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:43:39.219 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.220 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.221 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:43:39.222 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 14:43:39.223 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 14:43:39.225 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:43:39.227 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:43:39.229 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.230 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:43:39.232 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:43:39.233 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 14:43:39.234 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:43:39.235 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.236 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.237 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:43:39.239 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:43:39.241 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.242 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:43:39.252 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.254 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.255 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:43:39.256 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:43:39.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:43:39.259 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:43:39.263 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:43:39.268 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.271 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 14:43:39.273 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.274 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:43:39.284 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 14:43:39.287 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:43:39.290 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:43:39.292 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 14:43:39.351 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 14:43:39.462 +03:00 [DBG] Hosting starting
2024-06-29 14:43:39.482 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 14:43:39.490 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 14:43:39.494 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 14:43:39.497 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 14:43:39.502 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 14:43:39.507 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 14:43:39.509 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 14:43:39.515 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 14:43:39.519 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:43:39.521 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 14:43:39.523 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:43:39.526 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 14:43:39.528 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 14:43:39.530 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 14:43:39.532 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 14:43:39.636 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 14:43:39.686 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 14:43:39.687 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 14:43:39.688 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 14:43:39.689 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 14:43:39.690 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 14:43:39.691 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 14:43:39.744 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 14:43:39.748 +03:00 [INF] Hosting environment: Development
2024-06-29 14:43:39.749 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 14:43:39.750 +03:00 [DBG] Hosting started
2024-06-29 14:43:40.027 +03:00 [DBG] Connection id "0HN4O62S79AQE" received FIN.
2024-06-29 14:43:40.027 +03:00 [DBG] Connection id "0HN4O62S79AQF" received FIN.
2024-06-29 14:43:40.040 +03:00 [DBG] Connection id "0HN4O62S79AQE" accepted.
2024-06-29 14:43:40.047 +03:00 [DBG] Connection id "0HN4O62S79AQF" accepted.
2024-06-29 14:43:40.049 +03:00 [DBG] Connection id "0HN4O62S79AQE" started.
2024-06-29 14:43:40.053 +03:00 [DBG] Connection id "0HN4O62S79AQF" started.
2024-06-29 14:43:40.068 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:43:40.068 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:43:40.094 +03:00 [DBG] Connection id "0HN4O62S79AQF" stopped.
2024-06-29 14:43:40.094 +03:00 [DBG] Connection id "0HN4O62S79AQE" stopped.
2024-06-29 14:43:40.102 +03:00 [DBG] Connection id "0HN4O62S79AQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:43:40.103 +03:00 [DBG] Connection id "0HN4O62S79AQE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:43:40.458 +03:00 [DBG] Connection id "0HN4O62S79AQG" accepted.
2024-06-29 14:43:40.542 +03:00 [DBG] Connection id "0HN4O62S79AQG" started.
2024-06-29 14:43:40.584 +03:00 [DBG] Connection id "0HN4O62S79AQG" received FIN.
2024-06-29 14:43:40.584 +03:00 [DBG] Connection id "0HN4O62S79AQH" accepted.
2024-06-29 14:43:40.593 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:43:40.596 +03:00 [DBG] Connection id "0HN4O62S79AQH" started.
2024-06-29 14:43:40.602 +03:00 [DBG] Connection id "0HN4O62S79AQG" stopped.
2024-06-29 14:43:40.604 +03:00 [DBG] Connection id "0HN4O62S79AQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:43:40.605 +03:00 [DBG] Connection id "0HN4O62S79AQH" received FIN.
2024-06-29 14:43:40.608 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:43:40.608 +03:00 [DBG] Connection id "0HN4O62S79AQI" accepted.
2024-06-29 14:43:40.616 +03:00 [DBG] Connection id "0HN4O62S79AQH" stopped.
2024-06-29 14:43:40.616 +03:00 [DBG] Connection id "0HN4O62S79AQI" started.
2024-06-29 14:43:40.618 +03:00 [DBG] Connection id "0HN4O62S79AQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:43:40.628 +03:00 [DBG] Connection 0HN4O62S79AQI established using the following protocol: "Tls12"
2024-06-29 14:43:40.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 14:43:41.161 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 14:43:41.182 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 14:43:41.183 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:43:41.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 514.6773ms
2024-06-29 14:43:41.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 14:43:41.217 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 14:43:41.218 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:43:41.262 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 14:43:41.263 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 14:43:41.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 14:43:41.285 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 14:43:41.285 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 14:43:41.285 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 14:43:41.287 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 14:43:41.288 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 14:43:41.290 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 14:43:41.295 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:43:41.293 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:43:41.294 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 84.5016ms
2024-06-29 14:43:41.292 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 14:43:41.307 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:43:41.313 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 14:43:41.314 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 14:43:41.330 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 17.3423ms
2024-06-29 14:43:41.336 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 14:43:41.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 55.655ms
2024-06-29 14:43:41.355 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 14:43:41.384 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 14:43:41.387 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 102.1906ms
2024-06-29 14:43:41.390 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 102.3842ms
2024-06-29 14:43:41.407 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.1286ms
2024-06-29 14:43:41.620 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 14:43:41.702 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 14:43:41.703 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:43:41.813 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 193.5438ms
2024-06-29 14:43:49.150 +03:00 [DBG] Connection id "0HN4O62S79AQI" received FIN.
2024-06-29 14:43:49.195 +03:00 [DBG] Connection id "0HN4O62S79AQI" is closed. The last processed stream ID was 15.
2024-06-29 14:43:49.198 +03:00 [DBG] Connection id "0HN4O62S79AQI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:43:49.197 +03:00 [DBG] The connection queue processing loop for 0HN4O62S79AQI completed.
2024-06-29 14:43:49.203 +03:00 [DBG] Connection id "0HN4O62S79AQI" stopped.
2024-06-29 14:44:03.575 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 14:44:04.172 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 14:44:04.181 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 14:44:04.183 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 14:44:04.366 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 14:44:04.500 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:44:04.507 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:44:04.549 +03:00 [DBG] Created DbConnection. (39ms).
2024-06-29 14:44:04.552 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.557 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.774 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.779 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:44:04.785 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-06-29 14:44:04.787 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-06-29 14:44:04.793 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:44:04.815 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:44:04.818 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.825 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 14:44:04.829 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:44:04.830 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 14:44:04.831 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:44:04.831 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.833 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.835 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:44:04.849 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:44:04.852 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.853 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:44:04.855 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.856 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.857 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:44:04.858 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 14:44:04.859 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 14:44:04.860 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:44:04.862 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:44:04.864 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.865 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:44:04.866 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:44:04.867 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 14:44:04.868 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:44:04.869 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.870 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.871 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:44:04.873 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:44:04.875 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.876 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:44:04.886 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.887 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:44:04.889 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:44:04.890 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:44:04.891 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:44:04.894 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:44:04.898 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.900 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:44:04.901 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.902 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:44:04.912 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 14:44:04.914 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:44:04.916 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:04.918 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:44:04.973 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 14:44:05.082 +03:00 [DBG] Hosting starting
2024-06-29 14:44:05.103 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 14:44:05.110 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 14:44:05.114 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 14:44:05.115 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 14:44:05.120 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 14:44:05.124 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 14:44:05.125 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 14:44:05.130 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 14:44:05.134 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:44:05.136 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 14:44:05.138 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:44:05.141 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 14:44:05.143 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 14:44:05.145 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 14:44:05.147 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 14:44:05.257 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 14:44:05.315 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 14:44:05.316 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 14:44:05.317 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 14:44:05.318 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 14:44:05.319 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 14:44:05.320 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 14:44:05.374 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 14:44:05.376 +03:00 [INF] Hosting environment: Development
2024-06-29 14:44:05.378 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 14:44:05.379 +03:00 [DBG] Hosting started
2024-06-29 14:44:05.441 +03:00 [DBG] Connection id "0HN4O633PKSGL" received FIN.
2024-06-29 14:44:05.518 +03:00 [DBG] Connection id "0HN4O633PKSGL" accepted.
2024-06-29 14:44:05.939 +03:00 [DBG] Connection id "0HN4O633PKSGL" started.
2024-06-29 14:44:05.955 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:44:05.973 +03:00 [DBG] Connection id "0HN4O633PKSGL" stopped.
2024-06-29 14:44:05.977 +03:00 [DBG] Connection id "0HN4O633PKSGL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:44:06.241 +03:00 [DBG] Connection id "0HN4O633PKSGM" accepted.
2024-06-29 14:44:06.264 +03:00 [DBG] Connection id "0HN4O633PKSGM" started.
2024-06-29 14:44:06.353 +03:00 [DBG] Connection id "0HN4O633PKSGM" received FIN.
2024-06-29 14:44:06.361 +03:00 [DBG] Connection id "0HN4O633PKSGN" accepted.
2024-06-29 14:44:06.383 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:44:06.390 +03:00 [DBG] Connection id "0HN4O633PKSGN" started.
2024-06-29 14:44:06.396 +03:00 [DBG] Connection id "0HN4O633PKSGM" stopped.
2024-06-29 14:44:06.399 +03:00 [DBG] Connection id "0HN4O633PKSGM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:44:06.403 +03:00 [DBG] Connection id "0HN4O633PKSGN" received FIN.
2024-06-29 14:44:06.403 +03:00 [DBG] Connection id "0HN4O633PKSGO" accepted.
2024-06-29 14:44:06.404 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:44:06.406 +03:00 [DBG] Connection id "0HN4O633PKSGO" started.
2024-06-29 14:44:06.410 +03:00 [DBG] Connection id "0HN4O633PKSGN" stopped.
2024-06-29 14:44:06.413 +03:00 [DBG] Connection id "0HN4O633PKSGN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:44:06.423 +03:00 [DBG] Connection 0HN4O633PKSGO established using the following protocol: "Tls12"
2024-06-29 14:44:06.482 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 14:44:06.656 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 14:44:06.680 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 14:44:06.682 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:44:06.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 226.164ms
2024-06-29 14:44:06.718 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 14:44:06.730 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 14:44:06.734 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:44:06.787 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 14:44:06.790 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 14:44:06.833 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 14:44:06.834 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 14:44:06.834 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 14:44:06.835 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 14:44:06.837 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 14:44:06.840 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 14:44:06.844 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 14:44:06.845 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 14:44:06.846 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:44:06.847 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:44:06.848 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:44:06.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 132.1013ms
2024-06-29 14:44:06.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 14:44:06.866 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 14:44:06.902 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 35.6097ms
2024-06-29 14:44:06.905 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 14:44:06.913 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 14:44:06.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 81.3536ms
2024-06-29 14:44:06.916 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 81.6892ms
2024-06-29 14:44:06.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.5526ms
2024-06-29 14:44:06.970 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 14:44:06.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 141.0956ms
2024-06-29 14:44:07.178 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 14:44:07.183 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 14:44:07.185 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:44:07.310 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.3113ms
2024-06-29 14:44:09.138 +03:00 [DBG] Connection id "0HN4O633PKSGO" received FIN.
2024-06-29 14:44:09.142 +03:00 [DBG] Connection id "0HN4O633PKSGO" is closed. The last processed stream ID was 15.
2024-06-29 14:44:09.142 +03:00 [DBG] The connection queue processing loop for 0HN4O633PKSGO completed.
2024-06-29 14:44:09.143 +03:00 [DBG] Connection id "0HN4O633PKSGO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:44:09.162 +03:00 [DBG] Connection id "0HN4O633PKSGO" stopped.
2024-06-29 14:44:17.411 +03:00 [DBG] Connection id "0HN4O633PKSGP" accepted.
2024-06-29 14:44:17.414 +03:00 [DBG] Connection id "0HN4O633PKSGP" started.
2024-06-29 14:44:17.419 +03:00 [DBG] Connection id "0HN4O633PKSGP" received FIN.
2024-06-29 14:44:17.420 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:44:17.421 +03:00 [DBG] Connection id "0HN4O633PKSGQ" accepted.
2024-06-29 14:44:17.431 +03:00 [DBG] Connection id "0HN4O633PKSGP" stopped.
2024-06-29 14:44:17.431 +03:00 [DBG] Connection id "0HN4O633PKSGQ" started.
2024-06-29 14:44:17.433 +03:00 [DBG] Connection id "0HN4O633PKSGP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:44:17.439 +03:00 [DBG] Connection 0HN4O633PKSGQ established using the following protocol: "Tls12"
2024-06-29 14:44:17.441 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:44:17.446 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:44:17.448 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:44:17.450 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:44:17.452 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:44:17.482 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 14:44:17.486 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:44:17.505 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:44:17.510 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:44:17.511 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:44:17.512 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:44:17.514 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:44:17.516 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:44:17.519 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:44:17.529 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:44:17.545 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:44:17.548 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:44:17.551 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:44:17.556 +03:00 [DBG] Connection id "0HN4O633PKSGQ", Request id "0HN4O633PKSGQ:00000001": started reading request body.
2024-06-29 14:44:17.558 +03:00 [DBG] Connection id "0HN4O633PKSGQ", Request id "0HN4O633PKSGQ:00000001": done reading request body.
2024-06-29 14:44:17.565 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:44:17.566 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:44:17.567 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:44:17.569 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:44:17.578 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:44:17.603 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:44:17.687 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 14:44:17.893 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:44:17.934 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:44:17.935 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 14:44:17.937 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:17.940 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:17.942 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:44:17.943 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:44:17.948 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 14:44:17.951 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:44:17.986 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:44:18.023 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:44:18.064 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.066 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 75ms reading results.
2024-06-29 14:44:18.069 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.071 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:44:18.176 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 14:44:18.232 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (int) Required PK AfterSave:Throw, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:44:18.236 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.237 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.238 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:44:18.239 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:44:18.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:44:18.241 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:44:18.250 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:44:18.275 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:44:18.281 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.282 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 29ms reading results.
2024-06-29 14:44:18.284 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.285 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:44:18.297 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()
    .Where(s => s.Name == "EXPIRED")'
2024-06-29 14:44:18.303 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s
        WHERE s.Name == 'EXPIRED'), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:44:18.307 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.308 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.309 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:44:18.310 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:44:18.311 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:44:18.312 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:44:18.316 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:44:18.318 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.319 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:44:18.321 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.322 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:44:18.332 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:44:18.337 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:44:18.340 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:44:18.367 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:44:18.427 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.428 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.430 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:44:18.431 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:44:18.433 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:44:18.434 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 14:44:18.561 +03:00 [INF] Executed DbCommand (127ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 14:44:18.567 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.569 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 14:44:18.571 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.573 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:44:18.578 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:44:18.581 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 14:44:18.589 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 14:44:18.599 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:44:18.603 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.605 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.606 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:44:18.607 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:44:18.608 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:44:18.610 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:44:18.615 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:44:18.620 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.621 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:44:18.623 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.624 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:44:18.631 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 14:44:18.649 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:44:18.652 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.654 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.655 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:44:18.656 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:44:18.658 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:44:18.659 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:44:18.664 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:44:18.667 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.669 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:44:18.670 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.671 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:44:18.680 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.683 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.684 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:44:18.685 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:44:18.686 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:44:18.687 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:44:18.691 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:44:18.693 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.694 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:44:18.696 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.697 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:44:18.797 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:44:18.801 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:44:18.802 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:44:18.803 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:44:18.805 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:44:18.806 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 14:44:18.826 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 1306.2071ms
2024-06-29 14:44:18.829 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:44:18.833 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 1378.4548 ms
2024-06-29 14:44:18.836 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:44:18.838 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:44:18.840 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:44:18.844 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 1402.7327ms
2024-06-29 14:44:19.139 +03:00 [DBG] Connection id "0HN4O633PKSGQ" received FIN.
2024-06-29 14:44:19.145 +03:00 [DBG] Connection id "0HN4O633PKSGQ" is closed. The last processed stream ID was 1.
2024-06-29 14:44:19.146 +03:00 [DBG] The connection queue processing loop for 0HN4O633PKSGQ completed.
2024-06-29 14:44:19.147 +03:00 [DBG] Connection id "0HN4O633PKSGQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:44:19.165 +03:00 [DBG] Connection id "0HN4O633PKSGQ" stopped.
2024-06-29 14:45:03.437 +03:00 [DBG] Connection id "0HN4O633PKSGR" accepted.
2024-06-29 14:45:03.452 +03:00 [DBG] Connection id "0HN4O633PKSGR" started.
2024-06-29 14:45:03.456 +03:00 [DBG] Connection id "0HN4O633PKSGR" received FIN.
2024-06-29 14:45:03.466 +03:00 [DBG] Connection id "0HN4O633PKSGS" accepted.
2024-06-29 14:45:03.459 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:45:03.469 +03:00 [DBG] Connection id "0HN4O633PKSGS" started.
2024-06-29 14:45:03.474 +03:00 [DBG] Connection id "0HN4O633PKSGR" stopped.
2024-06-29 14:45:03.475 +03:00 [DBG] Connection id "0HN4O633PKSGR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:45:03.484 +03:00 [DBG] Connection 0HN4O633PKSGS established using the following protocol: "Tls12"
2024-06-29 14:45:03.487 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:45:03.491 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:45:03.493 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:45:03.495 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:45:03.496 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:45:03.498 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 14:45:03.500 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:45:03.501 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:45:03.504 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:45:03.505 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:45:03.508 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:45:03.510 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:45:03.511 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:45:03.514 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:45:03.518 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:45:03.519 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:45:03.521 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:45:03.523 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:45:03.526 +03:00 [DBG] Connection id "0HN4O633PKSGS", Request id "0HN4O633PKSGS:00000001": started reading request body.
2024-06-29 14:45:03.528 +03:00 [DBG] Connection id "0HN4O633PKSGS", Request id "0HN4O633PKSGS:00000001": done reading request body.
2024-06-29 14:45:03.529 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:45:03.530 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:45:03.532 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:45:03.533 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:45:03.536 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:45:03.649 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:45:03.832 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:45:03.843 +03:00 [DBG] Created DbConnection. (11ms).
2024-06-29 14:45:03.862 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:03.873 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:03.885 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:45:03.891 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-06-29 14:45:03.901 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-06-29 14:45:03.910 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:45:03.941 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:45:03.973 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:45:03.987 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:03.990 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 16ms reading results.
2024-06-29 14:45:03.995 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:03.997 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:45:04.106 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.108 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.109 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:45:04.110 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:45:04.112 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:45:04.114 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:45:04.120 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:45:04.124 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:45:04.126 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.127 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:45:04.129 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.130 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:45:04.133 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.135 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.136 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:45:04.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:45:04.138 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:45:04.140 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:45:04.143 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED'
2024-06-29 14:45:04.147 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.148 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:45:04.150 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.152 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:45:04.154 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:45:04.156 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:45:04.157 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:45:04.158 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:45:04.160 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.162 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.164 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:45:04.165 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:45:04.168 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 14:45:04.169 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 14:45:04.177 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 14:45:04.181 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.182 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:45:04.184 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:04.185 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:45:04.186 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:45:04.188 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 14:45:11.615 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.617 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.619 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:45:11.621 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:45:11.622 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:45:11.623 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:45:11.629 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:45:11.631 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.634 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:45:11.635 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.636 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:45:11.638 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.640 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.642 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:45:11.643 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:45:11.644 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:45:11.647 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:45:11.652 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:45:11.656 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.658 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:45:11.659 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.661 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:45:11.663 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.664 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.665 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:45:11.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:45:11.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:45:11.669 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:45:11.673 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:45:11.677 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.678 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:45:11.679 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.680 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:45:11.683 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:45:11.687 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:45:11.689 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:45:11.690 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:45:11.690 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:45:11.691 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 14:45:11.693 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 8179.003ms
2024-06-29 14:45:11.695 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:45:11.697 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 8199.5268 ms
2024-06-29 14:45:11.698 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:45:11.700 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:45:11.701 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:45:11.704 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 8216.5699ms
2024-06-29 14:45:19.150 +03:00 [DBG] Connection id "0HN4O633PKSGS" received FIN.
2024-06-29 14:45:19.159 +03:00 [DBG] Connection id "0HN4O633PKSGS" is closed. The last processed stream ID was 1.
2024-06-29 14:45:19.159 +03:00 [DBG] The connection queue processing loop for 0HN4O633PKSGS completed.
2024-06-29 14:45:19.162 +03:00 [DBG] Connection id "0HN4O633PKSGS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:45:19.169 +03:00 [DBG] Connection id "0HN4O633PKSGS" stopped.
2024-06-29 14:47:24.172 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 14:47:24.855 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 14:47:24.858 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 14:47:24.860 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 14:47:25.064 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 14:47:25.211 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:47:25.219 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:47:25.263 +03:00 [DBG] Created DbConnection. (41ms).
2024-06-29 14:47:25.266 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.272 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.504 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.510 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:47:25.519 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2024-06-29 14:47:25.522 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2024-06-29 14:47:25.530 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:47:25.554 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:47:25.557 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.565 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 14:47:25.568 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:47:25.569 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 14:47:25.570 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 14:47:25.571 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.573 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.574 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:47:25.587 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:47:25.589 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.590 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:47:25.592 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.593 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.594 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 14:47:25.595 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 14:47:25.596 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 14:47:25.597 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:47:25.599 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 14:47:25.601 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.602 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:47:25.603 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 14:47:25.604 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 14:47:25.605 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 14:47:25.606 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.608 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.609 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:47:25.611 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 14:47:25.613 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.614 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:47:25.624 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.625 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.626 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:47:25.627 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:47:25.628 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:47:25.630 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:47:25.633 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 14:47:25.638 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.639 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:47:25.641 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.642 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:47:25.652 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 14:47:25.655 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:47:25.658 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:25.660 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 14:47:25.718 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 14:47:25.828 +03:00 [DBG] Hosting starting
2024-06-29 14:47:25.850 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 14:47:25.860 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 14:47:25.864 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 14:47:25.866 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 14:47:25.872 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 14:47:25.877 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 14:47:25.878 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 14:47:25.884 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 14:47:25.890 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:47:25.893 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 14:47:25.896 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 14:47:25.899 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 14:47:25.901 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 14:47:25.904 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 14:47:25.905 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 14:47:26.008 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 14:47:26.058 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 14:47:26.059 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 14:47:26.060 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 14:47:26.061 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 14:47:26.062 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 14:47:26.063 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 14:47:26.118 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 14:47:26.119 +03:00 [INF] Hosting environment: Development
2024-06-29 14:47:26.120 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 14:47:26.122 +03:00 [DBG] Hosting started
2024-06-29 14:47:26.233 +03:00 [DBG] Connection id "0HN4O64VKHRQJ" accepted.
2024-06-29 14:47:26.235 +03:00 [DBG] Connection id "0HN4O64VKHRQJ" started.
2024-06-29 14:47:26.243 +03:00 [DBG] Connection id "0HN4O64VKHRQJ" received FIN.
2024-06-29 14:47:26.252 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:47:26.269 +03:00 [DBG] Connection id "0HN4O64VKHRQJ" stopped.
2024-06-29 14:47:26.271 +03:00 [DBG] Connection id "0HN4O64VKHRQJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:47:26.486 +03:00 [DBG] Connection id "0HN4O64VKHRQK" accepted.
2024-06-29 14:47:27.221 +03:00 [DBG] Connection id "0HN4O64VKHRQK" started.
2024-06-29 14:47:27.261 +03:00 [DBG] Connection id "0HN4O64VKHRQK" received FIN.
2024-06-29 14:47:27.262 +03:00 [DBG] Connection id "0HN4O64VKHRQL" accepted.
2024-06-29 14:47:27.263 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:47:27.263 +03:00 [DBG] Connection id "0HN4O64VKHRQL" started.
2024-06-29 14:47:27.268 +03:00 [DBG] Connection id "0HN4O64VKHRQK" stopped.
2024-06-29 14:47:27.270 +03:00 [DBG] Connection id "0HN4O64VKHRQK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:47:27.278 +03:00 [DBG] Connection 0HN4O64VKHRQL established using the following protocol: "Tls12"
2024-06-29 14:47:27.341 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 14:47:27.464 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 14:47:27.488 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 14:47:27.491 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:47:27.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 183.9933ms
2024-06-29 14:47:27.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 14:47:27.535 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 14:47:27.536 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:47:27.585 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 14:47:27.587 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 14:47:27.611 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 14:47:27.612 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 14:47:27.612 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 14:47:27.612 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 14:47:27.613 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 14:47:27.615 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 14:47:27.617 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 14:47:27.619 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 14:47:27.620 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 93.9568ms
2024-06-29 14:47:27.621 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:47:27.622 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:47:27.623 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:47:27.631 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 14:47:27.646 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 14:47:27.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 15.6162ms
2024-06-29 14:47:27.666 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 14:47:27.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 71.4994ms
2024-06-29 14:47:27.687 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 14:47:27.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 81.4339ms
2024-06-29 14:47:27.707 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 14:47:27.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.7397ms
2024-06-29 14:47:27.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 98.2191ms
2024-06-29 14:47:27.876 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 14:47:27.885 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 14:47:27.888 +03:00 [DBG] Request did not match any endpoints
2024-06-29 14:47:27.980 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.4626ms
2024-06-29 14:47:29.174 +03:00 [DBG] Connection id "0HN4O64VKHRQL" received FIN.
2024-06-29 14:47:29.177 +03:00 [DBG] Connection id "0HN4O64VKHRQL" is closed. The last processed stream ID was 15.
2024-06-29 14:47:29.178 +03:00 [DBG] The connection queue processing loop for 0HN4O64VKHRQL completed.
2024-06-29 14:47:29.178 +03:00 [DBG] Connection id "0HN4O64VKHRQL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:47:29.182 +03:00 [DBG] Connection id "0HN4O64VKHRQL" stopped.
2024-06-29 14:47:33.756 +03:00 [DBG] Connection id "0HN4O64VKHRQM" accepted.
2024-06-29 14:47:33.762 +03:00 [DBG] Connection id "0HN4O64VKHRQM" started.
2024-06-29 14:47:33.766 +03:00 [DBG] Connection id "0HN4O64VKHRQM" received FIN.
2024-06-29 14:47:33.767 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 14:47:33.768 +03:00 [DBG] Connection id "0HN4O64VKHRQN" accepted.
2024-06-29 14:47:33.773 +03:00 [DBG] Connection id "0HN4O64VKHRQM" stopped.
2024-06-29 14:47:33.774 +03:00 [DBG] Connection id "0HN4O64VKHRQN" started.
2024-06-29 14:47:33.775 +03:00 [DBG] Connection id "0HN4O64VKHRQM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:47:33.779 +03:00 [DBG] Connection 0HN4O64VKHRQN established using the following protocol: "Tls12"
2024-06-29 14:47:33.782 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 14:47:33.787 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 14:47:33.790 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 14:47:33.792 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:47:33.794 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 14:47:33.822 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 14:47:33.825 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:47:33.847 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 14:47:33.850 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 14:47:33.852 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 14:47:33.853 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 14:47:33.855 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 14:47:33.856 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 14:47:33.859 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:47:33.868 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 14:47:33.879 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:47:33.882 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 14:47:33.885 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 14:47:33.890 +03:00 [DBG] Connection id "0HN4O64VKHRQN", Request id "0HN4O64VKHRQN:00000001": started reading request body.
2024-06-29 14:47:33.891 +03:00 [DBG] Connection id "0HN4O64VKHRQN", Request id "0HN4O64VKHRQN:00000001": done reading request body.
2024-06-29 14:47:33.896 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 14:47:33.897 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:47:33.898 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:47:33.900 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 14:47:33.907 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 14:47:33.928 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 14:47:33.985 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 14:47:34.162 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 14:47:34.198 +03:00 [DBG] Creating DbConnection.
2024-06-29 14:47:34.200 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-29 14:47:34.203 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:34.207 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:34.209 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:47:34.210 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:47:34.215 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 14:47:34.220 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:47:34.257 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 14:47:34.293 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:47:34.341 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:34.343 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 80ms reading results.
2024-06-29 14:47:34.346 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:34.348 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:47:34.451 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 14:47:34.516 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (int) Required PK AfterSave:Throw, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:47:34.522 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:34.524 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:34.526 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:47:34.527 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:47:34.529 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:47:34.530 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:47:34.545 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 14:47:34.582 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:47:34.589 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:34.591 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 40ms reading results.
2024-06-29 14:47:34.593 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:34.595 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 14:47:37.033 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()
    .Where(s => s.Name.Equals("EXPIRED") && s.Model.Equals("GENERAL"))'
2024-06-29 14:47:37.042 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s
        WHERE (s.Name == 'EXPIRED') && (s.Model == 'GENERAL')), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:47:37.047 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:37.049 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:37.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:47:37.052 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:47:37.054 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:47:37.057 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED' AND [s].[Model] = 'GENERAL'
2024-06-29 14:47:37.089 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
WHERE [s].[Name] = 'EXPIRED' AND [s].[Model] = 'GENERAL'
2024-06-29 14:47:37.103 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:47:37.111 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:37.113 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 17ms reading results.
2024-06-29 14:47:37.114 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:37.116 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:47:42.965 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:47:42.970 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 14:47:42.975 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 14:47:42.994 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:47:43.007 +03:00 [DBG] The foreign key property 'Session.SystemStatusCodeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 14:47:43.038 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 14:47:43.111 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:43.113 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:43.115 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:47:43.115 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 14:47:43.118 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 14:47:43.120 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 14:47:43.130 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 14:47:43.136 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:43.137 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:47:43.139 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:43.140 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 14:47:43.144 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 14:47:43.147 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 14:47:47.030 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 14:47:47.044 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:47:47.049 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.050 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:47:47.053 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:47:47.054 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:47:47.055 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:47:47.060 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 14:47:47.063 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.064 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 14:47:47.066 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.068 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:47:47.078 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 14:47:47.101 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 14:47:47.106 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.109 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.112 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:47:47.113 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:47:47.118 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 14:47:47.119 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:47:47.127 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:47:47.133 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.137 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 14:47:47.139 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.140 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:47:47.153 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.154 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.157 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 14:47:47.158 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 14:47:47.160 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 14:47:47.161 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:47:47.167 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 14:47:47.170 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.172 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 14:47:47.173 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.175 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 14:47:47.273 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 14:47:47.277 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 14:47:47.277 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 14:47:47.278 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 14:47:47.280 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 14:47:47.282 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 14:47:47.299 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 13438.1355ms
2024-06-29 14:47:47.300 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 14:47:47.304 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 13507.0293 ms
2024-06-29 14:47:47.306 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 14:47:47.307 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 14:47:47.308 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 14:47:47.311 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 13528.3894ms
2024-06-29 14:47:49.178 +03:00 [DBG] Connection id "0HN4O64VKHRQN" received FIN.
2024-06-29 14:47:49.182 +03:00 [DBG] Connection id "0HN4O64VKHRQN" is closed. The last processed stream ID was 1.
2024-06-29 14:47:49.182 +03:00 [DBG] The connection queue processing loop for 0HN4O64VKHRQN completed.
2024-06-29 14:47:49.183 +03:00 [DBG] Connection id "0HN4O64VKHRQN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 14:47:49.193 +03:00 [DBG] Connection id "0HN4O64VKHRQN" stopped.
2024-06-29 15:44:15.452 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 15:44:16.179 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 15:44:16.182 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 15:44:16.183 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 15:44:16.346 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 15:44:16.469 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:44:16.477 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:44:16.526 +03:00 [DBG] Created DbConnection. (47ms).
2024-06-29 15:44:16.530 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:16.537 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:16.938 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:16.944 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 15:44:16.973 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (14ms).
2024-06-29 15:44:16.986 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (41ms).
2024-06-29 15:44:17.012 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:44:17.050 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:44:17.054 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.062 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 15:44:17.066 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 15:44:17.067 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 15:44:17.068 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 15:44:17.069 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.070 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.072 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:44:17.086 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:44:17.088 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.090 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:44:17.092 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.093 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.094 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 15:44:17.095 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 15:44:17.096 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 15:44:17.097 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:44:17.100 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:44:17.101 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.103 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:44:17.105 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 15:44:17.105 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 15:44:17.107 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 15:44:17.108 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.109 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.110 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:44:17.112 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:44:17.114 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.115 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:44:17.128 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.139 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.141 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:44:17.145 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-06-29 15:44:17.148 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 15:44:17.151 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 15:44:17.164 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 15:44:17.168 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.171 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 15:44:17.173 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.174 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:44:17.184 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 15:44:17.186 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 15:44:17.188 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:17.189 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 15:44:17.284 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 15:44:17.439 +03:00 [DBG] Hosting starting
2024-06-29 15:44:17.468 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 15:44:17.476 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 15:44:17.483 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 15:44:17.486 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 15:44:17.496 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 15:44:17.507 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 15:44:17.509 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 15:44:17.519 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 15:44:17.530 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 15:44:17.541 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 15:44:17.544 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 15:44:17.548 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 15:44:17.550 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 15:44:17.553 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 15:44:17.556 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 15:44:17.706 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 15:44:17.944 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 15:44:17.970 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 15:44:17.971 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 15:44:17.972 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 15:44:17.973 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 15:44:17.956 +03:00 [DBG] Connection id "0HN4O74OD953G" received FIN.
2024-06-29 15:44:17.958 +03:00 [DBG] Connection id "0HN4O74OD953H" received FIN.
2024-06-29 15:44:17.974 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 15:44:17.981 +03:00 [DBG] Connection id "0HN4O74OD953G" accepted.
2024-06-29 15:44:17.982 +03:00 [DBG] Connection id "0HN4O74OD953H" accepted.
2024-06-29 15:44:17.983 +03:00 [DBG] Connection id "0HN4O74OD953G" started.
2024-06-29 15:44:17.983 +03:00 [DBG] Connection id "0HN4O74OD953H" started.
2024-06-29 15:44:18.008 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:44:18.019 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:44:18.030 +03:00 [DBG] Connection id "0HN4O74OD953G" stopped.
2024-06-29 15:44:18.031 +03:00 [DBG] Connection id "0HN4O74OD953H" stopped.
2024-06-29 15:44:18.036 +03:00 [DBG] Connection id "0HN4O74OD953H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:44:18.037 +03:00 [DBG] Connection id "0HN4O74OD953G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:44:18.081 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 15:44:18.084 +03:00 [INF] Hosting environment: Development
2024-06-29 15:44:18.233 +03:00 [DBG] Connection id "0HN4O74OD953I" accepted.
2024-06-29 15:44:18.286 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 15:44:18.507 +03:00 [DBG] Connection id "0HN4O74OD953I" started.
2024-06-29 15:44:18.511 +03:00 [DBG] Hosting started
2024-06-29 15:44:18.660 +03:00 [DBG] Connection id "0HN4O74OD953I" received FIN.
2024-06-29 15:44:18.670 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:44:18.668 +03:00 [DBG] Connection id "0HN4O74OD953J" accepted.
2024-06-29 15:44:18.677 +03:00 [DBG] Connection id "0HN4O74OD953I" stopped.
2024-06-29 15:44:18.678 +03:00 [DBG] Connection id "0HN4O74OD953J" started.
2024-06-29 15:44:18.681 +03:00 [DBG] Connection id "0HN4O74OD953I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:44:18.732 +03:00 [DBG] Connection 0HN4O74OD953J established using the following protocol: "Tls12"
2024-06-29 15:44:18.899 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 15:44:19.008 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 15:44:19.038 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 15:44:19.052 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:19.072 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 179.8874ms
2024-06-29 15:44:19.079 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 15:44:19.089 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 15:44:19.092 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:19.148 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 15:44:19.150 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 15:44:19.180 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 15:44:19.196 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 15:44:19.194 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 15:44:19.199 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 119.5581ms
2024-06-29 15:44:19.199 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 15:44:19.205 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 15:44:19.199 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 15:44:19.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 15:44:19.219 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 15:44:19.220 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:19.226 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:19.230 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 15:44:19.222 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 15:44:19.233 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:19.250 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 32.975ms
2024-06-29 15:44:19.274 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 15:44:19.277 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 82.7151ms
2024-06-29 15:44:19.287 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 15:44:19.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 101.1589ms
2024-06-29 15:44:19.321 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 15:44:19.322 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.1586ms
2024-06-29 15:44:19.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 125.5918ms
2024-06-29 15:44:19.516 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 15:44:19.522 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 15:44:19.523 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:19.655 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 139.8424ms
2024-06-29 15:44:47.963 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 15:44:48.538 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 15:44:48.541 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 15:44:48.543 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 15:44:48.696 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 15:44:48.826 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:44:48.834 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:44:48.877 +03:00 [DBG] Created DbConnection. (40ms).
2024-06-29 15:44:48.880 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:48.885 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.100 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.106 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 15:44:49.113 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 15:44:49.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 15:44:49.122 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:44:49.144 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:44:49.148 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.155 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 15:44:49.159 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 15:44:49.160 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 15:44:49.161 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 15:44:49.162 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.164 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.166 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:44:49.178 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:44:49.181 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.183 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 15:44:49.185 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.187 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.188 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 15:44:49.189 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 15:44:49.191 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 15:44:49.192 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:44:49.194 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:44:49.196 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.198 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:44:49.199 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 15:44:49.200 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 15:44:49.201 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 15:44:49.202 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.203 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.204 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:44:49.206 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:44:49.208 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.209 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:44:49.219 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.221 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.222 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:44:49.223 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:44:49.224 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:44:49.225 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 15:44:49.228 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 15:44:49.232 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.234 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 15:44:49.236 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.237 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:44:49.247 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 15:44:49.250 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 15:44:49.252 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:44:49.255 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 15:44:49.307 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 15:44:49.413 +03:00 [DBG] Hosting starting
2024-06-29 15:44:49.433 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 15:44:49.441 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 15:44:49.446 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 15:44:49.447 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 15:44:49.452 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 15:44:49.456 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 15:44:49.458 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 15:44:49.463 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 15:44:49.468 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 15:44:49.469 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 15:44:49.472 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 15:44:49.474 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 15:44:49.476 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 15:44:49.478 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 15:44:49.479 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 15:44:49.574 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 15:44:49.623 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 15:44:49.625 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 15:44:49.626 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 15:44:49.627 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 15:44:49.629 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 15:44:49.630 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 15:44:49.678 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 15:44:49.679 +03:00 [INF] Hosting environment: Development
2024-06-29 15:44:49.681 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 15:44:49.682 +03:00 [DBG] Hosting started
2024-06-29 15:44:49.983 +03:00 [DBG] Connection id "0HN4O751UMTLG" received FIN.
2024-06-29 15:44:49.990 +03:00 [DBG] Connection id "0HN4O751UMTLG" accepted.
2024-06-29 15:44:49.991 +03:00 [DBG] Connection id "0HN4O751UMTLG" started.
2024-06-29 15:44:50.005 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:44:50.019 +03:00 [DBG] Connection id "0HN4O751UMTLG" stopped.
2024-06-29 15:44:50.023 +03:00 [DBG] Connection id "0HN4O751UMTLG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:44:50.168 +03:00 [DBG] Connection id "0HN4O751UMTLH" accepted.
2024-06-29 15:44:50.175 +03:00 [DBG] Connection id "0HN4O751UMTLH" started.
2024-06-29 15:44:50.193 +03:00 [DBG] Connection id "0HN4O751UMTLH" received FIN.
2024-06-29 15:44:50.193 +03:00 [DBG] Connection id "0HN4O751UMTLI" accepted.
2024-06-29 15:44:50.195 +03:00 [DBG] Connection id "0HN4O751UMTLI" started.
2024-06-29 15:44:50.201 +03:00 [DBG] Connection id "0HN4O751UMTLI" received FIN.
2024-06-29 15:44:50.202 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:44:50.202 +03:00 [DBG] Connection id "0HN4O751UMTLJ" accepted.
2024-06-29 15:44:50.203 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:44:50.209 +03:00 [DBG] Connection id "0HN4O751UMTLH" stopped.
2024-06-29 15:44:50.210 +03:00 [DBG] Connection id "0HN4O751UMTLJ" started.
2024-06-29 15:44:50.217 +03:00 [DBG] Connection id "0HN4O751UMTLI" stopped.
2024-06-29 15:44:50.220 +03:00 [DBG] Connection id "0HN4O751UMTLI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:44:50.218 +03:00 [DBG] Connection id "0HN4O751UMTLH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:44:50.231 +03:00 [DBG] Connection 0HN4O751UMTLJ established using the following protocol: "Tls12"
2024-06-29 15:44:50.296 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 15:44:50.387 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 15:44:50.404 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 15:44:50.405 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:50.421 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 130.5274ms
2024-06-29 15:44:50.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 15:44:50.433 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 15:44:50.433 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:50.470 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 15:44:50.472 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 15:44:50.493 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 15:44:50.493 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 15:44:50.494 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 15:44:50.494 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 15:44:50.495 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 15:44:50.497 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 15:44:50.499 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 15:44:50.501 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 15:44:50.507 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:50.504 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 78.3378ms
2024-06-29 15:44:50.505 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:50.502 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:50.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 15:44:50.527 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 15:44:50.555 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 15:44:50.558 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 15:44:50.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 31.4541ms
2024-06-29 15:44:50.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 70.6016ms
2024-06-29 15:44:50.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 69.9975ms
2024-06-29 15:44:50.591 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 15:44:50.603 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 108.967ms
2024-06-29 15:44:50.615 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 87.4546ms
2024-06-29 15:44:50.763 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 15:44:50.765 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 15:44:50.767 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:44:50.871 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.5997ms
2024-06-29 15:45:04.207 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 15:45:04.218 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 15:45:04.223 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 15:45:04.225 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:45:04.229 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 15:45:04.263 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 15:45:04.267 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:45:04.293 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 15:45:04.297 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 15:45:04.299 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 15:45:04.300 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 15:45:04.302 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 15:45:04.303 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 15:45:04.307 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:45:04.322 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:45:04.340 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:45:04.343 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 15:45:04.347 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 15:45:04.355 +03:00 [DBG] Connection id "0HN4O751UMTLJ", Request id "0HN4O751UMTLJ:00000011": started reading request body.
2024-06-29 15:45:04.356 +03:00 [DBG] Connection id "0HN4O751UMTLJ", Request id "0HN4O751UMTLJ:00000011": done reading request body.
2024-06-29 15:45:04.360 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 15:45:04.362 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:45:04.363 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:45:04.364 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:45:04.373 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:45:04.398 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:45:04.469 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 15:45:04.660 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 15:45:04.694 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:45:04.695 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 15:45:04.697 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:04.701 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:04.702 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:45:04.703 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:45:04.707 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 15:45:04.710 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:45:04.750 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:45:04.784 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:45:04.833 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:04.835 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 81ms reading results.
2024-06-29 15:45:04.838 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:04.840 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:45:04.941 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 15:45:04.990 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (int) Required PK AfterSave:Throw, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:45:04.995 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:04.996 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:04.998 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:45:04.999 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:45:05.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:45:05.001 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:45:05.006 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:45:05.034 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:45:05.041 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:05.043 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 33ms reading results.
2024-06-29 15:45:05.045 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:05.046 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:45:05.050 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()'
2024-06-29 15:45:05.054 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:45:05.059 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:05.060 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:05.062 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:45:05.063 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:45:05.064 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:45:05.065 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:45:05.070 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:45:05.079 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:45:05.089 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:45:05.093 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:45:05.095 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:05.096 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 23ms reading results.
2024-06-29 15:45:05.098 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:05.099 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:45:08.477 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:45:08.483 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 15:45:08.487 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 15:45:08.556 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 15:45:08.639 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.641 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.643 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:45:08.644 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:45:08.645 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:45:08.646 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 15:45:08.655 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 15:45:08.659 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.660 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 15:45:08.662 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.663 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 15:45:08.667 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:45:08.670 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 15:45:08.678 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 15:45:08.687 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:45:08.690 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.692 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.693 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:45:08.694 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:45:08.695 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:45:08.696 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:45:08.700 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:45:08.703 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.704 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:45:08.706 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.707 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:45:08.714 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 15:45:08.730 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:45:08.734 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.735 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.736 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:45:08.737 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:45:08.738 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:45:08.739 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:45:08.744 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:45:08.748 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.749 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:45:08.750 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.752 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:45:08.761 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.762 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.763 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:45:08.764 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:45:08.766 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:45:08.767 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:45:08.769 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:45:08.772 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.773 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:45:08.775 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.776 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:45:08.875 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.876 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.878 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:45:08.879 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:45:08.880 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:45:08.882 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:45:08.887 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:45:08.891 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.893 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 15:45:08.896 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.898 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 15:45:08.921 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:45:08.927 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 15:45:08.930 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 15:45:08.932 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 15:45:08.950 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.951 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.954 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:45:08.955 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:45:08.957 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:45:08.958 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 15:45:08.964 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 15:45:08.971 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.972 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 15:45:08.976 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:08.978 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:45:08.980 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:45:08.984 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 15:45:08.991 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 15:45:08.995 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 15:45:08.996 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 15:45:08.998 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 15:45:08.999 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 15:45:09.001 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 15:45:09.023 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 4714.6594ms
2024-06-29 15:45:09.025 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:45:09.029 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 4797.0339 ms
2024-06-29 15:45:09.031 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 15:45:09.032 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:45:09.034 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 15:45:09.038 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 4831.173ms
2024-06-29 15:46:54.587 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 15:46:54.593 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 15:46:54.594 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 15:46:54.597 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:46:54.599 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 15:46:54.601 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 15:46:54.602 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:46:54.604 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 15:46:54.607 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 15:46:54.608 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 15:46:54.609 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 15:46:54.611 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 15:46:54.612 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 15:46:54.614 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:46:54.617 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:46:54.623 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:46:54.624 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 15:46:54.626 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 15:46:54.628 +03:00 [DBG] Connection id "0HN4O751UMTLJ", Request id "0HN4O751UMTLJ:00000013": started reading request body.
2024-06-29 15:46:54.629 +03:00 [DBG] Connection id "0HN4O751UMTLJ", Request id "0HN4O751UMTLJ:00000013": done reading request body.
2024-06-29 15:46:54.630 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 15:46:54.631 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:46:54.632 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:46:54.634 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:46:54.636 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:46:54.687 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:46:54.691 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:46:54.692 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 15:46:54.692 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.693 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.694 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:46:54.696 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:46:54.697 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:46:54.698 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:46:54.703 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:46:54.705 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.707 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.708 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 15:46:54.709 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.711 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:46:54.794 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.795 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.796 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:46:54.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:46:54.798 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:46:54.799 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:46:54.803 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:46:54.806 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.808 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.810 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.811 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 15:46:54.812 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.813 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:46:54.815 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.816 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.817 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:46:54.818 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:46:54.819 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:46:54.820 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:46:54.823 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:46:54.825 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.826 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.828 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.829 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.831 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.832 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 6ms reading results.
2024-06-29 15:46:54.834 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.835 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:46:54.837 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.838 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.840 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 15:46:54.842 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 15:46:54.844 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.849 +03:00 [DBG] The foreign key property 'Session.SystemStatusCodeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 15:46:54.854 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 15:46:54.859 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 15:46:54.860 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.862 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.864 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 15:46:54.873 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 15:46:54.874 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:46:54.875 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:46:54.879 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 15:46:54.880 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int32), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 15:46:54.889 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int32), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 15:46:54.893 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.894 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:46:54.898 +03:00 [DBG] Committing transaction.
2024-06-29 15:46:54.902 +03:00 [DBG] Committed transaction.
2024-06-29 15:46:54.903 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.904 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:46:54.907 +03:00 [DBG] Disposing transaction.
2024-06-29 15:46:54.908 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.910 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:46:54.915 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 15:46:54.917 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.920 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.922 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:46:54.923 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:46:54.924 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:46:54.927 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:46:54.933 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:46:54.937 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.938 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:46:54.942 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.944 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:46:54.948 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.950 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.951 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:46:54.955 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-06-29 15:46:54.957 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 15:46:54.959 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:46:54.966 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:46:54.970 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.971 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:46:54.975 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.978 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 15:46:54.982 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.983 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:54.985 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:46:54.986 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:46:54.989 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 15:46:54.991 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:46:54.995 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:46:54.999 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:55.000 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:46:55.006 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:55.009 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 15:46:55.012 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:55.013 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:55.014 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:46:55.017 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:46:55.019 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 15:46:55.020 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:46:55.024 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:46:55.027 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:55.028 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:46:55.030 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:46:55.031 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 15:47:08.612 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 15:47:09.173 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 15:47:09.176 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 15:47:09.177 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 15:47:09.314 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 15:47:09.436 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:47:09.444 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:47:09.486 +03:00 [DBG] Created DbConnection. (39ms).
2024-06-29 15:47:09.489 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.494 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.703 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.709 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 15:47:09.715 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 15:47:09.719 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-06-29 15:47:09.724 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:47:09.746 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:47:09.750 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.757 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 15:47:09.761 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 15:47:09.762 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 15:47:09.763 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 15:47:09.764 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.765 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.767 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:47:09.779 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:47:09.782 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.784 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:09.785 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.787 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.788 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 15:47:09.789 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 15:47:09.790 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 15:47:09.791 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:47:09.793 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:47:09.795 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.797 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:09.798 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 15:47:09.799 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 15:47:09.800 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 15:47:09.801 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.802 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.803 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:47:09.806 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:47:09.807 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.809 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:09.818 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.820 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.821 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:09.822 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:47:09.823 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:09.825 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 15:47:09.829 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 15:47:09.834 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.836 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 15:47:09.838 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.839 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:09.850 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 15:47:09.853 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 15:47:09.855 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:09.858 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 15:47:09.915 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 15:47:10.021 +03:00 [DBG] Hosting starting
2024-06-29 15:47:10.040 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 15:47:10.048 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 15:47:10.053 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 15:47:10.054 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 15:47:10.058 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 15:47:10.063 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 15:47:10.065 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 15:47:10.070 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 15:47:10.075 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 15:47:10.077 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 15:47:10.079 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 15:47:10.082 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 15:47:10.083 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 15:47:10.086 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 15:47:10.087 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 15:47:10.182 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 15:47:10.219 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 15:47:10.221 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 15:47:10.222 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 15:47:10.224 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 15:47:10.224 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 15:47:10.225 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 15:47:10.270 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 15:47:10.271 +03:00 [INF] Hosting environment: Development
2024-06-29 15:47:10.272 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 15:47:10.274 +03:00 [DBG] Hosting started
2024-06-29 15:47:10.394 +03:00 [DBG] Connection id "0HN4O76BPP16P" accepted.
2024-06-29 15:47:10.396 +03:00 [DBG] Connection id "0HN4O76BPP16P" started.
2024-06-29 15:47:10.402 +03:00 [DBG] Connection id "0HN4O76BPP16Q" received FIN.
2024-06-29 15:47:10.404 +03:00 [DBG] Connection id "0HN4O76BPP16Q" accepted.
2024-06-29 15:47:10.405 +03:00 [DBG] Connection id "0HN4O76BPP16P" received FIN.
2024-06-29 15:47:10.405 +03:00 [DBG] Connection id "0HN4O76BPP16Q" started.
2024-06-29 15:47:10.410 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:47:10.413 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:47:10.422 +03:00 [DBG] Connection id "0HN4O76BPP16Q" stopped.
2024-06-29 15:47:10.423 +03:00 [DBG] Connection id "0HN4O76BPP16P" stopped.
2024-06-29 15:47:10.426 +03:00 [DBG] Connection id "0HN4O76BPP16P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:47:10.426 +03:00 [DBG] Connection id "0HN4O76BPP16Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:47:10.619 +03:00 [DBG] Connection id "0HN4O76BPP16R" accepted.
2024-06-29 15:47:10.641 +03:00 [DBG] Connection id "0HN4O76BPP16R" started.
2024-06-29 15:47:10.674 +03:00 [DBG] Connection id "0HN4O76BPP16R" received FIN.
2024-06-29 15:47:10.675 +03:00 [DBG] Connection id "0HN4O76BPP16S" accepted.
2024-06-29 15:47:10.676 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:47:10.678 +03:00 [DBG] Connection id "0HN4O76BPP16S" started.
2024-06-29 15:47:10.683 +03:00 [DBG] Connection id "0HN4O76BPP16R" stopped.
2024-06-29 15:47:10.685 +03:00 [DBG] Connection id "0HN4O76BPP16R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:47:10.686 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:47:10.686 +03:00 [DBG] Connection id "0HN4O76BPP16S" received FIN.
2024-06-29 15:47:10.687 +03:00 [DBG] Connection id "0HN4O76BPP16T" accepted.
2024-06-29 15:47:10.692 +03:00 [DBG] Connection id "0HN4O76BPP16S" stopped.
2024-06-29 15:47:10.694 +03:00 [DBG] Connection id "0HN4O76BPP16T" started.
2024-06-29 15:47:10.695 +03:00 [DBG] Connection id "0HN4O76BPP16S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:47:10.707 +03:00 [DBG] Connection 0HN4O76BPP16T established using the following protocol: "Tls12"
2024-06-29 15:47:10.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 15:47:10.943 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 15:47:11.019 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 15:47:11.022 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:47:11.044 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 270.7497ms
2024-06-29 15:47:11.050 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 15:47:11.056 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 15:47:11.058 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:47:11.104 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 15:47:11.106 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 15:47:11.126 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 15:47:11.127 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 15:47:11.127 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 77.4614ms
2024-06-29 15:47:11.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 15:47:11.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 15:47:11.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 15:47:11.134 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 15:47:11.136 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 15:47:11.138 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 15:47:11.139 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:47:11.142 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:47:11.143 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:47:11.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 15:47:11.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 15:47:11.182 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 15:47:11.185 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 54.9501ms
2024-06-29 15:47:11.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 33.1169ms
2024-06-29 15:47:11.192 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 15:47:11.200 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 70.416ms
2024-06-29 15:47:11.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.9566ms
2024-06-29 15:47:11.221 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 15:47:11.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 96.0462ms
2024-06-29 15:47:11.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 15:47:11.387 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 15:47:11.389 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:47:11.515 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.5393ms
2024-06-29 15:47:20.313 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 15:47:20.323 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 15:47:20.326 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 15:47:20.329 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:47:20.331 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 15:47:20.363 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 15:47:20.366 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:47:20.386 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 15:47:20.390 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 15:47:20.392 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 15:47:20.394 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 15:47:20.396 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 15:47:20.397 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 15:47:20.400 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:47:20.409 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:47:20.421 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:47:20.426 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 15:47:20.430 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 15:47:20.436 +03:00 [DBG] Connection id "0HN4O76BPP16T", Request id "0HN4O76BPP16T:00000011": started reading request body.
2024-06-29 15:47:20.439 +03:00 [DBG] Connection id "0HN4O76BPP16T", Request id "0HN4O76BPP16T:00000011": done reading request body.
2024-06-29 15:47:20.443 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 15:47:20.446 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:47:20.447 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:47:20.448 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:47:20.456 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:47:20.478 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:47:20.544 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 15:47:20.724 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 15:47:20.767 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:47:20.768 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 15:47:20.771 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:20.775 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:20.776 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:20.777 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:47:20.782 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 15:47:20.786 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:47:20.818 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:47:20.853 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:20.896 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:20.898 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 75ms reading results.
2024-06-29 15:47:20.901 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:20.904 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (3ms).
2024-06-29 15:47:20.999 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 15:47:21.047 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (int) Required PK AfterSave:Throw, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:47:21.051 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.052 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.054 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:21.055 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:47:21.056 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:21.058 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:47:21.065 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:47:21.091 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.097 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.099 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.100 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 32ms reading results.
2024-06-29 15:47:21.102 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.103 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:21.107 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()'
2024-06-29 15:47:21.110 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:47:21.116 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.117 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.119 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:21.120 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:47:21.121 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:21.122 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:47:21.125 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:47:21.134 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.143 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.147 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.149 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.151 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.152 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.153 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 25ms reading results.
2024-06-29 15:47:21.155 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.156 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:21.166 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.169 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.172 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 15:47:21.174 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 15:47:21.204 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 15:47:21.266 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 15:47:21.269 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.271 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.274 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 15:47:21.280 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 15:47:21.283 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:21.284 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:47:21.286 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:21.288 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int32), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 15:47:21.296 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int32), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 15:47:21.302 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.303 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 15:47:21.306 +03:00 [DBG] Committing transaction.
2024-06-29 15:47:21.310 +03:00 [DBG] Committed transaction.
2024-06-29 15:47:21.312 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.313 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:21.315 +03:00 [DBG] Disposing transaction.
2024-06-29 15:47:21.319 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.322 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:21.325 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 15:47:21.331 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 15:47:21.343 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:47:21.347 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.349 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.350 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:21.351 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:47:21.353 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:21.354 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:47:21.359 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:47:21.362 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.363 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:47:21.365 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.366 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:21.374 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 15:47:21.392 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:47:21.398 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.399 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.400 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:21.401 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:47:21.403 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:21.405 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:47:21.410 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:47:21.414 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.415 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:47:21.417 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.419 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:21.429 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.431 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.433 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:21.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:47:21.435 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:21.436 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:47:21.440 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:47:21.443 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.445 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:47:21.449 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.451 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:21.547 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.549 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.551 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:21.553 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:47:21.554 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:21.555 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:47:21.559 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:47:21.562 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.563 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:47:21.565 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:21.567 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:31.131 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 15:47:31.135 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 15:47:31.136 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 15:47:31.137 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 15:47:31.139 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 15:47:31.141 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 15:47:31.154 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 10752.0935ms
2024-06-29 15:47:31.156 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:47:31.159 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 10825.8450 ms
2024-06-29 15:47:31.161 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 15:47:31.162 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:31.163 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 15:47:31.166 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 10852.9002ms
2024-06-29 15:47:32.381 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 15:47:32.386 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 15:47:32.388 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 15:47:32.390 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:47:32.391 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 15:47:32.393 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 15:47:32.393 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:47:32.395 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 15:47:32.397 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 15:47:32.398 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 15:47:32.399 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 15:47:32.401 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 15:47:32.402 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 15:47:32.404 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:47:32.407 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:47:32.409 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:47:32.410 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 15:47:32.411 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 15:47:32.413 +03:00 [DBG] Connection id "0HN4O76BPP16T", Request id "0HN4O76BPP16T:00000013": started reading request body.
2024-06-29 15:47:32.413 +03:00 [DBG] Connection id "0HN4O76BPP16T", Request id "0HN4O76BPP16T:00000013": done reading request body.
2024-06-29 15:47:32.414 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 15:47:32.416 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:47:32.417 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:47:32.418 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:47:32.419 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:47:32.468 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:47:32.471 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:47:32.472 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 15:47:32.473 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.474 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.475 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:32.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:47:32.477 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:47:32.479 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:47:32.482 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:47:32.485 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.487 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.488 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 15:47:32.489 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.490 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:32.573 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.575 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.577 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:32.579 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:47:32.580 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:32.581 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:47:32.585 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:47:32.588 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.590 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.592 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.594 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 6ms reading results.
2024-06-29 15:47:32.595 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.597 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:32.599 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.600 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:32.603 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:47:32.604 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:32.607 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:47:32.609 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:47:32.612 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.615 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.617 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.618 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.620 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.622 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.623 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 11ms reading results.
2024-06-29 15:47:32.626 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.628 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:32.629 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.633 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.636 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 15:47:32.638 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 15:47:32.641 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 15:47:32.643 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 15:47:32.645 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.647 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.648 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 15:47:32.649 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 15:47:32.650 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:32.651 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:47:32.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:32.655 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int32), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 15:47:32.659 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int32), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 15:47:32.662 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.663 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:47:32.665 +03:00 [DBG] Committing transaction.
2024-06-29 15:47:32.666 +03:00 [DBG] Committed transaction.
2024-06-29 15:47:32.667 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.669 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 15:47:32.671 +03:00 [DBG] Disposing transaction.
2024-06-29 15:47:32.671 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.674 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:47:32.676 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 15:47:32.678 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.679 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.680 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:32.682 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:47:32.683 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:32.684 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:47:32.687 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:47:32.690 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.691 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:47:32.693 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.695 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:32.697 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.698 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.699 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:32.701 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:47:32.702 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:32.703 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:47:32.707 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:47:32.711 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.712 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:47:32.714 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.715 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:32.717 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.719 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.719 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:32.720 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:47:32.722 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:32.723 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:47:32.726 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:47:32.729 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.731 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:47:32.732 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:32.733 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:47:34.946 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:34.949 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:34.951 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:47:34.953 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:47:34.956 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 15:47:34.957 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:47:34.962 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:47:34.965 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:34.966 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:47:34.967 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:47:34.969 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:48:03.403 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 15:48:03.411 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 15:48:03.412 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 15:48:03.417 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 15:48:03.418 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 15:48:03.419 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 15:48:03.422 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 31018.5444ms
2024-06-29 15:48:03.423 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:48:03.424 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 31032.2006 ms
2024-06-29 15:48:03.426 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 15:48:03.428 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:03.429 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 15:48:03.431 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 31049.881ms
2024-06-29 15:48:10.649 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 15:48:10.653 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 15:48:10.655 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 15:48:10.658 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:48:10.660 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 15:48:10.662 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 15:48:10.665 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:48:10.667 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 15:48:10.669 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 15:48:10.671 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 15:48:10.672 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 15:48:10.674 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 15:48:10.676 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 15:48:10.677 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:48:10.690 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:48:10.692 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:48:10.693 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 15:48:10.695 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 15:48:10.696 +03:00 [DBG] Connection id "0HN4O76BPP16T", Request id "0HN4O76BPP16T:00000015": started reading request body.
2024-06-29 15:48:10.698 +03:00 [DBG] Connection id "0HN4O76BPP16T", Request id "0HN4O76BPP16T:00000015": done reading request body.
2024-06-29 15:48:10.699 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 15:48:10.700 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:48:10.701 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:48:10.702 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:48:10.703 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:48:10.705 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:48:10.708 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:48:10.709 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 15:48:10.710 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:10.712 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:10.713 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:48:10.714 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:48:10.715 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:48:10.716 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:48:10.718 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:48:10.721 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:48:10.723 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:10.723 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 15:48:10.725 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:10.726 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:48:10.805 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:10.807 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:10.808 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:48:10.809 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:48:10.810 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:48:10.812 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:48:10.814 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:48:10.817 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:48:10.818 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:48:10.819 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:10.820 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 15:48:10.822 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:10.823 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 15:48:17.632 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:17.634 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:17.635 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:48:17.637 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:48:17.639 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 15:48:17.640 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:48:17.643 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:48:17.646 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:48:17.648 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:48:17.650 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:48:17.652 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:48:17.653 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:48:17.655 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:17.656 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 9ms reading results.
2024-06-29 15:48:17.657 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:17.659 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:48:52.585 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 15:48:53.179 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 15:48:53.182 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 15:48:53.184 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 15:48:53.335 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 15:48:53.461 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:48:53.469 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:48:53.512 +03:00 [DBG] Created DbConnection. (40ms).
2024-06-29 15:48:53.516 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.520 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.736 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.742 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 15:48:53.749 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 15:48:53.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 15:48:53.758 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:48:53.781 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:48:53.785 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.793 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 15:48:53.797 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 15:48:53.798 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 15:48:53.799 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 15:48:53.800 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.802 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.803 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:48:53.815 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:48:53.818 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.819 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:48:53.821 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.823 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.824 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 15:48:53.825 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 15:48:53.826 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 15:48:53.828 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:48:53.831 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 15:48:53.833 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.834 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:48:53.836 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 15:48:53.837 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 15:48:53.838 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 15:48:53.839 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.840 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.841 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:48:53.843 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 15:48:53.845 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.846 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:48:53.855 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.857 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.858 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:48:53.859 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:48:53.860 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:48:53.861 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 15:48:53.864 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 15:48:53.868 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.870 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 15:48:53.872 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.873 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 15:48:53.882 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 15:48:53.885 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 15:48:53.887 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:48:53.889 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 15:48:53.940 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 15:48:54.046 +03:00 [DBG] Hosting starting
2024-06-29 15:48:54.067 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 15:48:54.074 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 15:48:54.079 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 15:48:54.080 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 15:48:54.084 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 15:48:54.089 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 15:48:54.090 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 15:48:54.095 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 15:48:54.100 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 15:48:54.102 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 15:48:54.104 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 15:48:54.106 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 15:48:54.108 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 15:48:54.110 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 15:48:54.111 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 15:48:54.206 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 15:48:54.257 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 15:48:54.258 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 15:48:54.261 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 15:48:54.263 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 15:48:54.266 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 15:48:54.267 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 15:48:54.316 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 15:48:54.317 +03:00 [INF] Hosting environment: Development
2024-06-29 15:48:54.318 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 15:48:54.320 +03:00 [DBG] Hosting started
2024-06-29 15:48:54.552 +03:00 [DBG] Connection id "0HN4O77AR3H8L" accepted.
2024-06-29 15:48:54.555 +03:00 [DBG] Connection id "0HN4O77AR3H8L" started.
2024-06-29 15:48:54.562 +03:00 [DBG] Connection id "0HN4O77AR3H8L" received FIN.
2024-06-29 15:48:54.562 +03:00 [DBG] Connection id "0HN4O77AR3H8M" received FIN.
2024-06-29 15:48:54.564 +03:00 [DBG] Connection id "0HN4O77AR3H8M" accepted.
2024-06-29 15:48:54.566 +03:00 [DBG] Connection id "0HN4O77AR3H8M" started.
2024-06-29 15:48:54.567 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:48:54.568 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:48:54.592 +03:00 [DBG] Connection id "0HN4O77AR3H8M" stopped.
2024-06-29 15:48:54.592 +03:00 [DBG] Connection id "0HN4O77AR3H8L" stopped.
2024-06-29 15:48:54.595 +03:00 [DBG] Connection id "0HN4O77AR3H8M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:48:54.596 +03:00 [DBG] Connection id "0HN4O77AR3H8L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:48:54.817 +03:00 [DBG] Connection id "0HN4O77AR3H8N" accepted.
2024-06-29 15:48:54.849 +03:00 [DBG] Connection id "0HN4O77AR3H8N" started.
2024-06-29 15:48:54.912 +03:00 [DBG] Connection id "0HN4O77AR3H8N" received FIN.
2024-06-29 15:48:54.913 +03:00 [DBG] Connection id "0HN4O77AR3H8O" accepted.
2024-06-29 15:48:54.918 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:48:54.920 +03:00 [DBG] Connection id "0HN4O77AR3H8O" started.
2024-06-29 15:48:54.925 +03:00 [DBG] Connection id "0HN4O77AR3H8N" stopped.
2024-06-29 15:48:54.929 +03:00 [DBG] Connection id "0HN4O77AR3H8N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:48:54.929 +03:00 [DBG] Connection id "0HN4O77AR3H8O" received FIN.
2024-06-29 15:48:54.931 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:48:54.931 +03:00 [DBG] Connection id "0HN4O77AR3H8P" accepted.
2024-06-29 15:48:54.938 +03:00 [DBG] Connection id "0HN4O77AR3H8O" stopped.
2024-06-29 15:48:54.938 +03:00 [DBG] Connection id "0HN4O77AR3H8P" started.
2024-06-29 15:48:54.940 +03:00 [DBG] Connection id "0HN4O77AR3H8O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:48:54.950 +03:00 [DBG] Connection 0HN4O77AR3H8P established using the following protocol: "Tls12"
2024-06-29 15:48:55.014 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 15:48:55.141 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 15:48:55.162 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 15:48:55.164 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:48:55.189 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 178.9549ms
2024-06-29 15:48:55.194 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 15:48:55.202 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 15:48:55.203 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:48:55.252 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 15:48:55.255 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 15:48:55.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 15:48:55.285 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 15:48:55.286 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 15:48:55.287 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:48:55.287 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 15:48:55.300 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 15:48:55.288 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 15:48:55.308 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:48:55.310 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 116.3143ms
2024-06-29 15:48:55.287 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 15:48:55.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 15:48:55.319 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 15:48:55.323 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:48:55.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 15:48:55.328 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 11.4884ms
2024-06-29 15:48:55.329 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 15:48:55.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 52.2849ms
2024-06-29 15:48:55.358 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 15:48:55.366 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 15:48:55.368 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 81.0988ms
2024-06-29 15:48:55.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 82.5182ms
2024-06-29 15:48:55.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.5422ms
2024-06-29 15:48:55.563 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 15:48:55.568 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 15:48:55.569 +03:00 [DBG] Request did not match any endpoints
2024-06-29 15:48:55.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 284.0691ms
2024-06-29 15:48:59.851 +03:00 [DBG] Connection id "0HN4O77AR3H8P" received FIN.
2024-06-29 15:48:59.855 +03:00 [DBG] Connection id "0HN4O77AR3H8P" is closed. The last processed stream ID was 15.
2024-06-29 15:48:59.855 +03:00 [DBG] The connection queue processing loop for 0HN4O77AR3H8P completed.
2024-06-29 15:48:59.856 +03:00 [DBG] Connection id "0HN4O77AR3H8P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:48:59.862 +03:00 [DBG] Connection id "0HN4O77AR3H8P" stopped.
2024-06-29 15:49:04.362 +03:00 [DBG] Connection id "0HN4O77AR3H8Q" accepted.
2024-06-29 15:49:04.364 +03:00 [DBG] Connection id "0HN4O77AR3H8Q" started.
2024-06-29 15:49:04.367 +03:00 [DBG] Connection id "0HN4O77AR3H8Q" received FIN.
2024-06-29 15:49:04.369 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:49:04.370 +03:00 [DBG] Connection id "0HN4O77AR3H8R" accepted.
2024-06-29 15:49:04.376 +03:00 [DBG] Connection id "0HN4O77AR3H8Q" stopped.
2024-06-29 15:49:04.377 +03:00 [DBG] Connection id "0HN4O77AR3H8R" started.
2024-06-29 15:49:04.378 +03:00 [DBG] Connection id "0HN4O77AR3H8Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:49:04.382 +03:00 [DBG] Connection 0HN4O77AR3H8R established using the following protocol: "Tls12"
2024-06-29 15:49:04.385 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 15:49:04.391 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 15:49:04.393 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 15:49:04.396 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:49:04.397 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 15:49:04.427 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 15:49:04.430 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:49:04.452 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 15:49:04.455 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 15:49:04.457 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 15:49:04.458 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 15:49:04.460 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 15:49:04.461 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 15:49:04.465 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:49:04.474 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:49:04.485 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:49:04.488 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 15:49:04.491 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 15:49:04.496 +03:00 [DBG] Connection id "0HN4O77AR3H8R", Request id "0HN4O77AR3H8R:00000001": started reading request body.
2024-06-29 15:49:04.498 +03:00 [DBG] Connection id "0HN4O77AR3H8R", Request id "0HN4O77AR3H8R:00000001": done reading request body.
2024-06-29 15:49:04.503 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 15:49:04.504 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:49:04.505 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:49:04.506 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:49:04.515 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:49:04.535 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:49:04.600 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 15:49:04.828 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 15:49:04.874 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:49:04.876 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 15:49:04.879 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:04.883 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:04.885 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:49:04.886 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:49:04.891 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 15:49:04.896 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:49:04.938 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:49:04.982 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:05.034 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:05.036 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 92ms reading results.
2024-06-29 15:49:05.039 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:05.041 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 15:49:05.146 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 15:49:05.210 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (int) Required PK AfterSave:Throw, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:49:05.216 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:05.217 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:05.218 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:49:05.219 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:49:05.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 15:49:05.223 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:49:05.236 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:49:05.266 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:05.272 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:05.273 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:05.274 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 35ms reading results.
2024-06-29 15:49:05.277 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:05.279 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 15:49:08.636 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()'
2024-06-29 15:49:08.642 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:49:08.647 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:08.649 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:08.651 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:49:08.652 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:49:08.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:49:08.655 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:49:08.659 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:49:08.668 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:08.677 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:08.682 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:08.684 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:08.685 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:08.687 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:08.688 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 26ms reading results.
2024-06-29 15:49:08.689 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:08.691 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:49:14.434 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:14.437 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:14.441 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 15:49:14.444 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 15:49:14.473 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 15:49:14.538 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 15:49:14.541 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.542 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.545 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 15:49:14.551 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 15:49:14.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:49:14.555 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:49:14.557 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:49:14.558 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int32), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 15:49:14.569 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int32), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 15:49:14.574 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.576 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 15:49:14.580 +03:00 [DBG] Committing transaction.
2024-06-29 15:49:14.584 +03:00 [DBG] Committed transaction.
2024-06-29 15:49:14.586 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.587 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 15:49:14.589 +03:00 [DBG] Disposing transaction.
2024-06-29 15:49:14.592 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:14.594 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:49:14.597 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 15:49:14.603 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 15:49:14.615 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:49:14.619 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.621 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.622 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:49:14.622 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:49:14.624 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:49:14.625 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:49:14.629 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:49:14.632 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.634 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:49:14.636 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.637 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:49:14.646 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 15:49:14.666 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 15:49:14.672 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.673 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.674 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:49:14.675 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:49:14.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:49:14.677 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:49:14.683 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:49:14.686 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.687 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:49:14.688 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.689 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:49:14.700 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.702 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.704 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:49:14.705 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:49:14.707 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:49:14.708 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:49:14.713 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:49:14.718 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.719 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:49:14.721 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:14.722 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:49:17.015 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:17.017 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:17.019 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:49:17.020 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:49:17.022 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:49:17.022 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:49:17.027 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:49:17.030 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:17.030 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:49:17.033 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:49:17.034 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:53:13.010 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 15:53:13.014 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 15:53:13.015 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 15:53:13.016 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 15:53:13.018 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 15:53:13.019 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 15:53:13.030 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 248563.9137ms
2024-06-29 15:53:13.032 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:53:13.035 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 248635.3615 ms
2024-06-29 15:53:13.037 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 15:53:13.043 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:13.044 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 15:53:13.047 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 248661.7522ms
2024-06-29 15:53:14.901 +03:00 [DBG] Connection id "0HN4O77AR3H8R" received FIN.
2024-06-29 15:53:14.903 +03:00 [DBG] Connection id "0HN4O77AR3H8R" is closed. The last processed stream ID was 1.
2024-06-29 15:53:14.904 +03:00 [DBG] The connection queue processing loop for 0HN4O77AR3H8R completed.
2024-06-29 15:53:14.905 +03:00 [DBG] Connection id "0HN4O77AR3H8R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:53:14.911 +03:00 [DBG] Connection id "0HN4O77AR3H8R" stopped.
2024-06-29 15:53:17.289 +03:00 [DBG] Connection id "0HN4O77AR3H8S" accepted.
2024-06-29 15:53:17.290 +03:00 [DBG] Connection id "0HN4O77AR3H8S" started.
2024-06-29 15:53:17.294 +03:00 [DBG] Connection id "0HN4O77AR3H8S" received FIN.
2024-06-29 15:53:17.295 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 15:53:17.295 +03:00 [DBG] Connection id "0HN4O77AR3H8T" accepted.
2024-06-29 15:53:17.302 +03:00 [DBG] Connection id "0HN4O77AR3H8S" stopped.
2024-06-29 15:53:17.303 +03:00 [DBG] Connection id "0HN4O77AR3H8T" started.
2024-06-29 15:53:17.304 +03:00 [DBG] Connection id "0HN4O77AR3H8S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:53:17.309 +03:00 [DBG] Connection 0HN4O77AR3H8T established using the following protocol: "Tls12"
2024-06-29 15:53:17.311 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 15:53:17.315 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 15:53:17.318 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 15:53:17.319 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:53:17.320 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 15:53:17.322 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 15:53:17.323 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:53:17.325 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 15:53:17.326 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 15:53:17.328 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 15:53:17.329 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 15:53:17.331 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 15:53:17.332 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 15:53:17.334 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:53:17.337 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 15:53:17.339 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:53:17.341 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 15:53:17.342 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 15:53:17.344 +03:00 [DBG] Connection id "0HN4O77AR3H8T", Request id "0HN4O77AR3H8T:00000001": started reading request body.
2024-06-29 15:53:17.345 +03:00 [DBG] Connection id "0HN4O77AR3H8T", Request id "0HN4O77AR3H8T:00000001": done reading request body.
2024-06-29 15:53:17.346 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 15:53:17.347 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:53:17.348 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:53:17.349 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 15:53:17.351 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 15:53:17.401 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 15:53:17.405 +03:00 [DBG] Creating DbConnection.
2024-06-29 15:53:17.406 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 15:53:17.407 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:17.409 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:17.410 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:53:17.411 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:53:17.412 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:53:17.413 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:53:17.418 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 15:53:17.420 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:53:17.422 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:17.423 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 15:53:17.424 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:17.425 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 15:53:17.505 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:17.507 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:17.508 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:53:17.509 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:53:17.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:53:17.512 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:53:17.516 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 15:53:17.519 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:53:17.520 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:17.521 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 15:53:17.523 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:17.524 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:53:20.051 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:20.057 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:20.058 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:53:20.059 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:53:20.060 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:53:20.061 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:53:20.064 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:53:20.067 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:53:20.068 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:53:20.069 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:53:20.071 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:53:20.073 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:20.074 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 7ms reading results.
2024-06-29 15:53:20.075 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:20.077 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:53:30.666 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:53:30.669 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 15:53:30.671 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 15:53:30.673 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 15:53:30.675 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.676 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.677 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:53:30.678 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:53:30.679 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:53:30.680 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 15:53:30.689 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 15:53:30.691 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.692 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:53:30.694 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.695 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 15:53:30.696 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 15:53:30.698 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 15:53:30.701 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.702 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.703 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:53:30.704 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:53:30.705 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:53:30.706 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:53:30.709 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 15:53:30.712 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.714 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 15:53:30.715 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.716 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 15:53:30.718 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.719 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.721 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:53:30.722 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 15:53:30.723 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:53:30.724 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:53:30.730 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:53:30.734 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.735 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:53:30.737 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.738 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 15:53:30.739 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.742 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.744 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:53:30.745 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:53:30.746 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:53:30.748 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:53:30.751 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 15:53:30.753 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.754 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-06-29 15:53:30.756 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:30.757 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 15:53:34.628 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:34.630 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:34.633 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 15:53:34.634 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 15:53:34.635 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 15:53:34.637 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:53:34.641 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 15:53:34.643 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:34.644 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 15:53:34.646 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:34.648 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 15:53:59.798 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 15:53:59.802 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 15:53:59.802 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 15:53:59.804 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 15:53:59.805 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 15:53:59.807 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 15:53:59.809 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 42475.8355ms
2024-06-29 15:53:59.817 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 15:53:59.817 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 42496.6686 ms
2024-06-29 15:53:59.820 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 15:53:59.821 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 15:53:59.822 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 15:53:59.824 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 42512.3753ms
2024-06-29 15:54:04.913 +03:00 [DBG] Connection id "0HN4O77AR3H8T" received FIN.
2024-06-29 15:54:04.915 +03:00 [DBG] Connection id "0HN4O77AR3H8T" is closed. The last processed stream ID was 1.
2024-06-29 15:54:04.916 +03:00 [DBG] The connection queue processing loop for 0HN4O77AR3H8T completed.
2024-06-29 15:54:04.917 +03:00 [DBG] Connection id "0HN4O77AR3H8T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 15:54:04.928 +03:00 [DBG] Connection id "0HN4O77AR3H8T" stopped.
2024-06-29 16:04:23.469 +03:00 [DBG] Connection id "0HN4O77AR3H8U" accepted.
2024-06-29 16:04:23.478 +03:00 [DBG] Connection id "0HN4O77AR3H8U" started.
2024-06-29 16:04:23.484 +03:00 [DBG] Connection id "0HN4O77AR3H8U" received FIN.
2024-06-29 16:04:23.488 +03:00 [DBG] Connection id "0HN4O77AR3H8V" accepted.
2024-06-29 16:04:23.488 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:04:23.490 +03:00 [DBG] Connection id "0HN4O77AR3H8V" started.
2024-06-29 16:04:23.495 +03:00 [DBG] Connection id "0HN4O77AR3H8U" stopped.
2024-06-29 16:04:23.497 +03:00 [DBG] Connection id "0HN4O77AR3H8U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:04:23.500 +03:00 [DBG] Connection 0HN4O77AR3H8V established using the following protocol: "Tls12"
2024-06-29 16:04:23.502 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 16:04:23.504 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:04:23.505 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:04:23.508 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:04:23.509 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:04:23.511 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 16:04:23.512 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:04:23.513 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:04:23.515 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:04:23.516 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:04:23.517 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:04:23.519 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:04:23.520 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:04:23.522 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:04:23.535 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:04:23.537 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:04:23.538 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:04:23.540 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:04:23.541 +03:00 [DBG] Connection id "0HN4O77AR3H8V", Request id "0HN4O77AR3H8V:00000001": started reading request body.
2024-06-29 16:04:23.542 +03:00 [DBG] Connection id "0HN4O77AR3H8V", Request id "0HN4O77AR3H8V:00000001": done reading request body.
2024-06-29 16:04:23.543 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:04:23.544 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:04:23.545 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:04:23.546 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:04:23.548 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:04:23.550 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:04:23.552 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:04:23.554 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 16:04:23.554 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:23.566 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:23.568 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:23.569 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:04:23.570 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:23.571 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:04:23.576 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:04:23.579 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:23.580 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:23.581 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:04:23.583 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:23.584 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:04:23.663 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:23.666 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:23.667 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:23.668 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:04:23.669 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:23.670 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:04:23.674 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:04:23.677 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:23.678 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:23.680 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:04:23.681 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:23.682 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:27.431 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.434 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.436 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:27.437 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:27.439 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:04:27.440 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:04:27.443 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:04:27.447 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:27.448 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:27.450 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:27.452 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:27.454 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.456 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 9ms reading results.
2024-06-29 16:04:27.458 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.459 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:27.462 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:27.464 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:04:27.465 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:04:27.466 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:04:27.468 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.469 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.470 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:27.472 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:27.473 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:04:27.475 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 16:04:27.481 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 16:04:27.484 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.485 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-06-29 16:04:27.486 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.488 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:27.489 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:27.492 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:04:27.493 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.495 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.497 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:27.498 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:27.500 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:04:27.502 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:04:27.506 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:04:27.512 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.513 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:04:27.515 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.516 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:27.518 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.520 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.521 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:27.522 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:04:27.524 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:04:27.525 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:04:27.530 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:04:27.532 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.533 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:04:27.535 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.536 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:27.538 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.539 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.540 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:27.541 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:04:27.542 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:04:27.544 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:04:27.546 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:04:27.549 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.550 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:04:27.552 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:27.553 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:04:29.183 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:29.185 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:29.186 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:29.187 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:29.188 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:04:29.189 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:04:29.192 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:04:29.194 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:29.195 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-06-29 16:04:29.196 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:29.197 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:04:29.201 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:29.204 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:04:29.206 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:04:29.208 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:04:29.222 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:29.224 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:29.227 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:29.227 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:04:29.229 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:04:29.230 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 16:04:29.241 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 16:04:29.252 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:29.254 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 16:04:29.256 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:29.259 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:04:29.263 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:29.268 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:04:29.270 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:04:29.273 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:04:29.273 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:04:29.275 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:04:29.276 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:04:29.277 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 16:04:29.289 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 5767.2945ms
2024-06-29 16:04:29.291 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:04:29.292 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 5782.8229 ms
2024-06-29 16:04:29.302 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:04:29.303 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:29.304 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:04:29.305 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 5803.2955ms
2024-06-29 16:04:49.721 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 16:04:49.727 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:04:49.728 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:04:49.731 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:04:49.734 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:04:49.736 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 16:04:49.738 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:04:49.740 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:04:49.743 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:04:49.744 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:04:49.745 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:04:49.748 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:04:49.749 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:04:49.750 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:04:49.752 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:04:49.753 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:04:49.754 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:04:49.755 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:04:49.757 +03:00 [DBG] Connection id "0HN4O77AR3H8V", Request id "0HN4O77AR3H8V:00000003": started reading request body.
2024-06-29 16:04:49.758 +03:00 [DBG] Connection id "0HN4O77AR3H8V", Request id "0HN4O77AR3H8V:00000003": done reading request body.
2024-06-29 16:04:49.759 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:04:49.760 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:04:49.763 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:04:49.765 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:04:49.766 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:04:49.768 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:04:49.770 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:04:49.771 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:04:49.772 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:49.773 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:49.774 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:49.776 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:49.777 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:04:49.778 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:04:49.783 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:04:49.785 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:49.786 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:49.787 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:04:49.789 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:49.790 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:49.871 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:49.872 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:49.873 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:49.874 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:04:49.875 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:49.876 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:04:49.880 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:04:49.882 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:49.883 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:04:49.885 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:49.886 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:53.106 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.108 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.110 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:53.113 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:04:53.115 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 16:04:53.117 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:04:53.123 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:04:53.127 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:53.130 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:53.132 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:53.135 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.136 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 8ms reading results.
2024-06-29 16:04:53.137 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.140 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:04:53.142 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:04:53.143 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:04:53.144 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:04:53.145 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 0 entities written to the database.
2024-06-29 16:04:53.148 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.150 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.151 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:53.152 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:53.154 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:04:53.155 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:04:53.159 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:04:53.164 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.165 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:04:53.168 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.169 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:53.171 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.172 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.173 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:53.175 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:04:53.177 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 16:04:53.179 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:04:53.185 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:04:53.187 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.189 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:04:53.191 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.193 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:53.196 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.197 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.198 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:53.199 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:04:53.200 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:04:53.201 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:04:53.205 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:04:53.208 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.210 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:04:53.212 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:53.213 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:04:54.862 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:54.866 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:54.867 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:54.868 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:04:54.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:54.871 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:04:54.874 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:04:54.875 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:54.877 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:04:54.879 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:54.880 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:04:54.881 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:54.883 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:04:54.884 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:04:54.886 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:04:54.887 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:54.888 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:54.888 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:04:54.889 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:04:54.890 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:04:54.892 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 16:04:54.899 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 16:04:54.904 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:54.907 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:04:54.908 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:54.911 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:04:54.915 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:04:54.918 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:04:54.921 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:04:54.929 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:04:54.930 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:04:54.934 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:04:54.935 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:04:54.937 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 16:04:54.939 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 5188.946ms
2024-06-29 16:04:54.943 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:04:54.944 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 5207.6741 ms
2024-06-29 16:04:54.949 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:04:55.000 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:04:55.004 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:04:55.014 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 5292.7611ms
2024-06-29 16:05:03.320 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 58
2024-06-29 16:05:03.325 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:05:03.326 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:05:03.328 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:05:03.330 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:05:03.332 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 16:05:03.333 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:05:03.335 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:05:03.339 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:05:03.341 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:05:03.342 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:05:03.344 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:05:03.346 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:05:03.347 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:05:03.349 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:05:03.350 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:05:03.351 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:05:03.353 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:05:03.354 +03:00 [DBG] Connection id "0HN4O77AR3H8V", Request id "0HN4O77AR3H8V:00000005": started reading request body.
2024-06-29 16:05:03.355 +03:00 [DBG] Connection id "0HN4O77AR3H8V", Request id "0HN4O77AR3H8V:00000005": done reading request body.
2024-06-29 16:05:03.356 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:05:03.357 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:05:03.358 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:05:03.359 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:05:03.360 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:05:03.362 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:05:03.363 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:05:03.364 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:05:03.365 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.366 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.367 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:05:03.368 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:05:03.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:05:03.370 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:05:03.374 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:05:03.376 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:05:03.378 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.379 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:05:03.380 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.381 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:05:03.461 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.463 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.465 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:05:03.466 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:05:03.467 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:05:03.468 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:05:03.472 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:05:03.475 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:05:03.476 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.478 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:05:03.479 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.481 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:05:03.482 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.483 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.484 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:05:03.485 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:05:03.486 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:05:03.487 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:05:03.489 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:05:03.492 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:05:03.493 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:05:03.494 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:05:03.495 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.496 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 16:05:03.498 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.499 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:05:03.500 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:05:03.502 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:05:03.502 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:05:03.504 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:05:03.508 +03:00 [DBG] The foreign key property 'Session.SystemStatusCodeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 16:05:03.514 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:05:03.515 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.516 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.517 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:05:03.518 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:05:03.519 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:05:03.521 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 16:05:03.526 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 16:05:03.529 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.530 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-06-29 16:05:03.531 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.533 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:05:03.535 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:05:03.537 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:05:03.538 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.539 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.540 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:05:03.541 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:05:03.543 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:05:03.544 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:05:03.547 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:05:03.550 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.551 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:05:03.553 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.555 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:05:03.557 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.558 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.559 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:05:03.560 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:05:03.561 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:05:03.563 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:05:03.566 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:05:03.569 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.570 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:05:03.572 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.574 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:05:03.576 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.577 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.578 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:05:03.580 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:05:03.581 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:05:03.582 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:05:03.586 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:05:03.589 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.590 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:05:03.592 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:03.594 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:05:05.220 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:05.221 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:05.223 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:05:05.225 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:05:05.226 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:05:05.228 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:05:05.230 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:05:05.233 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:05.234 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:05:05.235 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:05.236 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:05:06.168 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:05:06.171 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:05:06.172 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:05:06.173 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:05:06.174 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:05:06.176 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 16:05:06.177 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 2829.6401ms
2024-06-29 16:05:06.179 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:05:06.180 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 2848.4117 ms
2024-06-29 16:05:06.182 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:05:06.183 +03:00 [DBG] Disposing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:05:06.184 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-29 16:05:06.187 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 2867.0081ms
2024-06-29 16:06:20.483 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:06:20.876 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:06:20.877 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:06:20.877 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:06:21.004 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:06:21.111 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:06:21.146 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:06:21.146 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:06:21.146 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:06:21.171 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:06:21.678 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:06:35.199 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:06:35.813 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:06:35.817 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:06:35.820 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:06:35.974 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:06:36.103 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:06:36.110 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:06:36.153 +03:00 [DBG] Created DbConnection. (40ms).
2024-06-29 16:06:36.156 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.162 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.379 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.385 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:06:36.391 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 16:06:36.394 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 16:06:36.401 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:06:36.424 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:06:36.427 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.434 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 16:06:36.438 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:06:36.439 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:06:36.440 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:06:36.441 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.442 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.444 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:06:36.456 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:06:36.458 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.461 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:06:36.464 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.467 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.469 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:06:36.470 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:06:36.472 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-06-29 16:06:36.474 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:06:36.477 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:06:36.479 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.480 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:06:36.482 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:06:36.483 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:06:36.484 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:06:36.485 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.487 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.488 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:06:36.490 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:06:36.492 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.493 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:06:36.504 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.505 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.506 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:06:36.507 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:06:36.508 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:06:36.510 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:06:36.514 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:06:36.519 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.521 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:06:36.523 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.524 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:06:36.535 +03:00 [INF] Applying migration '20240629130621_updateSessionId'.
2024-06-29 16:06:36.602 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 16:06:36.613 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.614 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:06:36.617 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:06:36.623 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:06:36.626 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:06:36.627 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:06:36.630 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-06-29 16:06:36.634 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'2ecefe04-4aea-4f41-8f0e-ecbd5c3d668e';
SELECT @@ROWCOUNT;
2024-06-29 16:06:36.651 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'2ecefe04-4aea-4f41-8f0e-ecbd5c3d668e';
SELECT @@ROWCOUNT;
2024-06-29 16:06:36.654 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:06:36.655 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:06:36.656 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:06:36.657 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'41919573-1e3b-4ce5-93c3-4ecf2ac90774';
SELECT @@ROWCOUNT;
2024-06-29 16:06:36.663 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'41919573-1e3b-4ce5-93c3-4ecf2ac90774';
SELECT @@ROWCOUNT;
2024-06-29 16:06:36.665 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:06:36.666 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:06:36.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:06:36.668 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:06:36.712 +03:00 [ERR] Failed executing DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:07:03.159 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:07:03.778 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:07:03.782 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:07:03.784 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:07:03.953 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:07:04.085 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:07:04.092 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:07:04.133 +03:00 [DBG] Created DbConnection. (38ms).
2024-06-29 16:07:04.135 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.141 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.347 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.353 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:07:04.360 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 16:07:04.363 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 16:07:04.369 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:04.392 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:04.396 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.404 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 16:07:04.408 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:07:04.409 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:07:04.410 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:07:04.411 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.412 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.414 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:04.426 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:04.429 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.430 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:07:04.432 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.434 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.435 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:07:04.436 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:07:04.437 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:07:04.438 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:04.441 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:04.443 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.444 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:07:04.445 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:07:04.446 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:07:04.447 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:07:04.448 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.449 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.450 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:04.452 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:04.454 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.455 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:07:04.465 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.467 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.468 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:07:04.469 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:07:04.470 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:07:04.471 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:07:04.475 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:07:04.479 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.481 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:07:04.483 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.484 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:07:04.494 +03:00 [INF] Applying migration '20240629130621_updateSessionId'.
2024-06-29 16:07:04.537 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.539 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:04.542 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:07:04.547 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:07:04.550 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:07:04.550 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:07:04.552 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:07:04.553 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:07:04.575 +03:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:07:22.887 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:07:23.569 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:07:23.571 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:07:23.572 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:07:23.717 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:07:23.843 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:07:23.850 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:07:23.894 +03:00 [DBG] Created DbConnection. (41ms).
2024-06-29 16:07:23.897 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:23.903 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.134 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.139 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:07:24.145 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-06-29 16:07:24.147 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-06-29 16:07:24.153 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:24.174 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:24.177 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.184 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 16:07:24.188 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:07:24.189 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:07:24.190 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:07:24.190 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.192 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.194 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:24.206 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:24.208 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.210 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:07:24.212 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.213 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.215 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:07:24.215 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:07:24.216 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:07:24.218 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:24.220 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:24.222 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.223 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:07:24.225 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:07:24.226 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:07:24.227 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:07:24.228 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.230 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.231 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:24.233 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:24.236 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.237 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:07:24.246 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.248 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.249 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:07:24.250 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:07:24.252 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:07:24.253 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:07:24.257 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:07:24.261 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.263 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:07:24.264 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.265 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:07:24.276 +03:00 [INF] Applying migration '20240629130621_updateSessionId'.
2024-06-29 16:07:24.322 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.324 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:24.328 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:07:24.334 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:07:24.336 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:07:24.336 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:07:24.338 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:07:24.339 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:07:24.362 +03:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:07:56.620 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:07:57.251 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:07:57.255 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:07:57.256 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:07:57.420 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:07:57.545 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:07:57.553 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:07:57.596 +03:00 [DBG] Created DbConnection. (40ms).
2024-06-29 16:07:57.599 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.605 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.820 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.826 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:07:57.831 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-06-29 16:07:57.834 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-06-29 16:07:57.840 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:57.863 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:57.866 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.874 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 16:07:57.877 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:07:57.879 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:07:57.880 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:07:57.881 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.883 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.886 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:57.902 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:57.904 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.906 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:07:57.908 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.909 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.910 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:07:57.911 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:07:57.913 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:07:57.914 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:57.916 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:07:57.918 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.919 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:07:57.921 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:07:57.922 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:07:57.923 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:07:57.924 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.925 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.927 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:57.929 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:07:57.931 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.932 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:07:57.942 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.943 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.944 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:07:57.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:07:57.946 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:07:57.948 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:07:57.952 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:07:57.956 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.958 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:07:57.960 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:57.961 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:07:57.972 +03:00 [INF] Applying migration '20240629130621_updateSessionId'.
2024-06-29 16:07:58.023 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:58.038 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:07:58.052 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:07:58.058 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:07:58.060 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:07:58.061 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:07:58.063 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-06-29 16:07:58.064 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:07:58.090 +03:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:10:09.682 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:10:10.335 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:10:10.339 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:10:10.341 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:10:10.498 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:10:10.642 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:10:10.650 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:10:10.694 +03:00 [DBG] Created DbConnection. (42ms).
2024-06-29 16:10:10.697 +03:00 [DBG] Migrating using database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:10.703 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:10.956 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:10.964 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:10:10.971 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2024-06-29 16:10:10.975 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2024-06-29 16:10:10.982 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:10:11.005 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:10:11.010 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.023 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (7ms).
2024-06-29 16:10:11.027 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:10:11.028 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:10:11.029 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:10:11.030 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.032 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.034 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:10:11.047 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:10:11.050 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.051 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:10:11.054 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.055 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.056 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:10:11.057 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:10:11.059 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:10:11.060 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:10:11.063 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:10:11.065 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.066 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:10:11.067 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:10:11.068 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:10:11.070 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:10:11.071 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.072 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.073 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:10:11.075 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:10:11.077 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.079 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:10:11.089 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.091 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.092 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:10:11.093 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:10:11.094 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:10:11.095 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:10:11.099 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:10:11.104 +03:00 [DBG] Closing data reader to 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.106 +03:00 [DBG] A data reader for 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:10:11.108 +03:00 [DBG] Closing connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.109 +03:00 [DBG] Closed connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:10:11.121 +03:00 [INF] Applying migration '20240629130621_updateSessionId'.
2024-06-29 16:10:11.172 +03:00 [DBG] Opening connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.175 +03:00 [DBG] Opened connection to database 'IGTDBTest' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:10:11.178 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:10:11.185 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:10:11.188 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:10:11.189 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:10:11.192 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-06-29 16:10:11.193 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:10:11.224 +03:00 [ERR] Failed executing DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Session]') AND [c].[name] = N'SessionId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Session] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Session] ALTER COLUMN [SessionId] bigint NOT NULL;
2024-06-29 16:10:37.210 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:10:37.615 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:10:37.616 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:10:37.616 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:10:37.755 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:10:37.875 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:10:37.917 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:10:37.917 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:10:37.917 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:10:37.946 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:10:38.450 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:11:33.786 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:11:34.196 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:11:34.197 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:11:34.197 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:11:34.332 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:11:34.443 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:11:34.483 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:11:34.483 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:11:34.483 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:11:34.501 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:11:35.005 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:12:57.662 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:12:58.072 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:12:58.073 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:12:58.073 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:13:11.020 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:13:11.433 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:13:11.434 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:13:11.434 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:13:11.573 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:13:11.684 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:13:11.721 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:13:11.721 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:13:11.721 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:13:11.747 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:13:12.236 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:13:27.216 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:13:27.979 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:13:27.982 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:13:27.984 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:13:28.199 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:13:28.411 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:13:28.424 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:13:28.474 +03:00 [DBG] Created DbConnection. (48ms).
2024-06-29 16:13:28.478 +03:00 [DBG] Migrating using database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:28.486 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:28.750 +03:00 [DBG] An error occurred using the connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:28.752 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:28.755 +03:00 [DBG] An error occurred using the connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:28.809 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:13:28.810 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:13:28.812 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:13:28.841 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:13:28.870 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:13:28.870 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:13:28.872 +03:00 [DBG] Opening connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:28.890 +03:00 [DBG] Opened connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:28.896 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:28.902 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 16:13:28.905 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 16:13:28.914 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [IGTDBTest2];
2024-06-29 16:13:30.060 +03:00 [INF] Executed DbCommand (1,145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [IGTDBTest2];
2024-06-29 16:13:30.067 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.068 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.070 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:30.071 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [IGTDBTest2] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-06-29 16:13:30.229 +03:00 [INF] Executed DbCommand (157ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [IGTDBTest2] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-06-29 16:13:30.232 +03:00 [DBG] Closing connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.241 +03:00 [DBG] Closed connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (6ms).
2024-06-29 16:13:30.245 +03:00 [DBG] Disposing connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.247 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 16:13:30.249 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.252 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.254 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.255 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.256 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:30.257 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:13:30.264 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:13:30.266 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.268 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:13:30.321 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.322 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.323 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:30.325 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.326 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.327 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-06-29 16:13:30.604 +03:00 [INF] Executed DbCommand (277ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-06-29 16:13:30.607 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.608 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:13:30.610 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.611 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.612 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.613 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.614 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.615 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:13:30.618 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:13:30.619 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.621 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:13:30.624 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:13:30.625 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:13:30.626 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:13:30.627 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.628 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.629 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:13:30.642 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:13:30.645 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.646 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:13:30.649 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.650 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.651 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:13:30.652 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:13:30.654 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:13:30.655 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:13:30.659 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:13:30.663 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.665 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:13:30.667 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.668 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:13:30.679 +03:00 [INF] Applying migration '20240629131312_Init'.
2024-06-29 16:13:30.746 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 16:13:30.753 +03:00 [DBG] Executing 5 update commands as a batch.
2024-06-29 16:13:30.754 +03:00 [DBG] Executing 3 update commands as a batch.
2024-06-29 16:13:30.759 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.760 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:30.763 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:13:30.768 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:13:30.770 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.771 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.773 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-06-29 16:13:30.774 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [FirstLogin] bit NOT NULL,
    [isTempUser] bit NOT NULL,
    [expiresAt] datetime2 NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-06-29 16:13:30.803 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [FirstLogin] bit NOT NULL,
    [isTempUser] bit NOT NULL,
    [expiresAt] datetime2 NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-06-29 16:13:30.807 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.807 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.809 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:30.810 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Privilege] (
    [PrivilegeId] bigint NOT NULL,
    [Name] varchar(255) NOT NULL,
    [Code] varchar(255) NOT NULL,
    [BackendURL] varchar(255) NOT NULL,
    [IsGeneral] bit NOT NULL,
    [IsSuperAdmin] bit NOT NULL,
    [IsAdmin] bit NOT NULL,
    CONSTRAINT [PK__Privileg__B3E77E5CCF515C05] PRIMARY KEY ([PrivilegeId])
);
2024-06-29 16:13:30.835 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Privilege] (
    [PrivilegeId] bigint NOT NULL,
    [Name] varchar(255) NOT NULL,
    [Code] varchar(255) NOT NULL,
    [BackendURL] varchar(255) NOT NULL,
    [IsGeneral] bit NOT NULL,
    [IsSuperAdmin] bit NOT NULL,
    [IsAdmin] bit NOT NULL,
    CONSTRAINT [PK__Privileg__B3E77E5CCF515C05] PRIMARY KEY ([PrivilegeId])
);
2024-06-29 16:13:30.837 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.838 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.839 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:30.840 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SystemStatusCode] (
    [SystemStatusCodeId] bigint NOT NULL,
    [Name] varchar(255) NULL,
    [Status] varchar(255) NULL,
    [Model] varchar(255) NULL,
    CONSTRAINT [PK__SystemStatusCode__B3E77E5CCF515C05] PRIMARY KEY ([SystemStatusCodeId])
);
2024-06-29 16:13:30.865 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SystemStatusCode] (
    [SystemStatusCodeId] bigint NOT NULL,
    [Name] varchar(255) NULL,
    [Status] varchar(255) NULL,
    [Model] varchar(255) NULL,
    CONSTRAINT [PK__SystemStatusCode__B3E77E5CCF515C05] PRIMARY KEY ([SystemStatusCodeId])
);
2024-06-29 16:13:30.868 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.869 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.870 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.871 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.875 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.877 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.878 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.879 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.881 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.888 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.891 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.892 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.893 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.894 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.900 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.904 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.905 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.906 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.907 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [SystemStatusCodeId] bigint NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ROLE_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId])
);
2024-06-29 16:13:30.912 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [SystemStatusCodeId] bigint NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ROLE_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId])
);
2024-06-29 16:13:30.914 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.916 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.917 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-06-29 16:13:30.919 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Session] (
    [SessionId] bigint NOT NULL,
    [Token] varchar(max) NULL,
    [SystemStatusCodeId] bigint NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK__Session__B3E77E5CCF515C05] PRIMARY KEY ([SessionId]),
    CONSTRAINT [FK_SESSION_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId]),
    CONSTRAINT [FK_SESSION_REFERENCE_USER] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id])
);
2024-06-29 16:13:30.924 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Session] (
    [SessionId] bigint NOT NULL,
    [Token] varchar(max) NULL,
    [SystemStatusCodeId] bigint NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK__Session__B3E77E5CCF515C05] PRIMARY KEY ([SessionId]),
    CONSTRAINT [FK_SESSION_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId]),
    CONSTRAINT [FK_SESSION_REFERENCE_USER] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id])
);
2024-06-29 16:13:30.926 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.928 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.929 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:30.931 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.935 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.939 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.939 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.941 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:30.942 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.946 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:13:30.949 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.951 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:30.952 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:30.953 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RolePrivilege] (
    [RoleId] nvarchar(450) NOT NULL,
    [Id] bigint NOT NULL,
    CONSTRAINT [PK_RolePrivilege] PRIMARY KEY ([RoleId], [Id]),
    CONSTRAINT [FK_RolePrivilege_Privilege] FOREIGN KEY ([Id]) REFERENCES [Privilege] ([PrivilegeId]),
    CONSTRAINT [FK_RolePrivilege_Role] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id])
);
2024-06-29 16:13:30.958 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RolePrivilege] (
    [RoleId] nvarchar(450) NOT NULL,
    [Id] bigint NOT NULL,
    CONSTRAINT [PK_RolePrivilege] PRIMARY KEY ([RoleId], [Id]),
    CONSTRAINT [FK_RolePrivilege_Privilege] FOREIGN KEY ([Id]) REFERENCES [Privilege] ([PrivilegeId]),
    CONSTRAINT [FK_RolePrivilege_Role] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id])
);
2024-06-29 16:13:30.961 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:30.962 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:30.963 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:30.964 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName', N'SystemStatusCodeId') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName], [SystemStatusCodeId])
VALUES (N'98e01b3c-9514-41b4-a10a-479868088d34', N'1', N'Role', N'Admin', N'Admin', NULL),
(N'df36387d-a085-4f62-9bea-c6aaeecad54c', N'2', N'Role', N'User', N'User', NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName', N'SystemStatusCodeId') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-06-29 16:13:31.002 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName', N'SystemStatusCodeId') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName], [SystemStatusCodeId])
VALUES (N'98e01b3c-9514-41b4-a10a-479868088d34', N'1', N'Role', N'Admin', N'Admin', NULL),
(N'df36387d-a085-4f62-9bea-c6aaeecad54c', N'2', N'Role', N'User', N'User', NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName', N'SystemStatusCodeId') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-06-29 16:13:31.005 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.006 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.007 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:31.009 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'PrivilegeId', N'BackendURL', N'Code', N'IsAdmin', N'IsGeneral', N'IsSuperAdmin', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] ON;
INSERT INTO [Privilege] ([PrivilegeId], [BackendURL], [Code], [IsAdmin], [IsGeneral], [IsSuperAdmin], [Name])
VALUES (CAST(1 AS bigint), 'AuthenticationController/addUser', 'addUser', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Add user'),
(CAST(2 AS bigint), '', 'addMachine', CAST(0 AS bit), CAST(0 AS bit), CAST(1 AS bit), 'Add machine'),
(CAST(3 AS bigint), '', 'Machine status', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Machine status'),
(CAST(4 AS bigint), '', 'bussinesAnalitics', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Bussines analytics'),
(CAST(5 AS bigint), '', 'editDeleteUser', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'EditDelete user');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'PrivilegeId', N'BackendURL', N'Code', N'IsAdmin', N'IsGeneral', N'IsSuperAdmin', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] OFF;
2024-06-29 16:13:31.028 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'PrivilegeId', N'BackendURL', N'Code', N'IsAdmin', N'IsGeneral', N'IsSuperAdmin', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] ON;
INSERT INTO [Privilege] ([PrivilegeId], [BackendURL], [Code], [IsAdmin], [IsGeneral], [IsSuperAdmin], [Name])
VALUES (CAST(1 AS bigint), 'AuthenticationController/addUser', 'addUser', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Add user'),
(CAST(2 AS bigint), '', 'addMachine', CAST(0 AS bit), CAST(0 AS bit), CAST(1 AS bit), 'Add machine'),
(CAST(3 AS bigint), '', 'Machine status', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Machine status'),
(CAST(4 AS bigint), '', 'bussinesAnalitics', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Bussines analytics'),
(CAST(5 AS bigint), '', 'editDeleteUser', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'EditDelete user');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'PrivilegeId', N'BackendURL', N'Code', N'IsAdmin', N'IsGeneral', N'IsSuperAdmin', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] OFF;
2024-06-29 16:13:31.031 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.032 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.033 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:31.034 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SystemStatusCodeId', N'Model', N'Name', N'Status') AND [object_id] = OBJECT_ID(N'[SystemStatusCode]'))
    SET IDENTITY_INSERT [SystemStatusCode] ON;
INSERT INTO [SystemStatusCode] ([SystemStatusCodeId], [Model], [Name], [Status])
VALUES (CAST(1 AS bigint), 'GENERAL', 'DELETED', 'DELETED'),
(CAST(2 AS bigint), 'GENERAL', 'EXPIRED', 'EXPIRED'),
(CAST(3 AS bigint), 'GENERAL', 'ACTIVE', 'ACTIVE');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SystemStatusCodeId', N'Model', N'Name', N'Status') AND [object_id] = OBJECT_ID(N'[SystemStatusCode]'))
    SET IDENTITY_INSERT [SystemStatusCode] OFF;
2024-06-29 16:13:31.049 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SystemStatusCodeId', N'Model', N'Name', N'Status') AND [object_id] = OBJECT_ID(N'[SystemStatusCode]'))
    SET IDENTITY_INSERT [SystemStatusCode] ON;
INSERT INTO [SystemStatusCode] ([SystemStatusCodeId], [Model], [Name], [Status])
VALUES (CAST(1 AS bigint), 'GENERAL', 'DELETED', 'DELETED'),
(CAST(2 AS bigint), 'GENERAL', 'EXPIRED', 'EXPIRED'),
(CAST(3 AS bigint), 'GENERAL', 'ACTIVE', 'ACTIVE');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SystemStatusCodeId', N'Model', N'Name', N'Status') AND [object_id] = OBJECT_ID(N'[SystemStatusCode]'))
    SET IDENTITY_INSERT [SystemStatusCode] OFF;
2024-06-29 16:13:31.052 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.053 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.054 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.055 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-06-29 16:13:31.058 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-06-29 16:13:31.060 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.061 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.062 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:31.064 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexRoleSystemStatusCodeId] ON [AspNetRoles] ([SystemStatusCodeId]);
2024-06-29 16:13:31.087 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexRoleSystemStatusCodeId] ON [AspNetRoles] ([SystemStatusCodeId]);
2024-06-29 16:13:31.088 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.089 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.090 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.092 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-06-29 16:13:31.098 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-06-29 16:13:31.100 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.101 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.102 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:31.103 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-06-29 16:13:31.108 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-06-29 16:13:31.111 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.112 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.113 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:31.114 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-06-29 16:13:31.118 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-06-29 16:13:31.119 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.120 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.121 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.122 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-06-29 16:13:31.126 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-06-29 16:13:31.127 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.128 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.129 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.130 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-06-29 16:13:31.133 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-06-29 16:13:31.134 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.135 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.136 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.137 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-06-29 16:13:31.140 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-06-29 16:13:31.145 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.146 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.147 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:13:31.148 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RolePrivilege_Id] ON [RolePrivilege] ([Id]);
2024-06-29 16:13:31.150 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RolePrivilege_Id] ON [RolePrivilege] ([Id]);
2024-06-29 16:13:31.152 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.153 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.154 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.155 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionSystemStatusCodeId] ON [Session] ([SystemStatusCodeId]);
2024-06-29 16:13:31.158 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionSystemStatusCodeId] ON [Session] ([SystemStatusCodeId]);
2024-06-29 16:13:31.160 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.161 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.162 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.163 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionUserId] ON [Session] ([UserId]);
2024-06-29 16:13:31.165 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionUserId] ON [Session] ([UserId]);
2024-06-29 16:13:31.167 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:13:31.168 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:13:31.169 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:13:31.170 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629131312_Init', N'8.0.2');
2024-06-29 16:13:31.195 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629131312_Init', N'8.0.2');
2024-06-29 16:13:31.198 +03:00 [DBG] Committing transaction.
2024-06-29 16:13:31.202 +03:00 [DBG] Committed transaction.
2024-06-29 16:13:31.204 +03:00 [DBG] Disposing transaction.
2024-06-29 16:13:31.205 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:31.206 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:13:31.209 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:13:31.210 +03:00 [DBG] Disposing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:13:31.211 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:13:31.269 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 16:13:31.392 +03:00 [DBG] Hosting starting
2024-06-29 16:13:31.411 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 16:13:31.418 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 16:13:31.423 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 16:13:31.425 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 16:13:31.429 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 16:13:31.434 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 16:13:31.435 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 16:13:31.441 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 16:13:31.444 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:13:31.446 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 16:13:31.448 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:13:31.452 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 16:13:31.455 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 16:13:31.458 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 16:13:31.460 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 16:13:31.581 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 16:13:31.630 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 16:13:31.632 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 16:13:31.633 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 16:13:31.634 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 16:13:31.635 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 16:13:31.636 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 16:13:31.678 +03:00 [DBG] Connection id "0HN4O7L322FGG" accepted.
2024-06-29 16:13:31.680 +03:00 [DBG] Connection id "0HN4O7L322FGG" started.
2024-06-29 16:13:31.682 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 16:13:31.683 +03:00 [INF] Hosting environment: Development
2024-06-29 16:13:31.684 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 16:13:31.685 +03:00 [DBG] Hosting started
2024-06-29 16:13:31.694 +03:00 [DBG] Connection id "0HN4O7L322FGG" received FIN.
2024-06-29 16:13:31.704 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:13:31.722 +03:00 [DBG] Connection id "0HN4O7L322FGG" stopped.
2024-06-29 16:13:31.726 +03:00 [DBG] Connection id "0HN4O7L322FGG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:13:32.283 +03:00 [DBG] Connection id "0HN4O7L322FGH" accepted.
2024-06-29 16:13:32.430 +03:00 [DBG] Connection id "0HN4O7L322FGH" started.
2024-06-29 16:13:32.482 +03:00 [DBG] Connection id "0HN4O7L322FGH" received FIN.
2024-06-29 16:13:32.483 +03:00 [DBG] Connection id "0HN4O7L322FGI" accepted.
2024-06-29 16:13:32.486 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:13:32.696 +03:00 [DBG] Connection id "0HN4O7L322FGI" started.
2024-06-29 16:13:32.700 +03:00 [DBG] Connection id "0HN4O7L322FGH" stopped.
2024-06-29 16:13:32.703 +03:00 [DBG] Connection id "0HN4O7L322FGH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:13:32.707 +03:00 [DBG] Connection id "0HN4O7L322FGI" received FIN.
2024-06-29 16:13:32.707 +03:00 [DBG] Connection id "0HN4O7L322FGJ" accepted.
2024-06-29 16:13:32.708 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:13:32.711 +03:00 [DBG] Connection id "0HN4O7L322FGJ" started.
2024-06-29 16:13:32.714 +03:00 [DBG] Connection id "0HN4O7L322FGI" stopped.
2024-06-29 16:13:32.717 +03:00 [DBG] Connection id "0HN4O7L322FGI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:13:32.728 +03:00 [DBG] Connection 0HN4O7L322FGJ established using the following protocol: "Tls12"
2024-06-29 16:13:32.834 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 16:13:32.972 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 16:13:32.992 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 16:13:32.994 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:13:33.015 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 185.3924ms
2024-06-29 16:13:33.020 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 16:13:33.028 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 16:13:33.030 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:13:33.074 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 16:13:33.076 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 16:13:33.105 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 16:13:33.138 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 16:13:33.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 16:13:33.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 16:13:33.142 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 16:13:33.144 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 16:13:33.146 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 16:13:33.149 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 16:13:33.150 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:13:33.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 130.7863ms
2024-06-29 16:13:33.151 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:13:33.152 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:13:33.158 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 16:13:33.179 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 16:13:33.201 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 43.6646ms
2024-06-29 16:13:33.230 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 16:13:33.240 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 16:13:33.254 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 115.8162ms
2024-06-29 16:13:33.254 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 113.2953ms
2024-06-29 16:13:33.276 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.4601ms
2024-06-29 16:13:33.302 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 16:13:33.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 164.6316ms
2024-06-29 16:13:33.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 16:13:33.525 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 16:13:33.527 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:13:33.665 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.8848ms
2024-06-29 16:13:35.125 +03:00 [DBG] Connection id "0HN4O7L322FGJ" received FIN.
2024-06-29 16:13:35.129 +03:00 [DBG] Connection id "0HN4O7L322FGJ" is closed. The last processed stream ID was 15.
2024-06-29 16:13:35.130 +03:00 [DBG] The connection queue processing loop for 0HN4O7L322FGJ completed.
2024-06-29 16:13:35.131 +03:00 [DBG] Connection id "0HN4O7L322FGJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:13:35.149 +03:00 [DBG] Connection id "0HN4O7L322FGJ" stopped.
2024-06-29 16:14:25.237 +03:00 [DBG] Connection id "0HN4O7L322FGK" accepted.
2024-06-29 16:14:25.241 +03:00 [DBG] Connection id "0HN4O7L322FGK" started.
2024-06-29 16:14:25.247 +03:00 [DBG] Connection id "0HN4O7L322FGK" received FIN.
2024-06-29 16:14:25.252 +03:00 [DBG] Connection id "0HN4O7L322FGL" accepted.
2024-06-29 16:14:25.254 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:14:25.256 +03:00 [DBG] Connection id "0HN4O7L322FGL" started.
2024-06-29 16:14:25.260 +03:00 [DBG] Connection id "0HN4O7L322FGK" stopped.
2024-06-29 16:14:25.262 +03:00 [DBG] Connection id "0HN4O7L322FGK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:14:25.266 +03:00 [DBG] Connection 0HN4O7L322FGL established using the following protocol: "Tls12"
2024-06-29 16:14:25.268 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 48
2024-06-29 16:14:25.275 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:14:25.277 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:14:25.280 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:14:25.282 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:14:25.324 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 16:14:25.329 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:14:25.356 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:14:25.360 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:14:25.363 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:14:25.365 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:14:25.367 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:14:25.370 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:14:25.374 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:14:25.393 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:14:25.446 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:14:25.450 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:14:25.455 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:14:25.463 +03:00 [DBG] Connection id "0HN4O7L322FGL", Request id "0HN4O7L322FGL:00000001": started reading request body.
2024-06-29 16:14:25.464 +03:00 [DBG] Connection id "0HN4O7L322FGL", Request id "0HN4O7L322FGL:00000001": done reading request body.
2024-06-29 16:14:25.471 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:14:25.472 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:14:25.474 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:14:25.476 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:14:25.493 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:14:25.693 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:14:25.698 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:14:25.699 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:14:25.700 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:14:25.704 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:14:25.706 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 16:14:25.731 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 356.1277ms
2024-06-29 16:14:25.733 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:14:25.736 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 451.0801 ms
2024-06-29 16:14:25.742 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 473.9078ms
2024-06-29 16:14:35.137 +03:00 [DBG] Connection id "0HN4O7L322FGL" received FIN.
2024-06-29 16:14:35.139 +03:00 [DBG] Connection id "0HN4O7L322FGL" is closed. The last processed stream ID was 1.
2024-06-29 16:14:35.140 +03:00 [DBG] Connection id "0HN4O7L322FGL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:14:35.143 +03:00 [DBG] The connection queue processing loop for 0HN4O7L322FGL completed.
2024-06-29 16:14:35.145 +03:00 [DBG] Connection id "0HN4O7L322FGL" stopped.
2024-06-29 16:15:12.409 +03:00 [DBG] Connection id "0HN4O7L322FGM" accepted.
2024-06-29 16:15:12.426 +03:00 [DBG] Connection id "0HN4O7L322FGM" started.
2024-06-29 16:15:12.429 +03:00 [DBG] Connection id "0HN4O7L322FGM" received FIN.
2024-06-29 16:15:12.430 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:15:12.430 +03:00 [DBG] Connection id "0HN4O7L322FGN" accepted.
2024-06-29 16:15:12.436 +03:00 [DBG] Connection id "0HN4O7L322FGM" stopped.
2024-06-29 16:15:12.437 +03:00 [DBG] Connection id "0HN4O7L322FGN" started.
2024-06-29 16:15:12.439 +03:00 [DBG] Connection id "0HN4O7L322FGM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:15:12.445 +03:00 [DBG] Connection 0HN4O7L322FGN established using the following protocol: "Tls12"
2024-06-29 16:15:12.447 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 201
2024-06-29 16:15:12.451 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:15:12.454 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:15:12.455 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:15:12.456 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:15:12.502 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:15:12.505 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:15:12.511 +03:00 [DBG] Authorization was successful.
2024-06-29 16:15:12.512 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:15:12.518 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:15:12.520 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:15:12.523 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:15:12.524 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:15:12.526 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:15:12.527 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:15:12.544 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 16:15:12.548 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 16:15:12.551 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 16:15:12.553 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 16:15:12.554 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:15:12.561 +03:00 [DBG] Connection id "0HN4O7L322FGN", Request id "0HN4O7L322FGN:00000001": started reading request body.
2024-06-29 16:15:12.562 +03:00 [DBG] Connection id "0HN4O7L322FGN", Request id "0HN4O7L322FGN:00000001": done reading request body.
2024-06-29 16:15:12.569 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 16:15:12.570 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 16:15:12.573 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 16:15:12.574 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 16:15:12.580 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 16:15:12.619 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:15:12.672 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-06-29 16:15:12.939 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:15:12.979 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:15:12.981 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 16:15:12.984 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:12.987 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:12.988 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:12.990 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:15:12.995 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 16:15:12.998 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 16:15:13.041 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 16:15:13.056 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.058 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 13ms reading results.
2024-06-29 16:15:13.061 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.062 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:13.066 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 16:15:13.072 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:15:13.077 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.078 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.079 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:13.080 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:15:13.081 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:15:13.082 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:15:13.092 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:15:13.095 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.096 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:15:13.097 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.098 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:13.109 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-06-29 16:15:13.118 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4], [Property: Role.SystemStatusCodeId (long?) FK Index, 5] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName, a.SystemStatusCodeId
            FROM AspNetRoles AS a
            WHERE (a.Discriminator == N'Role') && (a.NormalizedName == @__normalizedName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:15:13.124 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.125 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.126 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:13.127 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:13.128 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:15:13.129 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 16:15:13.137 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 16:15:13.166 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:13.186 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.187 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 47ms reading results.
2024-06-29 16:15:13.188 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.190 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:13.296 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.298 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:13.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:13.301 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:15:13.303 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:15:13.305 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:15:13.310 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.312 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:15:13.313 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.315 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:13.385 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:13.389 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:15:13.393 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:15:13.427 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:15:13.479 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.481 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.484 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:13.485 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:13.487 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:15:13.489 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 16:15:13.547 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 16:15:13.554 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.555 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 5ms reading results.
2024-06-29 16:15:13.560 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.562 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:15:13.579 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:13.585 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:15:13.593 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-06-29 16:15:13.598 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4], [Property: Role.SystemStatusCodeId (long?) FK Index, 5] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName, a.SystemStatusCodeId
            FROM AspNetRoles AS a
            WHERE (a.Discriminator == N'Role') && (a.NormalizedName == @__normalizedRoleName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:15:13.603 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.604 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.605 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:13.606 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:15:13.607 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:15:13.608 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 16:15:13.613 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 16:15:13.616 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.617 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:15:13.618 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.620 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:13.638 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-06-29 16:15:13.667 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:15:13.674 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.677 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.679 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:13.680 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:13.681 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:15:13.684 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 16:15:13.689 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 16:15:13.693 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.694 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:15:13.696 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.699 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (3ms).
2024-06-29 16:15:13.703 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.706 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.707 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:13.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:15:13.709 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:15:13.712 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 16:15:13.716 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 16:15:13.720 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.721 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:15:13.722 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.723 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:13.737 +03:00 [DBG] Context 'AkramDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:13.740 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.741 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.742 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:13.743 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:13.744 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:15:13.746 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:15:13.754 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:15:13.757 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.758 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:15:13.761 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.763 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:13.768 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:13.770 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:15:13.771 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:15:13.772 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:15:13.786 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 16:15:13.790 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.791 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:13.793 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:15:13.795 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:15:13.796 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:13.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:13.798 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:15:13.799 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 16:15:14.001 +03:00 [INF] Executed DbCommand (201ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 16:15:14.012 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:14.015 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 5ms reading results.
2024-06-29 16:15:14.019 +03:00 [DBG] Committing transaction.
2024-06-29 16:15:14.021 +03:00 [DBG] Committed transaction.
2024-06-29 16:15:14.023 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:14.024 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:14.027 +03:00 [DBG] Disposing transaction.
2024-06-29 16:15:14.028 +03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:14.030 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:14.032 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 16:15:16.291 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:15:16.294 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:15:16.295 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:15:16.296 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:15:16.297 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:15:16.299 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 16:15:16.302 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 3773.4338ms
2024-06-29 16:15:16.304 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:15:16.307 +03:00 [INF] HTTP POST /addUser responded 200 in 3849.4926 ms
2024-06-29 16:15:16.309 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:15:16.313 +03:00 [DBG] Disposing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:16.314 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:15:16.316 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 3868.8094ms
2024-06-29 16:15:25.159 +03:00 [DBG] Connection id "0HN4O7L322FGN" received FIN.
2024-06-29 16:15:25.164 +03:00 [DBG] Connection id "0HN4O7L322FGN" is closed. The last processed stream ID was 1.
2024-06-29 16:15:25.164 +03:00 [DBG] The connection queue processing loop for 0HN4O7L322FGN completed.
2024-06-29 16:15:25.165 +03:00 [DBG] Connection id "0HN4O7L322FGN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:15:25.183 +03:00 [DBG] Connection id "0HN4O7L322FGN" stopped.
2024-06-29 16:15:40.103 +03:00 [DBG] Connection id "0HN4O7L322FGO" accepted.
2024-06-29 16:15:40.106 +03:00 [DBG] Connection id "0HN4O7L322FGO" started.
2024-06-29 16:15:40.110 +03:00 [DBG] Connection id "0HN4O7L322FGO" received FIN.
2024-06-29 16:15:40.110 +03:00 [DBG] Connection id "0HN4O7L322FGP" accepted.
2024-06-29 16:15:40.116 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:15:40.122 +03:00 [DBG] Connection id "0HN4O7L322FGP" started.
2024-06-29 16:15:40.125 +03:00 [DBG] Connection id "0HN4O7L322FGO" stopped.
2024-06-29 16:15:40.129 +03:00 [DBG] Connection id "0HN4O7L322FGO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:15:40.130 +03:00 [DBG] Connection 0HN4O7L322FGP established using the following protocol: "Tls12"
2024-06-29 16:15:40.133 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 56
2024-06-29 16:15:40.138 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:15:40.139 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:15:40.142 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:15:40.143 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:15:40.146 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:15:40.148 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:15:40.149 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:15:40.151 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:15:40.152 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:15:40.153 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:15:40.156 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:15:40.157 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:15:40.158 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:15:40.160 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:15:40.163 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:15:40.165 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:15:40.166 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:15:40.168 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:15:40.170 +03:00 [DBG] Connection id "0HN4O7L322FGP", Request id "0HN4O7L322FGP:00000001": started reading request body.
2024-06-29 16:15:40.171 +03:00 [DBG] Connection id "0HN4O7L322FGP", Request id "0HN4O7L322FGP:00000001": done reading request body.
2024-06-29 16:15:40.172 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:15:40.173 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:15:40.174 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:15:40.176 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:15:40.177 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:15:40.234 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:15:40.236 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:15:40.237 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:15:40.240 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.242 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.242 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:40.244 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:15:40.246 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:15:40.248 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:15:40.256 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:15:40.261 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:40.263 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.264 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:15:40.267 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.268 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:40.365 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 16:15:40.413 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (long?) Required PK AfterSave:Throw, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:15:40.418 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.422 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.423 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:40.424 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:40.427 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 16:15:40.429 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:15:40.437 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:15:40.442 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.444 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:15:40.445 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.449 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (3ms).
2024-06-29 16:15:40.453 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()'
2024-06-29 16:15:40.460 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:15:40.468 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.471 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.472 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:40.473 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:40.477 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 16:15:40.478 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:15:40.483 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:15:40.492 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:40.499 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:40.501 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:15:40.503 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.504 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 19ms reading results.
2024-06-29 16:15:40.506 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.507 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:40.511 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:15:40.512 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:15:40.520 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:15:40.522 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 0 entities written to the database.
2024-06-29 16:15:40.529 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 16:15:40.540 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:15:40.543 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.544 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.545 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:40.546 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:40.547 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:15:40.548 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:15:40.553 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:15:40.556 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.556 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:15:40.559 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.560 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:15:40.567 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 16:15:40.582 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:15:40.586 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.588 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.592 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:40.595 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:15:40.597 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 16:15:40.598 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:15:40.618 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:15:40.622 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.623 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:15:40.625 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.626 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:40.631 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.633 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.636 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:40.637 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:40.638 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:15:40.639 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:15:40.645 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:15:40.648 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.650 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:15:40.652 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:40.653 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:15:43.518 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:43.522 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:43.524 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:15:43.525 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:15:43.527 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:15:43.529 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:15:43.533 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:15:43.538 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:43.539 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:15:43.542 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:15:43.544 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:16:00.846 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:16:00.849 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:16:00.850 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:16:00.851 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:16:00.852 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:16:00.853 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 16:16:00.855 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 20695.5243ms
2024-06-29 16:16:00.857 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:16:00.858 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 20714.3429 ms
2024-06-29 16:16:00.860 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:16:00.861 +03:00 [DBG] Disposing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:16:00.862 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:16:00.863 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 20730.4598ms
2024-06-29 16:16:42.942 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:16:43.365 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:16:43.366 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:16:43.366 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:16:43.502 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:16:43.618 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:16:43.657 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:16:43.657 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:16:43.657 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:16:43.685 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:16:44.248 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:17:01.687 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:17:02.277 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:17:02.280 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:17:02.282 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:17:02.442 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:17:02.574 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:17:02.583 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:17:02.629 +03:00 [DBG] Created DbConnection. (43ms).
2024-06-29 16:17:02.633 +03:00 [DBG] Migrating using database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.642 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.885 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.893 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:17:02.899 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 16:17:02.902 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 16:17:02.909 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:17:02.931 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:17:02.935 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.943 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 16:17:02.947 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:17:02.948 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:17:02.950 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:17:02.951 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.953 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.954 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:17:02.968 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:17:02.972 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.974 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:02.975 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.977 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.979 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:17:02.979 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:17:02.980 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:17:02.981 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:17:02.984 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:17:02.986 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.987 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:02.989 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:17:02.989 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:17:02.991 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:17:02.992 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.993 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:02.994 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:17:02.997 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:17:02.999 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:03.000 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:03.010 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:03.012 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:03.013 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:03.014 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:17:03.015 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:17:03.017 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:17:03.021 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:17:03.026 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:03.028 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:17:03.031 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:03.032 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:03.044 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 16:17:03.047 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:17:03.050 +03:00 [DBG] Disposing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:03.054 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 16:17:03.126 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 16:17:03.239 +03:00 [DBG] Hosting starting
2024-06-29 16:17:03.258 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 16:17:03.266 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 16:17:03.270 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 16:17:03.272 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 16:17:03.280 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 16:17:03.285 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 16:17:03.286 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 16:17:03.291 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 16:17:03.295 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:17:03.297 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 16:17:03.299 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:17:03.301 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 16:17:03.303 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 16:17:03.305 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 16:17:03.307 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 16:17:03.406 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 16:17:03.458 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 16:17:03.459 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 16:17:03.460 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 16:17:03.461 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 16:17:03.462 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 16:17:03.463 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 16:17:03.520 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 16:17:03.521 +03:00 [INF] Hosting environment: Development
2024-06-29 16:17:03.523 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 16:17:03.525 +03:00 [DBG] Hosting started
2024-06-29 16:17:03.882 +03:00 [DBG] Connection id "0HN4O7N29Q1E3" accepted.
2024-06-29 16:17:03.882 +03:00 [DBG] Connection id "0HN4O7N29Q1E4" accepted.
2024-06-29 16:17:03.884 +03:00 [DBG] Connection id "0HN4O7N29Q1E3" started.
2024-06-29 16:17:03.884 +03:00 [DBG] Connection id "0HN4O7N29Q1E4" started.
2024-06-29 16:17:03.914 +03:00 [DBG] Connection id "0HN4O7N29Q1E4" received FIN.
2024-06-29 16:17:03.918 +03:00 [DBG] Connection id "0HN4O7N29Q1E3" received FIN.
2024-06-29 16:17:03.932 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:17:03.932 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:17:03.948 +03:00 [DBG] Connection id "0HN4O7N29Q1E3" stopped.
2024-06-29 16:17:03.948 +03:00 [DBG] Connection id "0HN4O7N29Q1E4" stopped.
2024-06-29 16:17:03.952 +03:00 [DBG] Connection id "0HN4O7N29Q1E3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:17:03.952 +03:00 [DBG] Connection id "0HN4O7N29Q1E4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:17:04.201 +03:00 [DBG] Connection id "0HN4O7N29Q1E5" accepted.
2024-06-29 16:17:04.279 +03:00 [DBG] Connection id "0HN4O7N29Q1E5" started.
2024-06-29 16:17:04.302 +03:00 [DBG] Connection id "0HN4O7N29Q1E5" received FIN.
2024-06-29 16:17:04.303 +03:00 [DBG] Connection id "0HN4O7N29Q1E6" accepted.
2024-06-29 16:17:04.304 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:17:04.306 +03:00 [DBG] Connection id "0HN4O7N29Q1E6" started.
2024-06-29 16:17:04.311 +03:00 [DBG] Connection id "0HN4O7N29Q1E5" stopped.
2024-06-29 16:17:04.315 +03:00 [DBG] Connection id "0HN4O7N29Q1E6" received FIN.
2024-06-29 16:17:04.315 +03:00 [DBG] Connection id "0HN4O7N29Q1E5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:17:04.316 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:17:04.316 +03:00 [DBG] Connection id "0HN4O7N29Q1E7" accepted.
2024-06-29 16:17:04.324 +03:00 [DBG] Connection id "0HN4O7N29Q1E6" stopped.
2024-06-29 16:17:04.324 +03:00 [DBG] Connection id "0HN4O7N29Q1E7" started.
2024-06-29 16:17:04.326 +03:00 [DBG] Connection id "0HN4O7N29Q1E6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:17:04.336 +03:00 [DBG] Connection 0HN4O7N29Q1E7 established using the following protocol: "Tls12"
2024-06-29 16:17:04.396 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 16:17:04.563 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 16:17:04.590 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 16:17:04.593 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:17:04.617 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 225.9322ms
2024-06-29 16:17:04.623 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 16:17:04.634 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 16:17:04.635 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:17:04.691 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 16:17:04.693 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 16:17:04.724 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 16:17:04.727 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 16:17:04.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 16:17:04.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 16:17:04.754 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 16:17:04.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 106.0015ms
2024-06-29 16:17:04.747 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 16:17:04.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 16:17:04.764 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:17:04.756 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:17:04.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 16:17:04.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 16:17:04.768 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 16:17:04.797 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:17:04.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 20.6498ms
2024-06-29 16:17:04.811 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 16:17:04.828 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 100.6569ms
2024-06-29 16:17:04.837 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 16:17:04.857 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 16:17:04.860 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 132.7474ms
2024-06-29 16:17:04.866 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 139.1616ms
2024-06-29 16:17:04.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 113.5973ms
2024-06-29 16:17:05.013 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 16:17:05.018 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 16:17:05.019 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:17:05.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.1778ms
2024-06-29 16:17:05.197 +03:00 [DBG] Connection id "0HN4O7N29Q1E7" received FIN.
2024-06-29 16:17:05.293 +03:00 [DBG] Connection id "0HN4O7N29Q1E7" is closed. The last processed stream ID was 15.
2024-06-29 16:17:05.295 +03:00 [DBG] The connection queue processing loop for 0HN4O7N29Q1E7 completed.
2024-06-29 16:17:05.300 +03:00 [DBG] Connection id "0HN4O7N29Q1E7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:17:05.480 +03:00 [DBG] Connection id "0HN4O7N29Q1E7" stopped.
2024-06-29 16:17:13.296 +03:00 [DBG] Connection id "0HN4O7N29Q1E8" accepted.
2024-06-29 16:17:13.297 +03:00 [DBG] Connection id "0HN4O7N29Q1E8" started.
2024-06-29 16:17:13.299 +03:00 [DBG] Connection id "0HN4O7N29Q1E8" received FIN.
2024-06-29 16:17:13.303 +03:00 [DBG] Connection id "0HN4O7N29Q1E9" accepted.
2024-06-29 16:17:13.303 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:17:13.304 +03:00 [DBG] Connection id "0HN4O7N29Q1E9" started.
2024-06-29 16:17:13.309 +03:00 [DBG] Connection id "0HN4O7N29Q1E8" stopped.
2024-06-29 16:17:13.311 +03:00 [DBG] Connection id "0HN4O7N29Q1E8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:17:13.315 +03:00 [DBG] Connection 0HN4O7N29Q1E9 established using the following protocol: "Tls12"
2024-06-29 16:17:13.317 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 56
2024-06-29 16:17:13.323 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:17:13.324 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:17:13.326 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:17:13.328 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:17:13.358 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 16:17:13.361 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:17:13.381 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:17:13.385 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:17:13.386 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:17:13.388 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:17:13.390 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:17:13.392 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:17:13.395 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:17:13.405 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:17:13.417 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:17:13.422 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:17:13.427 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:17:13.433 +03:00 [DBG] Connection id "0HN4O7N29Q1E9", Request id "0HN4O7N29Q1E9:00000001": started reading request body.
2024-06-29 16:17:13.435 +03:00 [DBG] Connection id "0HN4O7N29Q1E9", Request id "0HN4O7N29Q1E9:00000001": done reading request body.
2024-06-29 16:17:13.440 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:17:13.442 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:17:13.443 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:17:13.444 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:17:13.453 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:17:13.472 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:17:13.535 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 16:17:13.732 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:17:13.769 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:17:13.770 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 16:17:13.773 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:13.776 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:13.777 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:13.778 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:17:13.782 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 16:17:13.786 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:17:13.820 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:17:13.854 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:13.908 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:13.910 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 86ms reading results.
2024-06-29 16:17:13.914 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:13.915 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:14.027 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 16:17:14.109 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (long) Required PK AfterSave:Throw, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:17:14.114 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.116 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.117 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:14.119 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:14.122 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 16:17:14.124 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:17:14.135 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:17:14.139 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.141 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:17:14.143 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.144 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:14.149 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()'
2024-06-29 16:17:14.154 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:17:14.161 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.163 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.165 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:14.166 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:14.167 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:17:14.169 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:17:14.173 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:17:14.183 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:14.192 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:14.194 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:14.195 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.197 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 22ms reading results.
2024-06-29 16:17:14.199 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.200 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:14.206 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:17:14.208 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:17:14.249 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:17:14.252 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 0 entities written to the database.
2024-06-29 16:17:14.260 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 16:17:14.270 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:17:14.273 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.275 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.276 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:14.277 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:17:14.278 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:14.279 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:17:14.283 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:17:14.286 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.289 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:17:14.291 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.292 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:17:14.300 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 16:17:14.326 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:17:14.331 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.332 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.333 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:14.334 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:14.336 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:17:14.338 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:17:14.342 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:17:14.346 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.347 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:17:14.348 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.349 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:14.360 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.361 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.362 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:14.363 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:17:14.365 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:17:14.366 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:17:14.369 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:17:14.372 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.373 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:17:14.375 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:14.376 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:16.688 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:16.690 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:16.691 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:16.693 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:16.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:17:16.696 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:17:16.701 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:17:16.709 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:16.711 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:17:16.712 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:16.715 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:17:16.769 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:16.775 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:17:16.778 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:17:16.783 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:17:16.859 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:16.861 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:16.865 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:16.867 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:16.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:17:16.870 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 16:17:16.884 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (Size = 8000) (DbType = AnsiString), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SessionId], [SystemStatusCodeId], [Token], [UserId])
VALUES (@p0, @p1, @p2, @p3);
2024-06-29 16:17:16.898 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:16.924 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 30ms reading results.
2024-06-29 16:17:16.926 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:16.928 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:16.939 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:16.941 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:17:16.947 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:17:16.952 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:17:16.953 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:17:16.954 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:17:16.955 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:17:16.958 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 16:17:16.976 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 3579.4844ms
2024-06-29 16:17:16.977 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:17:16.981 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 3650.2541 ms
2024-06-29 16:17:16.983 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:17:16.985 +03:00 [DBG] Disposing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:16.987 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:17:16.989 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 3672.3798ms
2024-06-29 16:17:27.372 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 56
2024-06-29 16:17:27.379 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:17:27.386 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:17:27.398 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:17:27.400 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:17:27.402 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 16:17:27.403 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:17:27.405 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:17:27.408 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:17:27.410 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:17:27.412 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:17:27.415 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:17:27.417 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:17:27.418 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:17:27.423 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:17:27.425 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:17:27.428 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:17:27.429 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:17:27.431 +03:00 [DBG] Connection id "0HN4O7N29Q1E9", Request id "0HN4O7N29Q1E9:00000003": started reading request body.
2024-06-29 16:17:27.431 +03:00 [DBG] Connection id "0HN4O7N29Q1E9", Request id "0HN4O7N29Q1E9:00000003": done reading request body.
2024-06-29 16:17:27.433 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:17:27.434 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:17:27.435 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:17:27.436 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:17:27.438 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:17:27.491 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:17:27.494 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:17:27.494 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:17:27.496 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.497 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.498 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:27.499 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:17:27.500 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:27.501 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:17:27.506 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:17:27.509 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:27.511 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.512 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:17:27.513 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.514 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:17:27.596 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.597 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.599 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:27.601 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:17:27.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 16:17:27.605 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:17:27.615 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:17:27.620 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:27.622 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.623 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 5ms reading results.
2024-06-29 16:17:27.625 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.626 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:27.628 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.629 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.630 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:27.632 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:27.633 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:17:27.634 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:17:27.637 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:17:27.641 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:27.643 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:27.645 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:27.648 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:27.650 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.651 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 12ms reading results.
2024-06-29 16:17:27.653 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.654 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:27.656 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:27.658 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:17:27.659 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:17:27.660 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:27.663 +03:00 [DBG] The foreign key property 'Session.SystemStatusCodeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 16:17:27.669 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:17:27.679 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.680 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.681 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:27.682 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:17:27.684 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:17:27.685 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 16:17:27.784 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 16:17:27.796 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.797 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:17:27.799 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.800 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:27.804 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:17:27.806 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:17:27.807 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.809 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.811 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:27.813 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:17:27.814 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:17:27.816 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:17:27.819 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:17:27.821 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.823 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:17:27.825 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.826 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:17:27.827 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.829 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.830 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:27.831 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:27.833 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:17:27.834 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:17:27.839 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:17:27.841 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.842 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:17:27.845 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.846 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:17:27.847 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.848 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:27.850 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:27.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:17:27.853 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:17:27.855 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:17:27.858 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.859 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:17:27.861 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:27.862 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:17:29.695 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:29.698 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:29.701 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:17:29.702 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:17:29.703 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:17:29.704 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:17:29.709 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:17:29.711 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:29.712 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:17:29.715 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:17:29.716 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:24:33.536 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:24:33.953 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:24:33.955 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:24:33.955 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:24:34.097 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:24:34.215 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:24:34.252 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:24:34.253 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:24:34.253 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:24:34.282 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:24:34.822 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:24:55.216 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:24:55.783 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:24:55.785 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:24:55.786 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:24:55.950 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:24:56.105 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:24:56.113 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:24:56.157 +03:00 [DBG] Created DbConnection. (41ms).
2024-06-29 16:24:56.161 +03:00 [DBG] Migrating using database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.167 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.435 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.441 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:24:56.448 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 16:24:56.451 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 16:24:56.458 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:24:56.484 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:24:56.487 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.496 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 16:24:56.500 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:24:56.501 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:24:56.503 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2024-06-29 16:24:56.504 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.507 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.509 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:24:56.523 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:24:56.525 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.527 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:24:56.529 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.530 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.531 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:24:56.532 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:24:56.533 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:24:56.534 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:24:56.537 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:24:56.539 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.540 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:24:56.542 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:24:56.543 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:24:56.544 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:24:56.545 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.546 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.547 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:24:56.550 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:24:56.551 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.552 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:24:56.563 +03:00 [DBG] Opening connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.564 +03:00 [DBG] Opened connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.565 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:24:56.566 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:24:56.567 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:24:56.569 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:24:56.572 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:24:56.576 +03:00 [DBG] Closing data reader to 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.578 +03:00 [DBG] A data reader for 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:24:56.580 +03:00 [DBG] Closing connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:24:56.581 +03:00 [DBG] Closed connection to database 'IGTDBTest2' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:24:56.593 +03:00 [INF] Applying migration '20240629132434_updateSessionId'.
2024-06-29 16:26:12.684 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:26:13.105 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:26:13.106 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:26:13.106 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:26:13.246 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:26:13.364 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:26:13.403 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:26:13.403 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:26:13.403 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:26:13.433 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:26:14.001 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:26:21.893 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:26:22.674 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:26:22.678 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:26:22.680 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:26:22.893 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:26:23.085 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:26:23.094 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:26:23.150 +03:00 [DBG] Created DbConnection. (49ms).
2024-06-29 16:26:23.160 +03:00 [DBG] Migrating using database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:23.166 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:23.396 +03:00 [DBG] An error occurred using the connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:23.398 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:23.400 +03:00 [DBG] An error occurred using the connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:23.448 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:26:23.486 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:26:23.487 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:26:23.520 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:26:23.547 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:26:23.548 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 16:26:23.549 +03:00 [DBG] Opening connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:23.564 +03:00 [DBG] Opened connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:23.570 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:23.577 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 16:26:23.584 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2024-06-29 16:26:23.592 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [IGTDBTest3];
2024-06-29 16:26:23.892 +03:00 [INF] Executed DbCommand (299ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [IGTDBTest3];
2024-06-29 16:26:23.895 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:23.896 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:23.897 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:23.898 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [IGTDBTest3] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-06-29 16:26:23.972 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [IGTDBTest3] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-06-29 16:26:23.976 +03:00 [DBG] Closing connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:23.985 +03:00 [DBG] Closed connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 16:26:23.989 +03:00 [DBG] Disposing connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:23.991 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:26:23.993 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.003 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.005 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.006 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.008 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-06-29 16:26:24.010 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:26:24.019 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:26:24.022 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.024 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:26:24.077 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.078 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.079 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.080 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.082 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.083 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-06-29 16:26:24.090 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-06-29 16:26:24.093 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.094 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:26:24.096 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.097 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.098 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.099 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.100 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.101 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:26:24.104 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:26:24.106 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.107 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:26:24.110 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:26:24.111 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:26:24.112 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:26:24.113 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.115 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.116 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:26:24.130 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:26:24.133 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.134 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:26:24.137 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.138 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.139 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:26:24.140 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:26:24.141 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:26:24.143 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:26:24.146 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:26:24.150 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.152 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:26:24.154 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.155 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:26:24.165 +03:00 [INF] Applying migration '20240629132613_Init'.
2024-06-29 16:26:24.233 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 16:26:24.240 +03:00 [DBG] Executing 5 update commands as a batch.
2024-06-29 16:26:24.242 +03:00 [DBG] Executing 3 update commands as a batch.
2024-06-29 16:26:24.246 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.247 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.250 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:26:24.255 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:26:24.257 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.258 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.260 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.261 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [FirstLogin] bit NOT NULL,
    [isTempUser] bit NOT NULL,
    [expiresAt] datetime2 NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-06-29 16:26:24.266 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [FirstLogin] bit NOT NULL,
    [isTempUser] bit NOT NULL,
    [expiresAt] datetime2 NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-06-29 16:26:24.269 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.269 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.271 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.272 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Privilege] (
    [PrivilegeId] bigint NOT NULL,
    [Name] varchar(255) NOT NULL,
    [Code] varchar(255) NOT NULL,
    [BackendURL] varchar(255) NOT NULL,
    [IsGeneral] bit NOT NULL,
    [IsSuperAdmin] bit NOT NULL,
    [IsAdmin] bit NOT NULL,
    CONSTRAINT [PK__Privileg__B3E77E5CCF515C05] PRIMARY KEY ([PrivilegeId])
);
2024-06-29 16:26:24.276 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Privilege] (
    [PrivilegeId] bigint NOT NULL,
    [Name] varchar(255) NOT NULL,
    [Code] varchar(255) NOT NULL,
    [BackendURL] varchar(255) NOT NULL,
    [IsGeneral] bit NOT NULL,
    [IsSuperAdmin] bit NOT NULL,
    [IsAdmin] bit NOT NULL,
    CONSTRAINT [PK__Privileg__B3E77E5CCF515C05] PRIMARY KEY ([PrivilegeId])
);
2024-06-29 16:26:24.278 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.279 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.281 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SystemStatusCode] (
    [SystemStatusCodeId] bigint NOT NULL,
    [Name] varchar(255) NULL,
    [Status] varchar(255) NULL,
    [Model] varchar(255) NULL,
    CONSTRAINT [PK__SystemStatusCode__B3E77E5CCF515C05] PRIMARY KEY ([SystemStatusCodeId])
);
2024-06-29 16:26:24.285 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [SystemStatusCode] (
    [SystemStatusCodeId] bigint NOT NULL,
    [Name] varchar(255) NULL,
    [Status] varchar(255) NULL,
    [Model] varchar(255) NULL,
    CONSTRAINT [PK__SystemStatusCode__B3E77E5CCF515C05] PRIMARY KEY ([SystemStatusCodeId])
);
2024-06-29 16:26:24.288 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.288 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.289 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.291 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.294 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.297 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.298 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.300 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.301 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.305 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.308 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.309 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.310 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.311 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.315 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.318 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.319 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.320 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.321 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [SystemStatusCodeId] bigint NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ROLE_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId])
);
2024-06-29 16:26:24.325 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [SystemStatusCodeId] bigint NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ROLE_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId])
);
2024-06-29 16:26:24.328 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.329 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.330 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.331 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Session] (
    [SessionId] bigint NOT NULL IDENTITY,
    [Token] varchar(max) NULL,
    [SystemStatusCodeId] bigint NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK__Session__B3E77E5CCF515C05] PRIMARY KEY ([SessionId]),
    CONSTRAINT [FK_SESSION_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId]),
    CONSTRAINT [FK_SESSION_REFERENCE_USER] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id])
);
2024-06-29 16:26:24.337 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Session] (
    [SessionId] bigint NOT NULL IDENTITY,
    [Token] varchar(max) NULL,
    [SystemStatusCodeId] bigint NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK__Session__B3E77E5CCF515C05] PRIMARY KEY ([SessionId]),
    CONSTRAINT [FK_SESSION_REFERENCE_SYSTEM_STATUS_CODE] FOREIGN KEY ([SystemStatusCodeId]) REFERENCES [SystemStatusCode] ([SystemStatusCodeId]),
    CONSTRAINT [FK_SESSION_REFERENCE_USER] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id])
);
2024-06-29 16:26:24.339 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.340 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.341 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.342 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.345 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.348 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.349 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.350 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.351 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.355 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-29 16:26:24.357 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.358 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.360 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RolePrivilege] (
    [RoleId] nvarchar(450) NOT NULL,
    [Id] bigint NOT NULL,
    CONSTRAINT [PK_RolePrivilege] PRIMARY KEY ([RoleId], [Id]),
    CONSTRAINT [FK_RolePrivilege_Privilege] FOREIGN KEY ([Id]) REFERENCES [Privilege] ([PrivilegeId]),
    CONSTRAINT [FK_RolePrivilege_Role] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id])
);
2024-06-29 16:26:24.364 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RolePrivilege] (
    [RoleId] nvarchar(450) NOT NULL,
    [Id] bigint NOT NULL,
    CONSTRAINT [PK_RolePrivilege] PRIMARY KEY ([RoleId], [Id]),
    CONSTRAINT [FK_RolePrivilege_Privilege] FOREIGN KEY ([Id]) REFERENCES [Privilege] ([PrivilegeId]),
    CONSTRAINT [FK_RolePrivilege_Role] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id])
);
2024-06-29 16:26:24.367 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.367 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.370 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName', N'SystemStatusCodeId') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName], [SystemStatusCodeId])
VALUES (N'643bc1c8-c407-492f-af46-216427dfab49', N'2', N'Role', N'User', N'User', NULL),
(N'fd7928be-dbfb-4727-a8ea-dbd75b994932', N'1', N'Role', N'Admin', N'Admin', NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName', N'SystemStatusCodeId') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-06-29 16:26:24.391 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName', N'SystemStatusCodeId') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName], [SystemStatusCodeId])
VALUES (N'643bc1c8-c407-492f-af46-216427dfab49', N'2', N'Role', N'User', N'User', NULL),
(N'fd7928be-dbfb-4727-a8ea-dbd75b994932', N'1', N'Role', N'Admin', N'Admin', NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName', N'SystemStatusCodeId') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-06-29 16:26:24.394 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.395 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.396 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.397 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'PrivilegeId', N'BackendURL', N'Code', N'IsAdmin', N'IsGeneral', N'IsSuperAdmin', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] ON;
INSERT INTO [Privilege] ([PrivilegeId], [BackendURL], [Code], [IsAdmin], [IsGeneral], [IsSuperAdmin], [Name])
VALUES (CAST(1 AS bigint), 'AuthenticationController/addUser', 'addUser', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Add user'),
(CAST(2 AS bigint), '', 'addMachine', CAST(0 AS bit), CAST(0 AS bit), CAST(1 AS bit), 'Add machine'),
(CAST(3 AS bigint), '', 'Machine status', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Machine status'),
(CAST(4 AS bigint), '', 'bussinesAnalitics', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Bussines analytics'),
(CAST(5 AS bigint), '', 'editDeleteUser', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'EditDelete user');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'PrivilegeId', N'BackendURL', N'Code', N'IsAdmin', N'IsGeneral', N'IsSuperAdmin', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] OFF;
2024-06-29 16:26:24.414 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'PrivilegeId', N'BackendURL', N'Code', N'IsAdmin', N'IsGeneral', N'IsSuperAdmin', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] ON;
INSERT INTO [Privilege] ([PrivilegeId], [BackendURL], [Code], [IsAdmin], [IsGeneral], [IsSuperAdmin], [Name])
VALUES (CAST(1 AS bigint), 'AuthenticationController/addUser', 'addUser', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Add user'),
(CAST(2 AS bigint), '', 'addMachine', CAST(0 AS bit), CAST(0 AS bit), CAST(1 AS bit), 'Add machine'),
(CAST(3 AS bigint), '', 'Machine status', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Machine status'),
(CAST(4 AS bigint), '', 'bussinesAnalitics', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'Bussines analytics'),
(CAST(5 AS bigint), '', 'editDeleteUser', CAST(0 AS bit), CAST(0 AS bit), CAST(0 AS bit), 'EditDelete user');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'PrivilegeId', N'BackendURL', N'Code', N'IsAdmin', N'IsGeneral', N'IsSuperAdmin', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] OFF;
2024-06-29 16:26:24.418 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.419 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.420 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.421 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SystemStatusCodeId', N'Model', N'Name', N'Status') AND [object_id] = OBJECT_ID(N'[SystemStatusCode]'))
    SET IDENTITY_INSERT [SystemStatusCode] ON;
INSERT INTO [SystemStatusCode] ([SystemStatusCodeId], [Model], [Name], [Status])
VALUES (CAST(1 AS bigint), 'GENERAL', 'DELETED', 'DELETED'),
(CAST(2 AS bigint), 'GENERAL', 'EXPIRED', 'EXPIRED'),
(CAST(3 AS bigint), 'GENERAL', 'ACTIVE', 'ACTIVE');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SystemStatusCodeId', N'Model', N'Name', N'Status') AND [object_id] = OBJECT_ID(N'[SystemStatusCode]'))
    SET IDENTITY_INSERT [SystemStatusCode] OFF;
2024-06-29 16:26:24.432 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SystemStatusCodeId', N'Model', N'Name', N'Status') AND [object_id] = OBJECT_ID(N'[SystemStatusCode]'))
    SET IDENTITY_INSERT [SystemStatusCode] ON;
INSERT INTO [SystemStatusCode] ([SystemStatusCodeId], [Model], [Name], [Status])
VALUES (CAST(1 AS bigint), 'GENERAL', 'DELETED', 'DELETED'),
(CAST(2 AS bigint), 'GENERAL', 'EXPIRED', 'EXPIRED'),
(CAST(3 AS bigint), 'GENERAL', 'ACTIVE', 'ACTIVE');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'SystemStatusCodeId', N'Model', N'Name', N'Status') AND [object_id] = OBJECT_ID(N'[SystemStatusCode]'))
    SET IDENTITY_INSERT [SystemStatusCode] OFF;
2024-06-29 16:26:24.435 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.436 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.438 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.439 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-06-29 16:26:24.441 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-06-29 16:26:24.444 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.445 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.446 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.447 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexRoleSystemStatusCodeId] ON [AspNetRoles] ([SystemStatusCodeId]);
2024-06-29 16:26:24.450 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexRoleSystemStatusCodeId] ON [AspNetRoles] ([SystemStatusCodeId]);
2024-06-29 16:26:24.452 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.453 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.454 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.455 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-06-29 16:26:24.459 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-06-29 16:26:24.461 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.462 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.463 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.464 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-06-29 16:26:24.467 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-06-29 16:26:24.470 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.470 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.472 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.473 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-06-29 16:26:24.476 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-06-29 16:26:24.477 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.478 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.480 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.481 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-06-29 16:26:24.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-06-29 16:26:24.485 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.486 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.488 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.489 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-06-29 16:26:24.491 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-06-29 16:26:24.493 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.494 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.495 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.496 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-06-29 16:26:24.499 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-06-29 16:26:24.501 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.502 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.503 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.504 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RolePrivilege_Id] ON [RolePrivilege] ([Id]);
2024-06-29 16:26:24.506 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RolePrivilege_Id] ON [RolePrivilege] ([Id]);
2024-06-29 16:26:24.508 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.509 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.510 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.512 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionSystemStatusCodeId] ON [Session] ([SystemStatusCodeId]);
2024-06-29 16:26:24.514 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionSystemStatusCodeId] ON [Session] ([SystemStatusCodeId]);
2024-06-29 16:26:24.516 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.517 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.518 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:26:24.519 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionUserId] ON [Session] ([UserId]);
2024-06-29 16:26:24.522 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IndexSessionUserId] ON [Session] ([UserId]);
2024-06-29 16:26:24.523 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:26:24.524 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:26:24.525 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:26:24.526 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629132613_Init', N'8.0.2');
2024-06-29 16:26:24.530 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240629132613_Init', N'8.0.2');
2024-06-29 16:26:24.533 +03:00 [DBG] Committing transaction.
2024-06-29 16:26:24.537 +03:00 [DBG] Committed transaction.
2024-06-29 16:26:24.539 +03:00 [DBG] Disposing transaction.
2024-06-29 16:26:24.541 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.542 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:26:24.545 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:26:24.546 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:26:24.547 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-06-29 16:26:24.603 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 16:26:24.724 +03:00 [DBG] Hosting starting
2024-06-29 16:26:24.745 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 16:26:24.753 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 16:26:24.759 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 16:26:24.761 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 16:26:24.766 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 16:26:24.770 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 16:26:24.771 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 16:26:24.777 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 16:26:24.782 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:26:24.785 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 16:26:24.787 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:26:24.790 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 16:26:24.793 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 16:26:24.795 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 16:26:24.797 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 16:26:24.905 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 16:26:24.958 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 16:26:24.959 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 16:26:24.960 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 16:26:24.961 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 16:26:24.962 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 16:26:24.963 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 16:26:25.006 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 16:26:25.008 +03:00 [INF] Hosting environment: Development
2024-06-29 16:26:25.009 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 16:26:25.011 +03:00 [DBG] Hosting started
2024-06-29 16:26:25.087 +03:00 [DBG] Connection id "0HN4O7S9HS8E6" accepted.
2024-06-29 16:26:25.089 +03:00 [DBG] Connection id "0HN4O7S9HS8E6" started.
2024-06-29 16:26:25.092 +03:00 [DBG] Connection id "0HN4O7S9HS8E7" accepted.
2024-06-29 16:26:25.094 +03:00 [DBG] Connection id "0HN4O7S9HS8E7" started.
2024-06-29 16:26:25.105 +03:00 [DBG] Connection id "0HN4O7S9HS8E6" received FIN.
2024-06-29 16:26:25.105 +03:00 [DBG] Connection id "0HN4O7S9HS8E7" received FIN.
2024-06-29 16:26:25.114 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:26:25.114 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:26:25.129 +03:00 [DBG] Connection id "0HN4O7S9HS8E7" stopped.
2024-06-29 16:26:25.129 +03:00 [DBG] Connection id "0HN4O7S9HS8E6" stopped.
2024-06-29 16:26:25.133 +03:00 [DBG] Connection id "0HN4O7S9HS8E6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:26:25.133 +03:00 [DBG] Connection id "0HN4O7S9HS8E7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:26:25.377 +03:00 [DBG] Connection id "0HN4O7S9HS8E8" accepted.
2024-06-29 16:26:25.396 +03:00 [DBG] Connection id "0HN4O7S9HS8E8" started.
2024-06-29 16:26:25.476 +03:00 [DBG] Connection id "0HN4O7S9HS8E8" received FIN.
2024-06-29 16:26:25.477 +03:00 [DBG] Connection id "0HN4O7S9HS8E9" accepted.
2024-06-29 16:26:25.499 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:26:25.531 +03:00 [DBG] Connection id "0HN4O7S9HS8E9" started.
2024-06-29 16:26:25.537 +03:00 [DBG] Connection id "0HN4O7S9HS8E8" stopped.
2024-06-29 16:26:25.539 +03:00 [DBG] Connection id "0HN4O7S9HS8E8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:26:25.542 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:26:25.542 +03:00 [DBG] Connection id "0HN4O7S9HS8E9" received FIN.
2024-06-29 16:26:25.546 +03:00 [DBG] Connection id "0HN4O7S9HS8EA" accepted.
2024-06-29 16:26:25.547 +03:00 [DBG] Connection id "0HN4O7S9HS8E9" stopped.
2024-06-29 16:26:25.550 +03:00 [DBG] Connection id "0HN4O7S9HS8EA" started.
2024-06-29 16:26:25.551 +03:00 [DBG] Connection id "0HN4O7S9HS8E9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:26:25.561 +03:00 [DBG] Connection 0HN4O7S9HS8EA established using the following protocol: "Tls12"
2024-06-29 16:26:25.716 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 16:26:25.858 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 16:26:25.896 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 16:26:25.899 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:26:25.922 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 212.2552ms
2024-06-29 16:26:25.927 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 16:26:25.935 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 16:26:25.936 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:26:25.983 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 16:26:25.985 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 16:26:26.022 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 16:26:26.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 16:26:26.030 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 16:26:26.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 16:26:26.024 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 16:26:26.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 16:26:26.033 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:26:26.039 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 16:26:26.040 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 113.5755ms
2024-06-29 16:26:26.042 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 16:26:26.051 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 16:26:26.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 16:26:26.046 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:26:26.054 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:26:26.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 17.1175ms
2024-06-29 16:26:26.086 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 16:26:26.088 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 65.5344ms
2024-06-29 16:26:26.100 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 16:26:26.131 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 16:26:26.137 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 114.0015ms
2024-06-29 16:26:26.138 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 115.1829ms
2024-06-29 16:26:26.140 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.3642ms
2024-06-29 16:26:26.358 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 16:26:26.364 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 16:26:26.365 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:26:26.521 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.4691ms
2024-06-29 16:26:35.288 +03:00 [DBG] Connection id "0HN4O7S9HS8EA" received FIN.
2024-06-29 16:26:35.294 +03:00 [DBG] Connection id "0HN4O7S9HS8EA" is closed. The last processed stream ID was 15.
2024-06-29 16:26:35.297 +03:00 [DBG] Connection id "0HN4O7S9HS8EA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:26:35.295 +03:00 [DBG] The connection queue processing loop for 0HN4O7S9HS8EA completed.
2024-06-29 16:26:35.302 +03:00 [DBG] Connection id "0HN4O7S9HS8EA" stopped.
2024-06-29 16:26:51.660 +03:00 [DBG] Connection id "0HN4O7S9HS8EB" accepted.
2024-06-29 16:26:51.661 +03:00 [DBG] Connection id "0HN4O7S9HS8EB" started.
2024-06-29 16:26:51.665 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:26:51.665 +03:00 [DBG] Connection id "0HN4O7S9HS8EB" received FIN.
2024-06-29 16:26:51.666 +03:00 [DBG] Connection id "0HN4O7S9HS8EC" accepted.
2024-06-29 16:26:51.673 +03:00 [DBG] Connection id "0HN4O7S9HS8EB" stopped.
2024-06-29 16:26:51.687 +03:00 [DBG] Connection id "0HN4O7S9HS8EC" started.
2024-06-29 16:26:51.689 +03:00 [DBG] Connection id "0HN4O7S9HS8EB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:26:51.694 +03:00 [DBG] Connection 0HN4O7S9HS8EC established using the following protocol: "Tls12"
2024-06-29 16:26:51.698 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 200
2024-06-29 16:26:51.704 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:26:51.707 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:26:51.711 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:26:51.713 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:26:51.748 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 16:26:51.754 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-06-29 16:26:51.759 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-06-29 16:26:51.766 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-29 16:26:51.769 +03:00 [INF] HTTP POST /addUser responded 401 in 53.0977 ms
2024-06-29 16:26:51.772 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 401 0 null 74.0177ms
2024-06-29 16:26:51.776 +03:00 [DBG] Connection id "0HN4O7S9HS8EC", Request id "0HN4O7S9HS8EC:00000001": started reading request body.
2024-06-29 16:26:51.777 +03:00 [DBG] Connection id "0HN4O7S9HS8EC", Request id "0HN4O7S9HS8EC:00000001": done reading request body.
2024-06-29 16:26:55.294 +03:00 [DBG] Connection id "0HN4O7S9HS8EC" received FIN.
2024-06-29 16:26:55.297 +03:00 [DBG] Connection id "0HN4O7S9HS8EC" is closed. The last processed stream ID was 1.
2024-06-29 16:26:55.298 +03:00 [DBG] The connection queue processing loop for 0HN4O7S9HS8EC completed.
2024-06-29 16:26:55.299 +03:00 [DBG] Connection id "0HN4O7S9HS8EC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:26:55.313 +03:00 [DBG] Connection id "0HN4O7S9HS8EC" stopped.
2024-06-29 16:27:03.558 +03:00 [DBG] Connection id "0HN4O7S9HS8ED" accepted.
2024-06-29 16:27:03.559 +03:00 [DBG] Connection id "0HN4O7S9HS8ED" started.
2024-06-29 16:27:03.564 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:27:03.564 +03:00 [DBG] Connection id "0HN4O7S9HS8ED" received FIN.
2024-06-29 16:27:03.565 +03:00 [DBG] Connection id "0HN4O7S9HS8EE" accepted.
2024-06-29 16:27:03.571 +03:00 [DBG] Connection id "0HN4O7S9HS8ED" stopped.
2024-06-29 16:27:03.573 +03:00 [DBG] Connection id "0HN4O7S9HS8EE" started.
2024-06-29 16:27:03.574 +03:00 [DBG] Connection id "0HN4O7S9HS8ED" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:27:03.582 +03:00 [DBG] Connection 0HN4O7S9HS8EE established using the following protocol: "Tls12"
2024-06-29 16:27:03.585 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 48
2024-06-29 16:27:03.588 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:27:03.588 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:27:03.591 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:27:03.592 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:27:03.595 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-06-29 16:27:03.596 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:27:03.619 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:27:03.622 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:27:03.625 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:27:03.626 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:27:03.628 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:27:03.629 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:27:03.634 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:27:03.644 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:27:03.661 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:27:03.664 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:27:03.667 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:27:03.674 +03:00 [DBG] Connection id "0HN4O7S9HS8EE", Request id "0HN4O7S9HS8EE:00000001": started reading request body.
2024-06-29 16:27:03.676 +03:00 [DBG] Connection id "0HN4O7S9HS8EE", Request id "0HN4O7S9HS8EE:00000001": done reading request body.
2024-06-29 16:27:03.681 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:27:03.682 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:27:03.683 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:27:03.684 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:27:03.694 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:27:03.809 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:27:03.814 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:27:03.815 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:27:03.816 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:27:03.817 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:27:03.820 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 16:27:03.846 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 210.6642ms
2024-06-29 16:27:03.849 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:27:03.850 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 256.9793 ms
2024-06-29 16:27:03.855 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 269.7644ms
2024-06-29 16:27:15.228 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 200
2024-06-29 16:27:15.233 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:27:15.236 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:27:15.238 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:27:15.240 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:27:15.307 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:27:15.309 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:27:15.313 +03:00 [DBG] Authorization was successful.
2024-06-29 16:27:15.314 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:27:15.319 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:27:15.322 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:27:15.323 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:27:15.325 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:27:15.327 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:27:15.328 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:27:15.342 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 16:27:15.346 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 16:27:15.347 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 16:27:15.349 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 16:27:15.351 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:27:15.357 +03:00 [DBG] Connection id "0HN4O7S9HS8EE", Request id "0HN4O7S9HS8EE:00000003": started reading request body.
2024-06-29 16:27:15.357 +03:00 [DBG] Connection id "0HN4O7S9HS8EE", Request id "0HN4O7S9HS8EE:00000003": done reading request body.
2024-06-29 16:27:15.362 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 16:27:15.363 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 16:27:15.365 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 16:27:15.366 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 16:27:15.371 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 16:27:15.410 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:27:15.471 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-06-29 16:27:15.767 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:27:15.870 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:27:15.871 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:27:15.875 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:15.878 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:15.879 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:15.881 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:15.885 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 16:27:15.891 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 16:27:15.939 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 16:27:15.954 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:15.955 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 13ms reading results.
2024-06-29 16:27:15.961 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:15.962 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:15.967 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 16:27:15.975 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:27:15.979 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:15.981 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:15.982 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:15.983 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:15.984 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:15.986 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:15.990 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:15.994 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:15.995 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:27:15.997 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:15.999 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:16.163 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:27:16.166 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:27:16.167 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:27:16.168 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:27:16.169 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:27:16.170 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 16:27:16.175 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 845.7048ms
2024-06-29 16:27:16.177 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:27:16.180 +03:00 [INF] HTTP POST /addUser responded 200 in 935.6549 ms
2024-06-29 16:27:16.181 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:27:16.185 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:16.188 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 16:27:16.189 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 961.1331ms
2024-06-29 16:27:20.298 +03:00 [DBG] Connection id "0HN4O7S9HS8EE" received FIN.
2024-06-29 16:27:20.310 +03:00 [DBG] Connection id "0HN4O7S9HS8EE" is closed. The last processed stream ID was 3.
2024-06-29 16:27:20.311 +03:00 [DBG] The connection queue processing loop for 0HN4O7S9HS8EE completed.
2024-06-29 16:27:20.314 +03:00 [DBG] Connection id "0HN4O7S9HS8EE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:27:20.319 +03:00 [DBG] Connection id "0HN4O7S9HS8EE" stopped.
2024-06-29 16:27:22.124 +03:00 [DBG] Connection id "0HN4O7S9HS8EF" accepted.
2024-06-29 16:27:22.126 +03:00 [DBG] Connection id "0HN4O7S9HS8EF" started.
2024-06-29 16:27:22.131 +03:00 [DBG] Connection id "0HN4O7S9HS8EG" accepted.
2024-06-29 16:27:22.131 +03:00 [DBG] Connection id "0HN4O7S9HS8EF" received FIN.
2024-06-29 16:27:22.132 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:27:22.133 +03:00 [DBG] Connection id "0HN4O7S9HS8EG" started.
2024-06-29 16:27:22.138 +03:00 [DBG] Connection id "0HN4O7S9HS8EF" stopped.
2024-06-29 16:27:22.144 +03:00 [DBG] Connection id "0HN4O7S9HS8EF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:27:22.146 +03:00 [DBG] Connection 0HN4O7S9HS8EG established using the following protocol: "Tls12"
2024-06-29 16:27:22.148 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 201
2024-06-29 16:27:22.152 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:27:22.153 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:27:22.155 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:27:22.156 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:27:22.158 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:27:22.159 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:27:22.161 +03:00 [DBG] Authorization was successful.
2024-06-29 16:27:22.162 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:27:22.163 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:27:22.166 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:27:22.167 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:27:22.169 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:27:22.170 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:27:22.172 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:27:22.175 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 16:27:22.177 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-06-29 16:27:22.177 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 16:27:22.179 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' using the name '' in request data ...
2024-06-29 16:27:22.181 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:27:22.182 +03:00 [DBG] Connection id "0HN4O7S9HS8EG", Request id "0HN4O7S9HS8EG:00000001": started reading request body.
2024-06-29 16:27:22.183 +03:00 [DBG] Connection id "0HN4O7S9HS8EG", Request id "0HN4O7S9HS8EG:00000001": done reading request body.
2024-06-29 16:27:22.185 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'
2024-06-29 16:27:22.186 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 16:27:22.187 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 16:27:22.188 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO' ...
2024-06-29 16:27:22.190 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.UserManagment.CreateUserInputDTO'.
2024-06-29 16:27:22.240 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:27:22.245 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:27:22.246 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:27:22.247 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.249 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.250 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:22.251 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:22.252 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:27:22.253 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 16:27:22.258 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-06-29 16:27:22.261 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.262 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:27:22.264 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.266 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:22.267 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.268 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.270 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:22.271 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:22.272 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:22.273 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:22.287 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:22.294 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.295 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-06-29 16:27:22.298 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.299 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:22.309 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-06-29 16:27:22.322 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4], [Property: Role.SystemStatusCodeId (long?) FK Index, 5] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName, a.SystemStatusCodeId
            FROM AspNetRoles AS a
            WHERE (a.Discriminator == N'Role') && (a.NormalizedName == @__normalizedName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:27:22.328 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.329 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.330 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:22.332 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:27:22.333 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:27:22.335 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 16:27:22.344 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedName_0
2024-06-29 16:27:22.380 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:22.401 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.403 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 55ms reading results.
2024-06-29 16:27:22.404 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.405 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:27:22.545 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.549 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.551 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:22.552 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:22.557 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 16:27:22.558 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:22.564 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:22.573 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.578 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 16:27:22.584 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.585 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:22.685 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:22.696 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:27:22.711 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:27:22.765 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:27:22.816 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.817 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.821 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:22.822 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:22.823 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:27:22.825 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 16:27:22.834 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstLogin], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName], [expiresAt], [isTempUser])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2024-06-29 16:27:22.840 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.841 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 16:27:22.843 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.844 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:27:22.854 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:22.857 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:27:22.863 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-06-29 16:27:22.868 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4], [Property: Role.SystemStatusCodeId (long?) FK Index, 5] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName, a.SystemStatusCodeId
            FROM AspNetRoles AS a
            WHERE (a.Discriminator == N'Role') && (a.NormalizedName == @__normalizedRoleName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:27:22.871 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.872 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.873 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:22.875 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:22.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:27:22.877 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 16:27:22.883 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 16:27:22.886 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.888 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:27:22.890 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.891 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:27:22.904 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-06-29 16:27:22.933 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:27:22.937 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.939 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.940 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:22.941 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:22.941 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:22.943 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 16:27:22.947 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-06-29 16:27:22.951 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.952 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:27:22.954 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.955 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:27:22.960 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.961 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.962 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:22.962 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:22.965 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:27:22.966 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 16:27:22.972 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
FROM [AspNetRoles] AS [a]
WHERE [a].[Discriminator] = N'Role' AND [a].[NormalizedName] = @__normalizedRoleName_0
2024-06-29 16:27:22.974 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.975 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:27:22.977 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.979 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:27:22.990 +03:00 [DBG] Context 'AkramDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:22.994 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.995 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:22.996 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:22.997 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:23.000 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:27:23.001 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:23.009 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:23.013 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:23.015 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:27:23.016 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:23.017 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:27:23.023 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:23.024 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:27:23.025 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:27:23.027 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:27:23.043 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 16:27:23.045 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:23.046 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:23.048 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:27:23.050 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:27:23.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:23.051 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:23.052 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:23.053 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 16:27:23.066 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p21='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p22='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstLogin] = @p6, [FirstName] = @p7, [LastName] = @p8, [LockoutEnabled] = @p9, [LockoutEnd] = @p10, [NormalizedEmail] = @p11, [NormalizedUserName] = @p12, [PasswordHash] = @p13, [PhoneNumber] = @p14, [PhoneNumberConfirmed] = @p15, [SecurityStamp] = @p16, [TwoFactorEnabled] = @p17, [UserName] = @p18, [expiresAt] = @p19, [isTempUser] = @p20
OUTPUT 1
WHERE [Id] = @p21 AND [ConcurrencyStamp] = @p22;
2024-06-29 16:27:23.076 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:23.078 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 6ms reading results.
2024-06-29 16:27:23.081 +03:00 [DBG] Committing transaction.
2024-06-29 16:27:23.084 +03:00 [DBG] Committed transaction.
2024-06-29 16:27:23.086 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:23.088 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:23.091 +03:00 [DBG] Disposing transaction.
2024-06-29 16:27:23.093 +03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:23.096 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:23.098 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 16:27:25.079 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:27:25.084 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:27:25.085 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:27:25.087 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:27:25.088 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:27:25.089 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-06-29 16:27:25.091 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 2917.5006ms
2024-06-29 16:27:25.092 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:27:25.094 +03:00 [INF] HTTP POST /addUser responded 200 in 2936.9759 ms
2024-06-29 16:27:25.095 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:27:25.096 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:25.097 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:27:25.099 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 200 null application/json; charset=utf-8 2951.1952ms
2024-06-29 16:27:30.299 +03:00 [DBG] Connection id "0HN4O7S9HS8EG" received FIN.
2024-06-29 16:27:30.300 +03:00 [DBG] The connection queue processing loop for 0HN4O7S9HS8EG completed.
2024-06-29 16:27:30.300 +03:00 [DBG] Connection id "0HN4O7S9HS8EG" is closed. The last processed stream ID was 1.
2024-06-29 16:27:30.304 +03:00 [DBG] Connection id "0HN4O7S9HS8EG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:27:30.317 +03:00 [DBG] Connection id "0HN4O7S9HS8EG" stopped.
2024-06-29 16:27:51.105 +03:00 [DBG] Connection id "0HN4O7S9HS8EH" accepted.
2024-06-29 16:27:51.107 +03:00 [DBG] Connection id "0HN4O7S9HS8EH" started.
2024-06-29 16:27:51.110 +03:00 [DBG] Connection id "0HN4O7S9HS8EH" received FIN.
2024-06-29 16:27:51.110 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:27:51.112 +03:00 [DBG] Connection id "0HN4O7S9HS8EI" accepted.
2024-06-29 16:27:51.120 +03:00 [DBG] Connection id "0HN4O7S9HS8EH" stopped.
2024-06-29 16:27:51.122 +03:00 [DBG] Connection id "0HN4O7S9HS8EH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:27:51.121 +03:00 [DBG] Connection id "0HN4O7S9HS8EI" started.
2024-06-29 16:27:51.136 +03:00 [DBG] Connection 0HN4O7S9HS8EI established using the following protocol: "Tls12"
2024-06-29 16:27:51.139 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 56
2024-06-29 16:27:51.143 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:27:51.144 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:27:51.147 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:27:51.148 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:27:51.149 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:27:51.150 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:27:51.151 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:27:51.152 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:27:51.155 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:27:51.156 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:27:51.157 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:27:51.159 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:27:51.161 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:27:51.163 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:27:51.165 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:27:51.165 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:27:51.167 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:27:51.169 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:27:51.170 +03:00 [DBG] Connection id "0HN4O7S9HS8EI", Request id "0HN4O7S9HS8EI:00000001": started reading request body.
2024-06-29 16:27:51.172 +03:00 [DBG] Connection id "0HN4O7S9HS8EI", Request id "0HN4O7S9HS8EI:00000001": done reading request body.
2024-06-29 16:27:51.173 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:27:51.174 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:27:51.175 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:27:51.176 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:27:51.178 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:27:51.179 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:27:51.183 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:27:51.184 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:27:51.185 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.186 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:51.189 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:51.190 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:27:51.191 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:51.198 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:27:51.202 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:51.204 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.205 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 16:27:51.206 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.207 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:51.330 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 16:27:51.386 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:27:51.391 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.392 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.393 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:51.394 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:51.398 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 16:27:51.400 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:27:51.408 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:27:51.416 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.419 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 16:27:51.421 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.422 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:51.433 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()'
2024-06-29 16:27:51.442 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:27:51.451 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.456 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.457 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:51.458 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:51.462 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 16:27:51.464 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:27:51.470 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:27:51.481 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:51.490 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:51.492 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:51.495 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.496 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 24ms reading results.
2024-06-29 16:27:51.498 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.500 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:51.510 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:27:51.511 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:27:51.519 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:27:51.523 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 0 entities written to the database.
2024-06-29 16:27:51.533 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 16:27:51.546 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:27:51.552 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.553 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:51.555 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:51.559 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-06-29 16:27:51.560 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:27:51.567 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:27:51.572 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.574 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:27:51.575 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.576 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:27:51.594 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 16:27:51.623 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:27:51.630 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.631 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.635 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:51.636 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:51.637 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:27:51.638 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:27:51.652 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:27:51.657 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.658 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:27:51.659 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.664 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-06-29 16:27:51.671 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.672 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.673 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:51.678 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-06-29 16:27:51.680 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 16:27:51.684 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:27:51.687 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:27:51.693 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.697 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 16:27:51.700 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:51.734 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (34ms).
2024-06-29 16:27:54.569 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:54.571 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:54.572 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:54.573 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:27:54.575 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:27:54.577 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:27:54.582 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:27:54.585 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:54.587 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:27:54.589 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:54.590 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:27:54.622 +03:00 [DBG] 'AkramDbContext' generated a temporary value for the property 'Session.SessionId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:54.647 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:54.651 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:27:54.652 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:27:54.656 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:27:54.662 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:54.663 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:54.664 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:27:54.666 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:27:54.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:27:54.668 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SystemStatusCodeId], [Token], [UserId])
OUTPUT INSERTED.[SessionId]
VALUES (@p0, @p1, @p2);
2024-06-29 16:27:54.676 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SystemStatusCodeId], [Token], [UserId])
OUTPUT INSERTED.[SessionId]
VALUES (@p0, @p1, @p2);
2024-06-29 16:27:54.687 +03:00 [DBG] The foreign key property 'Session.SessionId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 16:27:54.691 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:54.693 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 14ms reading results.
2024-06-29 16:27:54.695 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:54.696 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:27:54.699 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:27:54.701 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:27:54.703 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:27:54.705 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:27:54.706 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:27:54.707 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:27:54.708 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:27:54.709 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 16:27:54.710 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 3547.2287ms
2024-06-29 16:27:54.711 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:27:54.712 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 3563.4691 ms
2024-06-29 16:27:54.714 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:27:54.715 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:27:54.716 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:27:54.717 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 3578.712ms
2024-06-29 16:28:00.304 +03:00 [DBG] Connection id "0HN4O7S9HS8EI" received FIN.
2024-06-29 16:28:00.307 +03:00 [DBG] Connection id "0HN4O7S9HS8EI" is closed. The last processed stream ID was 1.
2024-06-29 16:28:00.308 +03:00 [DBG] The connection queue processing loop for 0HN4O7S9HS8EI completed.
2024-06-29 16:28:00.310 +03:00 [DBG] Connection id "0HN4O7S9HS8EI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:28:00.326 +03:00 [DBG] Connection id "0HN4O7S9HS8EI" stopped.
2024-06-29 16:28:05.546 +03:00 [DBG] Connection id "0HN4O7S9HS8EJ" accepted.
2024-06-29 16:28:05.554 +03:00 [DBG] Connection id "0HN4O7S9HS8EJ" started.
2024-06-29 16:28:05.558 +03:00 [DBG] Connection id "0HN4O7S9HS8EJ" received FIN.
2024-06-29 16:28:05.558 +03:00 [DBG] Connection id "0HN4O7S9HS8EK" accepted.
2024-06-29 16:28:05.560 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:28:05.561 +03:00 [DBG] Connection id "0HN4O7S9HS8EK" started.
2024-06-29 16:28:05.566 +03:00 [DBG] Connection id "0HN4O7S9HS8EJ" stopped.
2024-06-29 16:28:05.568 +03:00 [DBG] Connection id "0HN4O7S9HS8EJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:28:05.572 +03:00 [DBG] Connection 0HN4O7S9HS8EK established using the following protocol: "Tls12"
2024-06-29 16:28:05.574 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 56
2024-06-29 16:28:05.582 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:28:05.583 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:28:05.586 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:28:05.587 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:28:05.589 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:28:05.589 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:28:05.590 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:28:05.593 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:28:05.595 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:28:05.597 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:28:05.601 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:28:05.603 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:28:05.604 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:28:05.609 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:28:05.625 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:28:05.626 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:28:05.628 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:28:05.631 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:28:05.632 +03:00 [DBG] Connection id "0HN4O7S9HS8EK", Request id "0HN4O7S9HS8EK:00000001": started reading request body.
2024-06-29 16:28:05.634 +03:00 [DBG] Connection id "0HN4O7S9HS8EK", Request id "0HN4O7S9HS8EK:00000001": done reading request body.
2024-06-29 16:28:05.635 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:28:05.636 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:28:05.637 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:28:05.638 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:28:05.639 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:28:05.642 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:28:05.644 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:28:05.645 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:28:05.645 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.653 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.658 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:05.659 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:05.660 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:05.662 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:28:05.668 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:28:05.671 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.672 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.673 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:28:05.675 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.677 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:28:05.763 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.764 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.766 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:05.767 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:05.768 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:28:05.770 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:28:05.777 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:28:05.782 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.783 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.784 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 16:28:05.785 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.787 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:28:05.789 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.790 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.791 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:05.792 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:05.793 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:05.794 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:28:05.797 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:28:05.801 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.803 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.805 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.808 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.809 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.810 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 11ms reading results.
2024-06-29 16:28:05.813 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.816 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (3ms).
2024-06-29 16:28:05.818 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.820 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:28:05.821 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:28:05.824 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.826 +03:00 [DBG] The foreign key property 'Session.SystemStatusCodeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 16:28:05.832 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:28:05.836 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.838 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.840 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:05.841 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:05.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:28:05.844 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 16:28:05.852 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
2024-06-29 16:28:05.857 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.859 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-06-29 16:28:05.860 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.862 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:05.864 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.866 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:28:05.868 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.869 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.871 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:05.872 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:05.873 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:05.874 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:28:05.878 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:28:05.881 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.882 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:28:05.884 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.886 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:28:05.887 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.888 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.889 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:05.890 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:05.892 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:28:05.893 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:28:05.897 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:28:05.901 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.901 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-06-29 16:28:05.903 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.904 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:05.906 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.907 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.909 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:05.909 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:05.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:05.913 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:28:05.916 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:28:05.918 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.921 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:28:05.922 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.923 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:05.924 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.927 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.928 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:05.929 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:05.930 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:05.931 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:28:05.935 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:28:05.937 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.938 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-06-29 16:28:05.939 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.941 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:05.943 +03:00 [DBG] 'AkramDbContext' generated a temporary value for the property 'Session.SessionId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.944 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.945 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:28:05.947 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:28:05.948 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:28:05.950 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.951 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.952 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:05.953 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:05.955 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:28:05.957 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SystemStatusCodeId], [Token], [UserId])
OUTPUT INSERTED.[SessionId]
VALUES (@p0, @p1, @p2);
2024-06-29 16:28:05.963 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SystemStatusCodeId], [Token], [UserId])
OUTPUT INSERTED.[SessionId]
VALUES (@p0, @p1, @p2);
2024-06-29 16:28:05.965 +03:00 [DBG] The foreign key property 'Session.SessionId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 16:28:05.966 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.968 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:28:05.970 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.971 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:28:05.973 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:05.974 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:28:05.977 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:28:05.979 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:28:05.979 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:28:05.980 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:28:05.981 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:28:05.983 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 16:28:05.985 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 376.4404ms
2024-06-29 16:28:05.986 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:28:05.987 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 399.0084 ms
2024-06-29 16:28:05.991 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:28:05.992 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:05.993 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:28:05.996 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 421.2715ms
2024-06-29 16:28:10.306 +03:00 [DBG] Connection id "0HN4O7S9HS8EK" received FIN.
2024-06-29 16:28:10.308 +03:00 [DBG] Connection id "0HN4O7S9HS8EK" is closed. The last processed stream ID was 1.
2024-06-29 16:28:10.308 +03:00 [DBG] The connection queue processing loop for 0HN4O7S9HS8EK completed.
2024-06-29 16:28:10.309 +03:00 [DBG] Connection id "0HN4O7S9HS8EK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:28:10.322 +03:00 [DBG] Connection id "0HN4O7S9HS8EK" stopped.
2024-06-29 16:28:45.878 +03:00 [DBG] Connection id "0HN4O7S9HS8EL" accepted.
2024-06-29 16:28:45.880 +03:00 [DBG] Connection id "0HN4O7S9HS8EL" started.
2024-06-29 16:28:45.883 +03:00 [DBG] Connection id "0HN4O7S9HS8EL" received FIN.
2024-06-29 16:28:45.889 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:28:45.889 +03:00 [DBG] Connection id "0HN4O7S9HS8EM" accepted.
2024-06-29 16:28:45.898 +03:00 [DBG] Connection id "0HN4O7S9HS8EL" stopped.
2024-06-29 16:28:45.900 +03:00 [DBG] Connection id "0HN4O7S9HS8EM" started.
2024-06-29 16:28:45.900 +03:00 [DBG] Connection id "0HN4O7S9HS8EL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:28:45.908 +03:00 [DBG] Connection 0HN4O7S9HS8EM established using the following protocol: "Tls12"
2024-06-29 16:28:45.909 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 56
2024-06-29 16:28:45.912 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:28:45.914 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:28:45.915 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:28:45.916 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:28:45.917 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:28:45.918 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:28:45.920 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:28:45.921 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:28:45.923 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:28:45.924 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:28:45.926 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:28:45.928 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:28:45.929 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:28:45.931 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:28:45.933 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:28:45.935 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:28:45.936 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:28:45.937 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:28:45.938 +03:00 [DBG] Connection id "0HN4O7S9HS8EM", Request id "0HN4O7S9HS8EM:00000001": started reading request body.
2024-06-29 16:28:45.941 +03:00 [DBG] Connection id "0HN4O7S9HS8EM", Request id "0HN4O7S9HS8EM:00000001": done reading request body.
2024-06-29 16:28:45.942 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:28:45.943 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:28:45.944 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:28:45.945 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:28:45.948 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:28:45.950 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:28:45.951 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:28:45.952 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:28:45.953 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:45.955 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:45.956 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:45.957 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:45.958 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:45.959 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:28:45.965 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:28:45.969 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:45.970 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:45.971 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:28:45.973 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:45.974 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:46.090 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.095 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.096 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:46.098 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:46.105 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-06-29 16:28:46.110 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:28:46.119 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:28:46.125 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.131 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.388 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.428 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 302ms reading results.
2024-06-29 16:28:46.437 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.458 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (21ms).
2024-06-29 16:28:46.473 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.487 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.490 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:46.492 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:46.496 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 16:28:46.501 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:28:46.511 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:28:46.515 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.519 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.521 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.523 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.526 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.528 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.529 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 14ms reading results.
2024-06-29 16:28:46.531 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.533 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:46.534 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.536 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.538 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:28:46.539 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:28:46.540 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.542 +03:00 [DBG] The foreign key property 'Session.SystemStatusCodeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 16:28:46.545 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:28:46.548 +03:00 [DBG] Executing 2 update commands as a batch.
2024-06-29 16:28:46.549 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.550 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.551 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:28:46.553 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:28:46.554 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:46.555 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:46.556 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:28:46.559 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int64), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 16:28:46.566 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int64), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
2024-06-29 16:28:46.569 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.570 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:28:46.571 +03:00 [DBG] Committing transaction.
2024-06-29 16:28:46.573 +03:00 [DBG] Committed transaction.
2024-06-29 16:28:46.573 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.574 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:46.575 +03:00 [DBG] Disposing transaction.
2024-06-29 16:28:46.576 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.578 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:46.580 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-06-29 16:28:46.581 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.582 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.583 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:46.584 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:46.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:46.586 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:28:46.590 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:28:46.592 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.594 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:28:46.595 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.596 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:28:46.598 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.599 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.601 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:46.602 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:28:46.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:46.604 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:28:46.608 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:28:46.611 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.612 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:28:46.614 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.615 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:28:46.617 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.618 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.619 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:46.621 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:46.622 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:28:46.623 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:28:46.629 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:28:46.633 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.634 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:28:46.636 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.638 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:46.639 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.640 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.641 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:46.642 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:46.644 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:28:46.645 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:28:46.649 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:28:46.651 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.652 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:28:46.654 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:46.655 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:57.867 +03:00 [DBG] 'AkramDbContext' generated a temporary value for the property 'Session.SessionId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:57.870 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:58.337 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:28:58.339 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:28:58.341 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:28:58.343 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:58.344 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:58.345 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:28:58.346 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:28:58.347 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:28:58.349 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SystemStatusCodeId], [Token], [UserId])
OUTPUT INSERTED.[SessionId]
VALUES (@p0, @p1, @p2);
2024-06-29 16:28:58.376 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SystemStatusCodeId], [Token], [UserId])
OUTPUT INSERTED.[SessionId]
VALUES (@p0, @p1, @p2);
2024-06-29 16:28:58.379 +03:00 [DBG] The foreign key property 'Session.SessionId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 16:28:58.381 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:58.382 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:28:58.384 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:28:58.386 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:28:58.388 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:28:58.390 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:41:13.360 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:41:13.901 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:41:13.904 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:41:13.905 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:41:14.068 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:41:14.198 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:41:14.206 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:41:14.282 +03:00 [DBG] Created DbConnection. (73ms).
2024-06-29 16:41:14.286 +03:00 [DBG] Migrating using database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.291 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.677 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.684 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:41:14.690 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 16:41:14.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 16:41:14.702 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:41:14.726 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:41:14.731 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.738 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 16:41:14.742 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:41:14.743 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:41:14.744 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:41:14.745 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.747 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.749 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:41:14.763 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:41:14.766 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.768 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:41:14.770 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.771 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.772 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:41:14.773 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:41:14.774 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:41:14.775 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:41:14.777 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:41:14.779 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.780 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:41:14.781 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:41:14.782 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:41:14.783 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:41:14.785 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.786 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.787 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:41:14.789 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:41:14.791 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.792 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:41:14.801 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.803 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.804 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:41:14.805 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:41:14.806 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:41:14.808 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:41:14.813 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:41:14.818 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.820 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:41:14.822 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.823 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:41:14.832 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 16:41:14.835 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:41:14.837 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:41:14.839 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:41:14.931 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 16:41:15.098 +03:00 [DBG] Hosting starting
2024-06-29 16:41:15.128 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 16:41:15.135 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 16:41:15.141 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 16:41:15.144 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 16:41:15.151 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 16:41:15.156 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 16:41:15.158 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 16:41:15.164 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 16:41:15.168 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:41:15.171 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 16:41:15.173 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:41:15.176 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 16:41:15.178 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 16:41:15.181 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 16:41:15.182 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 16:41:15.349 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 16:41:15.404 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 16:41:15.406 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 16:41:15.406 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 16:41:15.407 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 16:41:15.408 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 16:41:15.409 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 16:41:15.457 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 16:41:15.458 +03:00 [INF] Hosting environment: Development
2024-06-29 16:41:15.460 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 16:41:15.461 +03:00 [DBG] Hosting started
2024-06-29 16:41:15.552 +03:00 [DBG] Connection id "0HN4O84IU0DBP" received FIN.
2024-06-29 16:41:15.552 +03:00 [DBG] Connection id "0HN4O84IU0DBO" received FIN.
2024-06-29 16:41:15.565 +03:00 [DBG] Connection id "0HN4O84IU0DBP" accepted.
2024-06-29 16:41:15.574 +03:00 [DBG] Connection id "0HN4O84IU0DBO" accepted.
2024-06-29 16:41:15.576 +03:00 [DBG] Connection id "0HN4O84IU0DBP" started.
2024-06-29 16:41:15.577 +03:00 [DBG] Connection id "0HN4O84IU0DBO" started.
2024-06-29 16:41:15.591 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:41:15.591 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:41:15.607 +03:00 [DBG] Connection id "0HN4O84IU0DBO" stopped.
2024-06-29 16:41:15.607 +03:00 [DBG] Connection id "0HN4O84IU0DBP" stopped.
2024-06-29 16:41:15.612 +03:00 [DBG] Connection id "0HN4O84IU0DBO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:41:15.612 +03:00 [DBG] Connection id "0HN4O84IU0DBP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:41:15.863 +03:00 [DBG] Connection id "0HN4O84IU0DBQ" accepted.
2024-06-29 16:41:15.901 +03:00 [DBG] Connection id "0HN4O84IU0DBQ" started.
2024-06-29 16:41:15.939 +03:00 [DBG] Connection id "0HN4O84IU0DBQ" received FIN.
2024-06-29 16:41:15.940 +03:00 [DBG] Connection id "0HN4O84IU0DBR" accepted.
2024-06-29 16:41:15.947 +03:00 [DBG] Connection id "0HN4O84IU0DBR" started.
2024-06-29 16:41:15.951 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:41:15.960 +03:00 [DBG] Connection id "0HN4O84IU0DBQ" stopped.
2024-06-29 16:41:15.963 +03:00 [DBG] Connection id "0HN4O84IU0DBR" received FIN.
2024-06-29 16:41:15.964 +03:00 [DBG] Connection id "0HN4O84IU0DBQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:41:15.976 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:41:15.978 +03:00 [DBG] Connection id "0HN4O84IU0DBS" accepted.
2024-06-29 16:41:16.003 +03:00 [DBG] Connection id "0HN4O84IU0DBR" stopped.
2024-06-29 16:41:16.004 +03:00 [DBG] Connection id "0HN4O84IU0DBS" started.
2024-06-29 16:41:16.005 +03:00 [DBG] Connection id "0HN4O84IU0DBR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:41:16.023 +03:00 [DBG] Connection 0HN4O84IU0DBS established using the following protocol: "Tls12"
2024-06-29 16:41:16.101 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 16:41:16.367 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 16:41:16.393 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 16:41:16.394 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:41:16.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 321.3055ms
2024-06-29 16:41:16.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 16:41:16.440 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 16:41:16.441 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:41:16.507 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 16:41:16.510 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 16:41:16.549 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 16:41:16.550 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 16:41:16.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 16:41:16.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 16:41:16.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 16:41:16.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 124.7491ms
2024-06-29 16:41:16.553 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 16:41:16.557 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 16:41:16.559 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 16:41:16.568 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:41:16.571 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:41:16.572 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:41:16.591 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 16:41:16.615 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 16:41:16.591 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 16:41:16.623 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 71.6587ms
2024-06-29 16:41:16.610 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 16:41:16.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 82.3795ms
2024-06-29 16:41:16.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 60.4324ms
2024-06-29 16:41:16.655 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 16:41:16.662 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 111.5278ms
2024-06-29 16:41:16.689 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.8428ms
2024-06-29 16:41:16.846 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 16:41:16.852 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 16:41:16.853 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:41:16.981 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 135.6366ms
2024-06-29 16:42:04.023 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 181
2024-06-29 16:42:04.030 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:42:04.032 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:42:04.034 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:42:04.037 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:42:04.191 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:42:04.194 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:42:04.201 +03:00 [DBG] Authorization was successful.
2024-06-29 16:42:04.204 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:42:04.222 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:42:04.227 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:42:04.228 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:42:04.230 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:42:04.232 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:42:04.233 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:42:17.654 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:42:17.793 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.UserName.Equals(__username_0))
    .Select(u => u.Sessions)
    .FirstOrDefault()'
2024-06-29 16:42:17.949 +03:00 [WRN] Possible unintended use of method 'Equals' for arguments 'a.UserName' and '@__username_0' of different types in a query. This comparison will always return false.
2024-06-29 16:42:18.108 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ICollection<Session>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> Dictionary<IProperty, int> { [Property: Session.SessionId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 1], [Property: Session.SystemStatusCodeId (long?) FK Index, 2], [Property: Session.Token (string) ANSI, 3], [Property: Session.UserId (string) FK Index, 4] }
            2 -> 1
        SELECT t.Id, s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM 
        (
            SELECT TOP(1) a.Id
            FROM AspNetUsers AS a
            WHERE CAST(0 AS bit)
        ) AS t
        LEFT JOIN Session AS s ON t.Id == s.UserId
        ORDER BY t.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ICollection<Session>>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-06-29 16:42:18.132 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:42:18.134 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 16:42:18.135 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:18.137 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:18.138 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:42:18.138 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:42:18.141 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:42:18.142 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM (
    SELECT TOP(1) [a].[Id]
    FROM [AspNetUsers] AS [a]
    WHERE 0 = 1
) AS [t]
LEFT JOIN [Session] AS [s] ON [t].[Id] = [s].[UserId]
ORDER BY [t].[Id]
2024-06-29 16:42:18.148 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM (
    SELECT TOP(1) [a].[Id]
    FROM [AspNetUsers] AS [a]
    WHERE 0 = 1
) AS [t]
LEFT JOIN [Session] AS [s] ON [t].[Id] = [s].[UserId]
ORDER BY [t].[Id]
2024-06-29 16:42:18.151 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:18.152 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:42:18.155 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:18.156 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:42:36.179 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:42:36.939 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:42:36.944 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:42:36.946 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:42:37.106 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:42:37.248 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:42:37.256 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:42:37.313 +03:00 [DBG] Created DbConnection. (54ms).
2024-06-29 16:42:37.316 +03:00 [DBG] Migrating using database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.322 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.555 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.561 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:42:37.567 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-06-29 16:42:37.570 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-06-29 16:42:37.577 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:42:37.599 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:42:37.602 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.610 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 16:42:37.613 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:42:37.614 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:42:37.615 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:42:37.616 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.618 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.620 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:42:37.633 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:42:37.635 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.636 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:42:37.638 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.639 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.641 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:42:37.642 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:42:37.643 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:42:37.644 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:42:37.647 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:42:37.649 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.650 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:42:37.651 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:42:37.652 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:42:37.654 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:42:37.656 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.657 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.658 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:42:37.662 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:42:37.666 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.668 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-06-29 16:42:37.680 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.682 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.684 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:42:37.686 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:42:37.687 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-06-29 16:42:37.689 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:42:37.692 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:42:37.696 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.698 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:42:37.701 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.702 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:42:37.714 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 16:42:37.716 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:42:37.719 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:37.721 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:42:37.800 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 16:42:37.913 +03:00 [DBG] Hosting starting
2024-06-29 16:42:37.937 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 16:42:37.944 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 16:42:37.948 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 16:42:37.949 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 16:42:37.954 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 16:42:37.957 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 16:42:37.958 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 16:42:37.964 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 16:42:37.970 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:42:37.972 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 16:42:37.978 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:42:37.982 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 16:42:37.984 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 16:42:37.987 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 16:42:37.989 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 16:42:38.086 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 16:42:38.142 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 16:42:38.144 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 16:42:38.145 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 16:42:38.145 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 16:42:38.146 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 16:42:38.147 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 16:42:38.227 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 16:42:38.229 +03:00 [INF] Hosting environment: Development
2024-06-29 16:42:38.232 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 16:42:38.233 +03:00 [DBG] Hosting started
2024-06-29 16:42:38.504 +03:00 [DBG] Connection id "0HN4O85BL3L3E" accepted.
2024-06-29 16:42:38.504 +03:00 [DBG] Connection id "0HN4O85BL3L3F" accepted.
2024-06-29 16:42:38.507 +03:00 [DBG] Connection id "0HN4O85BL3L3F" started.
2024-06-29 16:42:38.507 +03:00 [DBG] Connection id "0HN4O85BL3L3E" started.
2024-06-29 16:42:38.524 +03:00 [DBG] Connection id "0HN4O85BL3L3F" received FIN.
2024-06-29 16:42:38.524 +03:00 [DBG] Connection id "0HN4O85BL3L3E" received FIN.
2024-06-29 16:42:38.541 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:42:38.539 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:42:38.558 +03:00 [DBG] Connection id "0HN4O85BL3L3F" stopped.
2024-06-29 16:42:38.558 +03:00 [DBG] Connection id "0HN4O85BL3L3E" stopped.
2024-06-29 16:42:38.562 +03:00 [DBG] Connection id "0HN4O85BL3L3E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:42:38.562 +03:00 [DBG] Connection id "0HN4O85BL3L3F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:42:38.745 +03:00 [DBG] Connection id "0HN4O85BL3L3G" accepted.
2024-06-29 16:42:38.767 +03:00 [DBG] Connection id "0HN4O85BL3L3G" started.
2024-06-29 16:42:38.832 +03:00 [DBG] Connection id "0HN4O85BL3L3G" received FIN.
2024-06-29 16:42:38.834 +03:00 [DBG] Connection id "0HN4O85BL3L3H" accepted.
2024-06-29 16:42:38.840 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:42:38.860 +03:00 [DBG] Connection id "0HN4O85BL3L3H" started.
2024-06-29 16:42:38.866 +03:00 [DBG] Connection id "0HN4O85BL3L3G" stopped.
2024-06-29 16:42:38.868 +03:00 [DBG] Connection id "0HN4O85BL3L3G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:42:38.869 +03:00 [DBG] Connection id "0HN4O85BL3L3I" accepted.
2024-06-29 16:42:38.868 +03:00 [DBG] Connection id "0HN4O85BL3L3H" received FIN.
2024-06-29 16:42:38.869 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:42:38.873 +03:00 [DBG] Connection id "0HN4O85BL3L3I" started.
2024-06-29 16:42:38.879 +03:00 [DBG] Connection id "0HN4O85BL3L3H" stopped.
2024-06-29 16:42:38.880 +03:00 [DBG] Connection id "0HN4O85BL3L3H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:42:38.890 +03:00 [DBG] Connection 0HN4O85BL3L3I established using the following protocol: "Tls12"
2024-06-29 16:42:38.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 16:42:39.157 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 16:42:39.180 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 16:42:39.181 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:39.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 251.1942ms
2024-06-29 16:42:39.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 16:42:39.221 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 16:42:39.222 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:39.275 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 16:42:39.278 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 16:42:39.319 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 16:42:39.319 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 16:42:39.319 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 16:42:39.322 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 16:42:39.322 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 16:42:39.324 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 16:42:39.327 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 16:42:39.328 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:39.329 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 16:42:39.330 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:39.331 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:39.333 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 121.0284ms
2024-06-29 16:42:39.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 16:42:39.348 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 16:42:39.368 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 16:42:39.375 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 56.1966ms
2024-06-29 16:42:39.389 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 40.3561ms
2024-06-29 16:42:39.432 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 16:42:39.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 123.6942ms
2024-06-29 16:42:39.450 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 16:42:39.452 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 109.9356ms
2024-06-29 16:42:39.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 138.6897ms
2024-06-29 16:42:39.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 16:42:39.642 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 16:42:39.644 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:39.752 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.8519ms
2024-06-29 16:42:54.628 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:42:55.224 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:42:55.227 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:42:55.229 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:42:55.385 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:42:55.526 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:42:55.534 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:42:55.577 +03:00 [DBG] Created DbConnection. (40ms).
2024-06-29 16:42:55.580 +03:00 [DBG] Migrating using database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.586 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.810 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.817 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:42:55.826 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-06-29 16:42:55.830 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2024-06-29 16:42:55.837 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:42:55.862 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:42:55.866 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.875 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (6ms).
2024-06-29 16:42:55.880 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:42:55.881 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:42:55.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2024-06-29 16:42:55.885 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.887 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.889 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:42:55.904 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:42:55.907 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.912 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 16:42:55.917 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.919 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.920 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:42:55.921 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:42:55.923 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-06-29 16:42:55.924 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:42:55.926 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:42:55.928 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.929 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:42:55.931 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:42:55.932 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:42:55.933 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-06-29 16:42:55.934 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.936 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.937 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:42:55.939 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:42:55.940 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.941 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:42:55.952 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.953 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.955 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:42:55.956 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:42:55.957 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:42:55.958 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:42:55.961 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:42:55.966 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.967 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:42:55.969 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.970 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:42:55.980 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 16:42:55.982 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:42:55.985 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:42:55.987 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 16:42:56.048 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 16:42:56.159 +03:00 [DBG] Hosting starting
2024-06-29 16:42:56.178 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 16:42:56.186 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 16:42:56.190 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 16:42:56.192 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 16:42:56.196 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 16:42:56.201 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 16:42:56.202 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 16:42:56.208 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 16:42:56.212 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:42:56.214 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 16:42:56.216 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:42:56.219 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 16:42:56.221 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 16:42:56.223 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 16:42:56.225 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 16:42:56.322 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 16:42:56.375 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 16:42:56.376 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 16:42:56.377 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 16:42:56.378 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 16:42:56.379 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 16:42:56.380 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 16:42:56.388 +03:00 [DBG] Connection id "0HN4O85GVLB4C" accepted.
2024-06-29 16:42:56.388 +03:00 [DBG] Connection id "0HN4O85GVLB4D" accepted.
2024-06-29 16:42:56.391 +03:00 [DBG] Connection id "0HN4O85GVLB4C" started.
2024-06-29 16:42:56.391 +03:00 [DBG] Connection id "0HN4O85GVLB4D" started.
2024-06-29 16:42:56.402 +03:00 [DBG] Connection id "0HN4O85GVLB4D" received FIN.
2024-06-29 16:42:56.402 +03:00 [DBG] Connection id "0HN4O85GVLB4C" received FIN.
2024-06-29 16:42:56.412 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:42:56.416 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:42:56.433 +03:00 [DBG] Connection id "0HN4O85GVLB4D" stopped.
2024-06-29 16:42:56.433 +03:00 [DBG] Connection id "0HN4O85GVLB4C" stopped.
2024-06-29 16:42:56.438 +03:00 [DBG] Connection id "0HN4O85GVLB4D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:42:56.438 +03:00 [DBG] Connection id "0HN4O85GVLB4C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:42:56.454 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 16:42:56.526 +03:00 [INF] Hosting environment: Development
2024-06-29 16:42:56.530 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 16:42:56.531 +03:00 [DBG] Hosting started
2024-06-29 16:42:56.651 +03:00 [DBG] Connection id "0HN4O85GVLB4E" accepted.
2024-06-29 16:42:56.657 +03:00 [DBG] Connection id "0HN4O85GVLB4E" started.
2024-06-29 16:42:56.681 +03:00 [DBG] Connection id "0HN4O85GVLB4E" received FIN.
2024-06-29 16:42:56.682 +03:00 [DBG] Connection id "0HN4O85GVLB4F" accepted.
2024-06-29 16:42:56.684 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:42:56.689 +03:00 [DBG] Connection id "0HN4O85GVLB4F" started.
2024-06-29 16:42:56.696 +03:00 [DBG] Connection id "0HN4O85GVLB4E" stopped.
2024-06-29 16:42:56.699 +03:00 [DBG] Connection id "0HN4O85GVLB4E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:42:56.700 +03:00 [DBG] Connection id "0HN4O85GVLB4F" received FIN.
2024-06-29 16:42:56.701 +03:00 [DBG] Connection id "0HN4O85GVLB4G" accepted.
2024-06-29 16:42:56.701 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:42:56.705 +03:00 [DBG] Connection id "0HN4O85GVLB4G" started.
2024-06-29 16:42:56.709 +03:00 [DBG] Connection id "0HN4O85GVLB4F" stopped.
2024-06-29 16:42:56.712 +03:00 [DBG] Connection id "0HN4O85GVLB4F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:42:56.721 +03:00 [DBG] Connection 0HN4O85GVLB4G established using the following protocol: "Tls12"
2024-06-29 16:42:56.794 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 16:42:56.925 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 16:42:56.944 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 16:42:56.949 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:56.970 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 180.9261ms
2024-06-29 16:42:56.977 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 16:42:56.983 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 16:42:56.984 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:57.037 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 16:42:57.041 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 16:42:57.066 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 16:42:57.069 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 16:42:57.067 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 16:42:57.066 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 16:42:57.072 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:57.072 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 16:42:57.074 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 16:42:57.081 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:57.079 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 16:42:57.076 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 16:42:57.094 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 117.5033ms
2024-06-29 16:42:57.096 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:57.105 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 16:42:57.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 16:42:57.153 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 47.9686ms
2024-06-29 16:42:57.183 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 16:42:57.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 117.5956ms
2024-06-29 16:42:57.215 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 16:42:57.225 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 16:42:57.229 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 162.4776ms
2024-06-29 16:42:57.238 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 171.9593ms
2024-06-29 16:42:57.260 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 160.5709ms
2024-06-29 16:42:57.473 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 16:42:57.480 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 16:42:57.481 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:42:57.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 191.1069ms
2024-06-29 16:43:08.045 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 181
2024-06-29 16:43:08.055 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:43:08.058 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:43:08.063 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:43:08.067 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:43:08.232 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:43:08.235 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:43:08.245 +03:00 [DBG] Authorization was successful.
2024-06-29 16:43:08.247 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:43:08.270 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:43:08.275 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:43:08.279 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:43:08.281 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:43:08.282 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:43:08.284 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:43:11.703 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:43:11.842 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.UserName.Equals(__username_0))
    .Select(u => u.Sessions)
    .FirstOrDefault()'
2024-06-29 16:43:12.118 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ICollection<Session>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> Dictionary<IProperty, int> { [Property: Session.SessionId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 1], [Property: Session.SystemStatusCodeId (long?) FK Index, 2], [Property: Session.Token (string) ANSI, 3], [Property: Session.UserId (string) FK Index, 4] }
            2 -> 1
        SELECT t.Id, s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM 
        (
            SELECT TOP(1) a.Id
            FROM AspNetUsers AS a
            WHERE a.UserName == @__username_0
        ) AS t
        LEFT JOIN Session AS s ON t.Id == s.UserId
        ORDER BY t.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ICollection<Session>>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-06-29 16:43:12.148 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:43:12.149 +03:00 [DBG] Created DbConnection. (2ms).
2024-06-29 16:43:12.151 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:43:12.153 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:43:12.157 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:43:12.159 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:43:12.163 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-06-29 16:43:12.167 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM (
    SELECT TOP(1) [a].[Id]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[UserName] = @__username_0
) AS [t]
LEFT JOIN [Session] AS [s] ON [t].[Id] = [s].[UserId]
ORDER BY [t].[Id]
2024-06-29 16:43:12.199 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM (
    SELECT TOP(1) [a].[Id]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[UserName] = @__username_0
) AS [t]
LEFT JOIN [Session] AS [s] ON [t].[Id] = [s].[UserId]
ORDER BY [t].[Id]
2024-06-29 16:43:12.223 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:43:12.242 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:43:12.243 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:43:12.247 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:43:12.249 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 46ms reading results.
2024-06-29 16:43:12.250 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:43:12.252 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:54:30.693 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-06-29 16:54:31.458 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-06-29 16:54:31.461 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-06-29 16:54:31.462 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-06-29 16:54:31.633 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-06-29 16:54:31.777 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:54:31.784 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:54:31.830 +03:00 [DBG] Created DbConnection. (42ms).
2024-06-29 16:54:31.833 +03:00 [DBG] Migrating using database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:31.839 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.085 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.090 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:54:32.096 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-06-29 16:54:32.099 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-06-29 16:54:32.105 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:54:32.130 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:54:32.133 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.141 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-06-29 16:54:32.144 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:54:32.145 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:54:32.146 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:54:32.147 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.149 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.151 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:54:32.163 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:54:32.165 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.166 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:54:32.168 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.169 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.170 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-06-29 16:54:32.171 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-06-29 16:54:32.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-06-29 16:54:32.173 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:54:32.176 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-29 16:54:32.178 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.179 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:54:32.180 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-06-29 16:54:32.181 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-06-29 16:54:32.182 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2024-06-29 16:54:32.183 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.185 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.186 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:54:32.188 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-29 16:54:32.189 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.190 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:54:32.201 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.202 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.203 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:54:32.204 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:54:32.205 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:54:32.207 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:54:32.211 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-29 16:54:32.216 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.218 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:54:32.220 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.221 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:54:32.231 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-06-29 16:54:32.234 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:54:32.236 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:54:32.238 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:54:32.307 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-06-29 16:54:32.424 +03:00 [DBG] Hosting starting
2024-06-29 16:54:32.446 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-29 16:54:32.453 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-06-29 16:54:32.459 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-06-29 16:54:32.462 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-06-29 16:54:32.468 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-06-29 16:54:32.474 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-06-29 16:54:32.476 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-06-29 16:54:32.481 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-06-29 16:54:32.486 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:54:32.488 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-06-29 16:54:32.490 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-06-29 16:54:32.493 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-06-29 16:54:32.494 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-06-29 16:54:32.497 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-06-29 16:54:32.498 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-06-29 16:54:32.610 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-06-29 16:54:32.663 +03:00 [INF] Now listening on: https://localhost:5001
2024-06-29 16:54:32.665 +03:00 [INF] Now listening on: http://localhost:5002
2024-06-29 16:54:32.666 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-06-29 16:54:32.667 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-06-29 16:54:32.667 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-06-29 16:54:32.668 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-06-29 16:54:32.719 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-29 16:54:32.720 +03:00 [INF] Hosting environment: Development
2024-06-29 16:54:32.722 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-06-29 16:54:32.723 +03:00 [DBG] Hosting started
2024-06-29 16:54:32.889 +03:00 [DBG] Connection id "0HN4O8C0I0HVA" accepted.
2024-06-29 16:54:32.891 +03:00 [DBG] Connection id "0HN4O8C0I0HVA" started.
2024-06-29 16:54:32.901 +03:00 [DBG] Connection id "0HN4O8C0I0HVA" received FIN.
2024-06-29 16:54:32.915 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:54:32.931 +03:00 [DBG] Connection id "0HN4O8C0I0HVA" stopped.
2024-06-29 16:54:32.934 +03:00 [DBG] Connection id "0HN4O8C0I0HVA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:54:33.160 +03:00 [DBG] Connection id "0HN4O8C0I0HVB" accepted.
2024-06-29 16:54:33.177 +03:00 [DBG] Connection id "0HN4O8C0I0HVB" started.
2024-06-29 16:54:33.224 +03:00 [DBG] Connection id "0HN4O8C0I0HVB" received FIN.
2024-06-29 16:54:33.224 +03:00 [DBG] Connection id "0HN4O8C0I0HVC" accepted.
2024-06-29 16:54:33.230 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:54:33.252 +03:00 [DBG] Connection id "0HN4O8C0I0HVC" started.
2024-06-29 16:54:33.257 +03:00 [DBG] Connection id "0HN4O8C0I0HVB" stopped.
2024-06-29 16:54:33.259 +03:00 [DBG] Connection id "0HN4O8C0I0HVB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:54:33.262 +03:00 [DBG] Connection id "0HN4O8C0I0HVC" received FIN.
2024-06-29 16:54:33.263 +03:00 [DBG] Connection id "0HN4O8C0I0HVD" accepted.
2024-06-29 16:54:33.264 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:54:33.267 +03:00 [DBG] Connection id "0HN4O8C0I0HVD" started.
2024-06-29 16:54:33.273 +03:00 [DBG] Connection id "0HN4O8C0I0HVC" stopped.
2024-06-29 16:54:33.280 +03:00 [DBG] Connection id "0HN4O8C0I0HVC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:54:33.288 +03:00 [DBG] Connection 0HN4O8C0I0HVD established using the following protocol: "Tls12"
2024-06-29 16:54:33.505 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - null null
2024-06-29 16:54:33.637 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-06-29 16:54:33.663 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-06-29 16:54:33.667 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:54:33.689 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - 301 0 null 189.8122ms
2024-06-29 16:54:33.697 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2024-06-29 16:54:33.708 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-06-29 16:54:33.710 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:54:33.751 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-06-29 16:54:33.753 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-06-29 16:54:33.799 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - null null
2024-06-29 16:54:33.799 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2024-06-29 16:54:33.800 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-06-29 16:54:33.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - null null
2024-06-29 16:54:33.801 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-06-29 16:54:33.804 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-06-29 16:54:33.805 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-06-29 16:54:33.807 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-06-29 16:54:33.813 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:54:33.809 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:54:33.811 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 117.0496ms
2024-06-29 16:54:33.808 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:54:33.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2024-06-29 16:54:33.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-06-29 16:54:33.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 18.9442ms
2024-06-29 16:54:33.859 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-29 16:54:33.861 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - 200 143632 text/css 62.104ms
2024-06-29 16:54:33.875 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-29 16:54:33.917 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 98.2752ms
2024-06-29 16:54:33.925 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-29 16:54:33.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.668ms
2024-06-29 16:54:33.937 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 138.0501ms
2024-06-29 16:54:34.146 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2024-06-29 16:54:34.149 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-06-29 16:54:34.161 +03:00 [DBG] Request did not match any endpoints
2024-06-29 16:54:34.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 146.512ms
2024-06-29 16:54:40.653 +03:00 [DBG] Connection id "0HN4O8C0I0HVD" received FIN.
2024-06-29 16:54:40.658 +03:00 [DBG] The connection queue processing loop for 0HN4O8C0I0HVD completed.
2024-06-29 16:54:40.658 +03:00 [DBG] Connection id "0HN4O8C0I0HVD" is closed. The last processed stream ID was 15.
2024-06-29 16:54:40.660 +03:00 [DBG] Connection id "0HN4O8C0I0HVD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:54:40.670 +03:00 [DBG] Connection id "0HN4O8C0I0HVD" stopped.
2024-06-29 16:54:50.545 +03:00 [DBG] Connection id "0HN4O8C0I0HVE" accepted.
2024-06-29 16:54:50.548 +03:00 [DBG] Connection id "0HN4O8C0I0HVE" started.
2024-06-29 16:54:50.569 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:54:50.569 +03:00 [DBG] Connection id "0HN4O8C0I0HVE" received FIN.
2024-06-29 16:54:50.569 +03:00 [DBG] Connection id "0HN4O8C0I0HVF" accepted.
2024-06-29 16:54:50.574 +03:00 [DBG] Connection id "0HN4O8C0I0HVE" stopped.
2024-06-29 16:54:50.576 +03:00 [DBG] Connection id "0HN4O8C0I0HVF" started.
2024-06-29 16:54:50.577 +03:00 [DBG] Connection id "0HN4O8C0I0HVE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:54:50.582 +03:00 [DBG] Connection 0HN4O8C0I0HVF established using the following protocol: "Tls12"
2024-06-29 16:54:50.585 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 181
2024-06-29 16:54:50.590 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:54:50.593 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:54:50.595 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:54:50.597 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:54:50.804 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:54:50.808 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:54:50.818 +03:00 [DBG] Authorization was successful.
2024-06-29 16:54:50.820 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:54:50.845 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:54:50.850 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:54:50.852 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:54:50.854 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:54:50.856 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:54:50.858 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:54:50.890 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:54:50.943 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.UserName.Equals(__username_0))
    .LastOrDefault()'
2024-06-29 16:55:48.554 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.UserName.Equals(__username_0))
    .OrderBy(s => s.SessionId)
    .LastOrDefault()'
2024-06-29 16:55:48.651 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT TOP(1) s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.UserName == @__username_0
        ORDER BY s.SessionId DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-06-29 16:55:48.721 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:55:48.802 +03:00 [DBG] Created DbConnection. (81ms).
2024-06-29 16:55:48.803 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:55:48.805 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:55:48.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:55:48.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:55:48.812 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-06-29 16:55:48.816 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:55:48.849 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:55:48.869 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:55:48.884 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:55:48.886 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 34ms reading results.
2024-06-29 16:55:48.887 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:55:48.889 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:56:07.755 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-06-29 16:56:07.759 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-06-29 16:56:07.763 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-29 16:56:07.767 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 76905.4241ms
2024-06-29 16:56:07.770 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:56:07.773 +03:00 [INF] HTTP POST /addUser responded 403 in 77172.2202 ms
2024-06-29 16:56:07.776 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:56:07.780 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:07.782 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 16:56:07.784 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 403 0 null 77198.74ms
2024-06-29 16:56:07.787 +03:00 [DBG] Connection id "0HN4O8C0I0HVF", Request id "0HN4O8C0I0HVF:00000001": started reading request body.
2024-06-29 16:56:07.789 +03:00 [DBG] Connection id "0HN4O8C0I0HVF", Request id "0HN4O8C0I0HVF:00000001": done reading request body.
2024-06-29 16:56:50.951 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 181
2024-06-29 16:56:50.956 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:56:50.958 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:56:50.959 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:56:50.961 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:56:50.964 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:56:50.965 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:56:50.968 +03:00 [DBG] Authorization was successful.
2024-06-29 16:56:50.969 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:56:50.973 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:56:50.976 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:56:50.978 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:56:50.979 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:56:50.980 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:56:50.982 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:56:51.036 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:56:51.042 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:56:51.044 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 16:56:51.045 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:51.046 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:51.047 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:56:51.048 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:56:51.049 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:56:51.051 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:56:51.055 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:56:51.058 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:56:51.060 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:51.061 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:56:51.062 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:51.063 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:56:52.384 +03:00 [DBG] Compiling query expression: 
'DbSet<Privilege>()
    .Where(p => p.Roles
        .Any(r => r.Name == __get_Item_0) || p.IsGeneral && !(p.IsSuperAdmin))
    .Select(p => p.BackendURL)'
2024-06-29 16:56:52.434 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT p.BackendURL
        FROM Privilege AS p
        WHERE (EXISTS (
            SELECT 1
            FROM RolePrivilege AS r
            INNER JOIN 
            (
                SELECT a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName, a.SystemStatusCodeId
                FROM AspNetRoles AS a
                WHERE a.Discriminator == N'Role'
            ) AS t ON r.RoleId == t.Id
            WHERE ((p.PrivilegeId != NULL) && (p.PrivilegeId == r.Id)) && (t.Name == @__get_Item_0)) || p.IsGeneral) && Not(p.IsSuperAdmin)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:56:52.442 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:52.444 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:52.445 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:56:52.445 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:56:52.446 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:56:52.449 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[PrivilegeId] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-06-29 16:56:52.525 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[PrivilegeId] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-06-29 16:56:52.527 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:52.528 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:56:52.530 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:52.531 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:56:52.533 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-06-29 16:56:52.534 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-06-29 16:56:52.535 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-29 16:56:52.536 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 1552.2373ms
2024-06-29 16:56:52.537 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:56:52.537 +03:00 [INF] HTTP POST /addUser responded 403 in 1575.3651 ms
2024-06-29 16:56:52.540 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:56:52.566 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:56:52.568 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-29 16:56:52.570 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 403 0 null 1620.3548ms
2024-06-29 16:56:52.575 +03:00 [DBG] Connection id "0HN4O8C0I0HVF", Request id "0HN4O8C0I0HVF:00000003": started reading request body.
2024-06-29 16:56:52.576 +03:00 [DBG] Connection id "0HN4O8C0I0HVF", Request id "0HN4O8C0I0HVF:00000003": done reading request body.
2024-06-29 16:57:05.603 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 181
2024-06-29 16:57:05.606 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:57:05.608 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:57:05.610 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:57:05.611 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:57:05.612 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:57:05.613 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:57:05.619 +03:00 [DBG] Authorization was successful.
2024-06-29 16:57:05.619 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:57:05.622 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:57:05.624 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:57:05.625 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:57:05.626 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:57:05.628 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:57:05.630 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:57:05.632 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:57:05.634 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:57:05.635 +03:00 [DBG] Created DbConnection. (1ms).
2024-06-29 16:57:05.636 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:05.638 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:05.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:05.639 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:57:05.640 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:57:05.642 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:57:05.647 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:57:05.650 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:05.651 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:05.652 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-06-29 16:57:05.654 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:05.655 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-06-29 16:57:05.656 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-06-29 16:57:05.657 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-06-29 16:57:05.658 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-29 16:57:05.659 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 28.0697ms
2024-06-29 16:57:05.660 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:57:05.661 +03:00 [INF] HTTP POST /addUser responded 403 in 49.2935 ms
2024-06-29 16:57:05.662 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:57:05.664 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:05.665 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:57:05.667 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 403 0 null 63.9821ms
2024-06-29 16:57:05.669 +03:00 [DBG] Connection id "0HN4O8C0I0HVF", Request id "0HN4O8C0I0HVF:00000005": started reading request body.
2024-06-29 16:57:05.672 +03:00 [DBG] Connection id "0HN4O8C0I0HVF", Request id "0HN4O8C0I0HVF:00000005": done reading request body.
2024-06-29 16:57:20.688 +03:00 [DBG] Connection id "0HN4O8C0I0HVF" received FIN.
2024-06-29 16:57:20.690 +03:00 [DBG] Connection id "0HN4O8C0I0HVF" is closed. The last processed stream ID was 5.
2024-06-29 16:57:20.690 +03:00 [DBG] The connection queue processing loop for 0HN4O8C0I0HVF completed.
2024-06-29 16:57:20.691 +03:00 [DBG] Connection id "0HN4O8C0I0HVF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:57:20.705 +03:00 [DBG] Connection id "0HN4O8C0I0HVF" stopped.
2024-06-29 16:57:25.399 +03:00 [DBG] Connection id "0HN4O8C0I0HVG" accepted.
2024-06-29 16:57:25.401 +03:00 [DBG] Connection id "0HN4O8C0I0HVG" started.
2024-06-29 16:57:25.405 +03:00 [DBG] Connection id "0HN4O8C0I0HVG" received FIN.
2024-06-29 16:57:25.408 +03:00 [DBG] Connection id "0HN4O8C0I0HVH" accepted.
2024-06-29 16:57:25.407 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:57:25.414 +03:00 [DBG] Connection id "0HN4O8C0I0HVH" started.
2024-06-29 16:57:25.418 +03:00 [DBG] Connection id "0HN4O8C0I0HVG" stopped.
2024-06-29 16:57:25.420 +03:00 [DBG] Connection id "0HN4O8C0I0HVG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:57:25.423 +03:00 [DBG] Connection 0HN4O8C0I0HVH established using the following protocol: "Tls12"
2024-06-29 16:57:25.425 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authentication/login - application/json 56
2024-06-29 16:57:25.429 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-06-29 16:57:25.430 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-06-29 16:57:25.432 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:57:25.433 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:57:25.435 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:57:25.436 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:57:25.437 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:57:25.444 +03:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-06-29 16:57:25.447 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-06-29 16:57:25.448 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:57:25.450 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-06-29 16:57:25.452 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:57:25.454 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-06-29 16:57:25.457 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:57:25.473 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-06-29 16:57:25.484 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:57:25.487 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-06-29 16:57:25.493 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-06-29 16:57:25.499 +03:00 [DBG] Connection id "0HN4O8C0I0HVH", Request id "0HN4O8C0I0HVH:00000001": started reading request body.
2024-06-29 16:57:25.501 +03:00 [DBG] Connection id "0HN4O8C0I0HVH", Request id "0HN4O8C0I0HVH:00000001": done reading request body.
2024-06-29 16:57:25.506 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-06-29 16:57:25.507 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:57:25.508 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:57:25.509 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-06-29 16:57:25.520 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-06-29 16:57:25.531 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:57:25.535 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-06-29 16:57:25.544 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstLogin (bool) Required, 5], [Property: User.FirstName (string), 6], [Property: User.LastName (string), 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17], [Property: User.expiresAt (DateTime?), 18], [Property: User.isTempUser (bool) Required, 19] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstLogin, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.expiresAt, a.isTempUser
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-06-29 16:57:25.556 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:57:25.557 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:57:25.559 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.562 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.563 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:25.563 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:57:25.564 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:57:25.566 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:57:25.591 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstLogin], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[expiresAt], [a].[isTempUser]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-06-29 16:57:25.615 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.655 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.656 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 61ms reading results.
2024-06-29 16:57:25.659 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.661 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:25.766 +03:00 [DBG] Compiling query expression: 
'DbSet<Session>()
    .Where(s => s.User.Id == __userId_0)'
2024-06-29 16:57:25.772 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Session>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Session.SessionId (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Session.SystemStatusCodeId (long?) FK Index, 1], [Property: Session.Token (string) ANSI, 2], [Property: Session.UserId (string) FK Index, 3] }
        SELECT s.SessionId, s.SystemStatusCodeId, s.Token, s.UserId
        FROM Session AS s
        LEFT JOIN AspNetUsers AS a ON s.UserId == a.Id
        WHERE a.Id == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Session>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:57:25.775 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.776 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.777 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:25.778 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:57:25.779 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:57:25.780 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:57:25.785 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[Id] = @__userId_0
2024-06-29 16:57:25.801 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.804 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.805 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.807 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.807 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 20ms reading results.
2024-06-29 16:57:25.810 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.811 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:25.813 +03:00 [DBG] Compiling query expression: 
'DbSet<SystemStatusCode>()'
2024-06-29 16:57:25.817 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SystemStatusCode>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SystemStatusCode.SystemStatusCodeId (long) Required PK AfterSave:Throw, 0], [Property: SystemStatusCode.Model (string) MaxLength(255) ANSI, 1], [Property: SystemStatusCode.Name (string) MaxLength(255) ANSI, 2], [Property: SystemStatusCode.Status (string) MaxLength(255) ANSI, 3] }
        SELECT s.SystemStatusCodeId, s.Model, s.Name, s.Status
        FROM SystemStatusCode AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SystemStatusCode>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:57:25.820 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.821 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.823 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:25.824 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:57:25.825 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:57:25.826 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:57:25.829 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:57:25.838 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.846 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.849 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.851 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.853 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.854 +03:00 [DBG] Context 'AkramDbContext' started tracking 'SystemStatusCode' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.855 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.856 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 24ms reading results.
2024-06-29 16:57:25.858 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:25.859 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:25.870 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.873 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.874 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.877 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:57:25.880 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:57:25.899 +03:00 [DBG] The navigation 'Session.SystemStatusCode' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:25.909 +03:00 [DBG] The foreign key property 'Session.SystemStatusCodeId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 16:57:25.938 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:57:26.008 +03:00 [DBG] Executing 3 update commands as a batch.
2024-06-29 16:57:26.011 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.012 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.015 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-06-29 16:57:26.022 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-06-29 16:57:26.025 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:26.025 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:57:26.027 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:57:26.029 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int64), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450), @p11='?' (DbType = Int64), @p8='?' (DbType = Int64), @p9='?' (Size = 8000) (DbType = AnsiString), @p10='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
UPDATE [Session] SET [SystemStatusCodeId] = @p8, [Token] = @p9, [UserId] = @p10
OUTPUT 1
WHERE [SessionId] = @p11;
2024-06-29 16:57:26.237 +03:00 [INF] Executed DbCommand (209ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450), @p7='?' (DbType = Int64), @p4='?' (DbType = Int64), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 450), @p11='?' (DbType = Int64), @p8='?' (DbType = Int64), @p9='?' (Size = 8000) (DbType = AnsiString), @p10='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SystemStatusCodeId] = @p0, [Token] = @p1, [UserId] = @p2
OUTPUT 1
WHERE [SessionId] = @p3;
UPDATE [Session] SET [SystemStatusCodeId] = @p4, [Token] = @p5, [UserId] = @p6
OUTPUT 1
WHERE [SessionId] = @p7;
UPDATE [Session] SET [SystemStatusCodeId] = @p8, [Token] = @p9, [UserId] = @p10
OUTPUT 1
WHERE [SessionId] = @p11;
2024-06-29 16:57:26.242 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.243 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:57:26.246 +03:00 [DBG] Committing transaction.
2024-06-29 16:57:26.250 +03:00 [DBG] Committed transaction.
2024-06-29 16:57:26.251 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.253 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:26.255 +03:00 [DBG] Disposing transaction.
2024-06-29 16:57:26.258 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:26.260 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:26.262 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:26.264 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 3 entities written to the database.
2024-06-29 16:57:26.271 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-06-29 16:57:26.278 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:57:26.281 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.283 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.284 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:26.285 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:57:26.286 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:57:26.287 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:57:26.291 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-06-29 16:57:26.293 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.294 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:57:26.297 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.298 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:26.307 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-06-29 16:57:26.315 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT t.Name
        FROM AspNetUserRoles AS a
        INNER JOIN 
        (
            SELECT a0.Id, a0.Name
            FROM AspNetRoles AS a0
            WHERE a0.Discriminator == N'Role'
        ) AS t ON a.RoleId == t.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-06-29 16:57:26.319 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.320 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.321 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:26.321 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:57:26.322 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:57:26.324 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:57:26.345 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:57:26.348 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.349 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:57:26.350 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.352 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:26.357 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.358 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.359 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:26.360 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:57:26.361 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:57:26.362 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:57:26.369 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Name]
    FROM [AspNetRoles] AS [a0]
    WHERE [a0].[Discriminator] = N'Role'
) AS [t] ON [a].[RoleId] = [t].[Id]
WHERE [a].[UserId] = @__userId_0
2024-06-29 16:57:26.373 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.375 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:57:26.376 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.377 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:26.392 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.393 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.395 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:26.396 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:57:26.397 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:57:26.398 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:57:26.405 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SystemStatusCodeId], [s].[Model], [s].[Name], [s].[Status]
FROM [SystemStatusCode] AS [s]
2024-06-29 16:57:26.408 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.409 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:57:26.411 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.413 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:26.442 +03:00 [DBG] 'AkramDbContext' generated a temporary value for the property 'Session.SessionId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:26.448 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:26.453 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-06-29 16:57:26.455 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-06-29 16:57:26.458 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-06-29 16:57:26.477 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.481 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.486 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:26.488 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:57:26.489 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:57:26.493 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SystemStatusCodeId], [Token], [UserId])
OUTPUT INSERTED.[SessionId]
VALUES (@p0, @p1, @p2);
2024-06-29 16:57:26.515 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (Size = 8000) (DbType = AnsiString), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([SystemStatusCodeId], [Token], [UserId])
OUTPUT INSERTED.[SessionId]
VALUES (@p0, @p1, @p2);
2024-06-29 16:57:26.530 +03:00 [DBG] The foreign key property 'Session.SessionId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-06-29 16:57:26.536 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.537 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 20ms reading results.
2024-06-29 16:57:26.543 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.544 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:26.550 +03:00 [DBG] An entity of type 'Session' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:26.556 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-06-29 16:57:26.563 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-06-29 16:57:26.567 +03:00 [DBG] No information found on request to perform content negotiation.
2024-06-29 16:57:26.569 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-06-29 16:57:26.570 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-06-29 16:57:26.572 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-06-29 16:57:26.574 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-29 16:57:26.594 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.Login (IGT.Api) in 1138.3113ms
2024-06-29 16:57:26.596 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.Login (IGT.Api)'
2024-06-29 16:57:26.598 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 1163.6969 ms
2024-06-29 16:57:26.600 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:57:26.602 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:26.605 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-06-29 16:57:26.610 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authentication/login - 200 null application/json; charset=utf-8 1184.7819ms
2024-06-29 16:57:30.688 +03:00 [DBG] Connection id "0HN4O8C0I0HVH" received FIN.
2024-06-29 16:57:30.694 +03:00 [DBG] Connection id "0HN4O8C0I0HVH" is closed. The last processed stream ID was 1.
2024-06-29 16:57:30.694 +03:00 [DBG] The connection queue processing loop for 0HN4O8C0I0HVH completed.
2024-06-29 16:57:30.696 +03:00 [DBG] Connection id "0HN4O8C0I0HVH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:57:30.711 +03:00 [DBG] Connection id "0HN4O8C0I0HVH" stopped.
2024-06-29 16:57:41.026 +03:00 [DBG] Connection id "0HN4O8C0I0HVI" accepted.
2024-06-29 16:57:41.035 +03:00 [DBG] Connection id "0HN4O8C0I0HVI" started.
2024-06-29 16:57:41.037 +03:00 [DBG] Connection id "0HN4O8C0I0HVI" received FIN.
2024-06-29 16:57:41.038 +03:00 [DBG] Connection id "0HN4O8C0I0HVJ" accepted.
2024-06-29 16:57:41.038 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:57:41.044 +03:00 [DBG] Connection id "0HN4O8C0I0HVJ" started.
2024-06-29 16:57:41.048 +03:00 [DBG] Connection id "0HN4O8C0I0HVI" stopped.
2024-06-29 16:57:41.049 +03:00 [DBG] Connection id "0HN4O8C0I0HVI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:57:41.052 +03:00 [DBG] Connection 0HN4O8C0I0HVJ established using the following protocol: "Tls12"
2024-06-29 16:57:41.054 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 181
2024-06-29 16:57:41.056 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:57:41.057 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:57:41.059 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:57:41.060 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:57:41.061 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:57:41.062 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:57:41.063 +03:00 [DBG] Authorization was successful.
2024-06-29 16:57:41.064 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:57:41.065 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:57:41.066 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:57:41.069 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:57:41.071 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:57:41.073 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:57:41.077 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:57:41.080 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:57:41.083 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:57:41.084 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:57:41.085 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:41.086 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:41.087 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:41.088 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-06-29 16:57:41.090 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:57:41.091 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:57:41.097 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:57:41.101 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:41.103 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:41.104 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:57:41.107 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:41.108 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:57:41.109 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-06-29 16:57:41.111 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-06-29 16:57:41.112 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-29 16:57:41.113 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 33.54ms
2024-06-29 16:57:41.114 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:57:41.115 +03:00 [INF] HTTP POST /addUser responded 403 in 54.2249 ms
2024-06-29 16:57:41.116 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:57:41.118 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:41.121 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-06-29 16:57:41.123 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 403 0 null 68.0649ms
2024-06-29 16:57:41.128 +03:00 [DBG] Connection id "0HN4O8C0I0HVJ", Request id "0HN4O8C0I0HVJ:00000001": started reading request body.
2024-06-29 16:57:41.129 +03:00 [DBG] Connection id "0HN4O8C0I0HVJ", Request id "0HN4O8C0I0HVJ:00000001": done reading request body.
2024-06-29 16:57:50.690 +03:00 [DBG] Connection id "0HN4O8C0I0HVJ" received FIN.
2024-06-29 16:57:50.692 +03:00 [DBG] Connection id "0HN4O8C0I0HVJ" is closed. The last processed stream ID was 1.
2024-06-29 16:57:50.692 +03:00 [DBG] The connection queue processing loop for 0HN4O8C0I0HVJ completed.
2024-06-29 16:57:50.694 +03:00 [DBG] Connection id "0HN4O8C0I0HVJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:57:50.703 +03:00 [DBG] Connection id "0HN4O8C0I0HVJ" stopped.
2024-06-29 16:57:59.584 +03:00 [DBG] Connection id "0HN4O8C0I0HVK" accepted.
2024-06-29 16:57:59.586 +03:00 [DBG] Connection id "0HN4O8C0I0HVK" started.
2024-06-29 16:57:59.591 +03:00 [DBG] Connection id "0HN4O8C0I0HVK" received FIN.
2024-06-29 16:57:59.591 +03:00 [DBG] Connection id "0HN4O8C0I0HVL" accepted.
2024-06-29 16:57:59.592 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-06-29 16:57:59.595 +03:00 [DBG] Connection id "0HN4O8C0I0HVL" started.
2024-06-29 16:57:59.600 +03:00 [DBG] Connection id "0HN4O8C0I0HVK" stopped.
2024-06-29 16:57:59.605 +03:00 [DBG] Connection id "0HN4O8C0I0HVK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:57:59.606 +03:00 [DBG] Connection 0HN4O8C0I0HVL established using the following protocol: "Tls12"
2024-06-29 16:57:59.609 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/addUser - application/json 181
2024-06-29 16:57:59.611 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-06-29 16:57:59.612 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-06-29 16:57:59.613 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:57:59.614 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-06-29 16:57:59.615 +03:00 [DBG] Successfully validated the token.
2024-06-29 16:57:59.616 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-06-29 16:57:59.617 +03:00 [DBG] Authorization was successful.
2024-06-29 16:57:59.618 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:57:59.619 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Core.Dtos.UserManagment.CreateUserInputDTO) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-06-29 16:57:59.620 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-06-29 16:57:59.623 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-06-29 16:57:59.625 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-06-29 16:57:59.626 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-06-29 16:57:59.628 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-06-29 16:57:59.630 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-06-29 16:57:59.632 +03:00 [DBG] Creating DbConnection.
2024-06-29 16:57:59.632 +03:00 [DBG] Created DbConnection. (0ms).
2024-06-29 16:57:59.633 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:59.634 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:59.636 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:57:59.637 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:57:59.638 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:57:59.639 +03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:57:59.645 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionId], [s].[SystemStatusCodeId], [s].[Token], [s].[UserId]
FROM [Session] AS [s]
LEFT JOIN [AspNetUsers] AS [a] ON [s].[UserId] = [a].[Id]
WHERE [a].[UserName] = @__username_0
ORDER BY [s].[SessionId] DESC
2024-06-29 16:57:59.647 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Session' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-06-29 16:57:59.648 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:59.650 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-06-29 16:57:59.652 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:57:59.653 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:58:01.655 +03:00 [DBG] Opening connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:58:01.657 +03:00 [DBG] Opened connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:58:01.658 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-06-29 16:58:01.660 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-06-29 16:58:01.661 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-06-29 16:58:01.663 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[PrivilegeId] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-06-29 16:58:01.674 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName], [a].[SystemStatusCodeId]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[PrivilegeId] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-06-29 16:58:01.679 +03:00 [DBG] Closing data reader to 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:58:01.681 +03:00 [DBG] A data reader for 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-06-29 16:58:01.683 +03:00 [DBG] Closing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:58:01.684 +03:00 [DBG] Closed connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-06-29 16:58:01.686 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-06-29 16:58:01.687 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-06-29 16:58:01.688 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-06-29 16:58:01.689 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 2059.3679ms
2024-06-29 16:58:01.690 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-06-29 16:58:01.691 +03:00 [INF] HTTP POST /addUser responded 403 in 2075.7496 ms
2024-06-29 16:58:01.692 +03:00 [DBG] 'AkramDbContext' disposed.
2024-06-29 16:58:01.695 +03:00 [DBG] Disposing connection to database 'IGTDBTest3' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-06-29 16:58:01.696 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-06-29 16:58:01.698 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/addUser - 403 0 null 2088.6282ms
2024-06-29 16:58:01.701 +03:00 [DBG] Connection id "0HN4O8C0I0HVL", Request id "0HN4O8C0I0HVL:00000001": started reading request body.
2024-06-29 16:58:01.702 +03:00 [DBG] Connection id "0HN4O8C0I0HVL", Request id "0HN4O8C0I0HVL:00000001": done reading request body.
2024-06-29 16:58:10.694 +03:00 [DBG] Connection id "0HN4O8C0I0HVL" received FIN.
2024-06-29 16:58:10.698 +03:00 [DBG] Connection id "0HN4O8C0I0HVL" is closed. The last processed stream ID was 1.
2024-06-29 16:58:10.698 +03:00 [DBG] The connection queue processing loop for 0HN4O8C0I0HVL completed.
2024-06-29 16:58:10.700 +03:00 [DBG] Connection id "0HN4O8C0I0HVL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-06-29 16:58:10.707 +03:00 [DBG] Connection id "0HN4O8C0I0HVL" stopped.
