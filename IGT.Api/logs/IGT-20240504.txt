2024-05-04 23:20:44.162 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 23:20:44.556 +03:00 [DBG] Hosting starting
2024-05-04 23:20:44.639 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-04 23:20:44.650 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-04 23:20:44.689 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-04 23:20:44.705 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-04 23:20:44.734 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-04 23:20:44.750 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-04 23:20:44.751 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-04 23:20:44.759 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-04 23:20:44.764 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:20:44.767 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-04 23:20:44.769 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:20:44.774 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-04 23:20:44.777 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-04 23:20:44.783 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-04 23:20:44.785 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-04 23:20:45.021 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-04 23:20:45.115 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-04 23:20:45.116 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-04 23:20:45.117 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-04 23:20:45.118 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-04 23:20:45.119 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-04 23:20:45.120 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-04 23:20:45.177 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 23:20:45.179 +03:00 [INF] Hosting environment: Development
2024-05-04 23:20:45.179 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-04 23:20:45.180 +03:00 [DBG] Hosting started
2024-05-04 23:20:45.420 +03:00 [DBG] Connection id "0HN3CEUMUBQFO" accepted.
2024-05-04 23:20:45.423 +03:00 [DBG] Connection id "0HN3CEUMUBQFO" started.
2024-05-04 23:20:45.595 +03:00 [DBG] Connection id "0HN3CEUMUBQFP" accepted.
2024-05-04 23:20:45.597 +03:00 [DBG] Connection id "0HN3CEUMUBQFP" started.
2024-05-04 23:20:45.717 +03:00 [DBG] Connection id "0HN3CEUMUBQFQ" accepted.
2024-05-04 23:20:45.745 +03:00 [DBG] Connection id "0HN3CEUMUBQFQ" started.
2024-05-04 23:20:45.746 +03:00 [DBG] Connection id "0HN3CEUMUBQFR" accepted.
2024-05-04 23:20:45.748 +03:00 [DBG] Connection id "0HN3CEUMUBQFR" started.
2024-05-04 23:20:45.790 +03:00 [DBG] Connection id "0HN3CEUMUBQFQ" received FIN.
2024-05-04 23:20:45.790 +03:00 [DBG] Connection id "0HN3CEUMUBQFR" received FIN.
2024-05-04 23:20:45.790 +03:00 [DBG] Connection id "0HN3CEUMUBQFS" accepted.
2024-05-04 23:20:45.795 +03:00 [DBG] Connection id "0HN3CEUMUBQFS" started.
2024-05-04 23:20:45.806 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:20:45.810 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:20:45.810 +03:00 [DBG] Connection 0HN3CEUMUBQFS established using the following protocol: "Tls12"
2024-05-04 23:20:45.838 +03:00 [DBG] Connection id "0HN3CEUMUBQFR" stopped.
2024-05-04 23:20:45.838 +03:00 [DBG] Connection id "0HN3CEUMUBQFQ" stopped.
2024-05-04 23:20:45.840 +03:00 [DBG] Connection id "0HN3CEUMUBQFR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:20:45.841 +03:00 [DBG] Connection id "0HN3CEUMUBQFQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:20:45.916 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-04 23:20:46.098 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 23:20:46.119 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-04 23:20:46.121 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:20:46.144 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 234.8882ms
2024-05-04 23:20:46.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-04 23:20:46.155 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 23:20:46.156 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:20:46.201 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-04 23:20:46.203 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-04 23:20:46.229 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-04 23:20:46.229 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-04 23:20:46.229 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-04 23:20:46.232 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-04 23:20:46.233 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-04 23:20:46.235 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-04 23:20:46.239 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-04 23:20:46.240 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-04 23:20:46.241 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:20:46.242 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:20:46.243 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:20:46.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 95.385ms
2024-05-04 23:20:46.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-04 23:20:46.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-04 23:20:46.311 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 48.3597ms
2024-05-04 23:20:46.328 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-04 23:20:46.313 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-04 23:20:46.364 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 134.9625ms
2024-05-04 23:20:46.366 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 136.7848ms
2024-05-04 23:20:46.361 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 108.5478ms
2024-05-04 23:20:46.370 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-04 23:20:46.384 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 154.1272ms
2024-05-04 23:20:47.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-04 23:20:47.743 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 23:20:47.744 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:20:47.862 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.0621ms
2024-05-04 23:20:55.490 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2024-05-04 23:20:55.491 +03:00 [DBG] Connection id "0HN3CEUMUBQFO" stopped.
2024-05-04 23:20:55.492 +03:00 [DBG] Connection id "0HN3CEUMUBQFO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:20:55.610 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2024-05-04 23:20:55.611 +03:00 [DBG] Connection id "0HN3CEUMUBQFP" stopped.
2024-05-04 23:20:55.612 +03:00 [DBG] Connection id "0HN3CEUMUBQFP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:23:39.269 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addRole - application/json 65
2024-05-04 23:23:39.279 +03:00 [DBG] 1 candidate(s) found for the request path '/addRole'
2024-05-04 23:23:39.284 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)' with route pattern 'addRole' is valid for the request path '/addRole'
2024-05-04 23:23:39.286 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:23:39.289 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:23:39.340 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-04 23:23:39.345 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-04 23:23:39.348 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-04 23:23:39.353 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-04 23:23:39.355 +03:00 [INF] HTTP POST /addRole responded 401 in 63.3092 ms
2024-05-04 23:23:39.357 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addRole - 401 0 null 97.4165ms
2024-05-04 23:23:39.369 +03:00 [DBG] Connection id "0HN3CEUMUBQFS", Request id "0HN3CEUMUBQFS:00000011": started reading request body.
2024-05-04 23:23:39.370 +03:00 [DBG] Connection id "0HN3CEUMUBQFS", Request id "0HN3CEUMUBQFS:00000011": done reading request body.
2024-05-04 23:23:53.531 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/login - application/json 48
2024-05-04 23:23:53.535 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-04 23:23:53.536 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-04 23:23:53.540 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-04 23:23:53.541 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:23:53.546 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-04 23:23:53.549 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-04 23:23:53.582 +03:00 [INF] Route matched with {action = "login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-04 23:23:53.587 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 23:23:53.589 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:23:53.591 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 23:23:53.593 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:23:53.594 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 23:23:53.598 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-04 23:23:53.813 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 23:23:53.851 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-04 23:23:53.870 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-04 23:23:53.874 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-05-04 23:23:53.879 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 23:23:53.883 +03:00 [DBG] Connection id "0HN3CEUMUBQFS", Request id "0HN3CEUMUBQFS:00000013": started reading request body.
2024-05-04 23:23:53.885 +03:00 [DBG] Connection id "0HN3CEUMUBQFS", Request id "0HN3CEUMUBQFS:00000013": done reading request body.
2024-05-04 23:23:53.890 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-05-04 23:23:53.891 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-04 23:23:53.893 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-04 23:23:53.894 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-04 23:23:53.903 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-04 23:23:54.067 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 23:23:54.072 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-04 23:23:54.074 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 23:23:54.075 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 23:23:54.077 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 23:23:54.078 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 23:23:54.097 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.login (IGT.Api) in 498.5295ms
2024-05-04 23:23:54.099 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-04 23:23:54.100 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 558.1635 ms
2024-05-04 23:23:54.104 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/login - 200 null application/json; charset=utf-8 572.6432ms
2024-05-04 23:24:19.776 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addRole - application/json 65
2024-05-04 23:24:19.783 +03:00 [DBG] 1 candidate(s) found for the request path '/addRole'
2024-05-04 23:24:19.788 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)' with route pattern 'addRole' is valid for the request path '/addRole'
2024-05-04 23:24:19.791 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:24:19.792 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:24:19.832 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:24:19.834 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:24:19.837 +03:00 [DBG] Authorization was successful.
2024-05-04 23:24:19.838 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:24:19.842 +03:00 [INF] Route matched with {action = "addRole", controller = "RoleManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addRole(IGT.Core.Dtos.RoleManagment.AddRoleInputDTO) on controller IGT.Api.Controllers.RoleManagmentController (IGT.Api).
2024-05-04 23:24:19.844 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:24:19.846 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:24:19.847 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:24:19.848 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:24:19.849 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:24:26.603 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.RoleManagmentController (IGT.Api)
2024-05-04 23:24:26.608 +03:00 [INF] Executed action IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api) in 6757.3404ms
2024-05-04 23:24:26.611 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:24:26.613 +03:00 [ERR] HTTP POST /addRole responded 500 in 6819.8691 ms
System.InvalidOperationException: Unable to resolve service for type 'IGT.Service.Interfaces.RoleManagment.IRoleManagmentService' while attempting to activate 'IGT.Api.Controllers.RoleManagmentController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method27(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-04 23:24:26.625 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'IGT.Service.Interfaces.RoleManagment.IRoleManagmentService' while attempting to activate 'IGT.Api.Controllers.RoleManagmentController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method27(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-04 23:24:26.637 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addRole - 500 null text/plain; charset=utf-8 6861.8206ms
2024-05-04 23:24:26.646 +03:00 [DBG] Connection id "0HN3CEUMUBQFS", Request id "0HN3CEUMUBQFS:00000015": started reading request body.
2024-05-04 23:24:26.647 +03:00 [DBG] Connection id "0HN3CEUMUBQFS", Request id "0HN3CEUMUBQFS:00000015": done reading request body.
2024-05-04 23:24:55.231 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 23:24:55.423 +03:00 [DBG] Hosting starting
2024-05-04 23:24:55.457 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-04 23:24:55.464 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-04 23:24:55.469 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-04 23:24:55.470 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-04 23:24:55.474 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-04 23:24:55.478 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-04 23:24:55.478 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-04 23:24:55.484 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-04 23:24:55.487 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:24:55.490 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-04 23:24:55.491 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:24:55.495 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-04 23:24:55.497 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-04 23:24:55.499 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-04 23:24:55.500 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-04 23:24:55.603 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-04 23:24:55.649 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-04 23:24:55.650 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-04 23:24:55.651 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-04 23:24:55.652 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-04 23:24:55.652 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-04 23:24:55.653 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-04 23:24:55.695 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 23:24:55.696 +03:00 [INF] Hosting environment: Development
2024-05-04 23:24:55.697 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-04 23:24:55.698 +03:00 [DBG] Hosting started
2024-05-04 23:24:55.940 +03:00 [DBG] Connection id "0HN3CF11JGGND" received FIN.
2024-05-04 23:24:55.946 +03:00 [DBG] Connection id "0HN3CF11JGGND" accepted.
2024-05-04 23:24:55.948 +03:00 [DBG] Connection id "0HN3CF11JGGND" started.
2024-05-04 23:24:55.964 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:24:55.983 +03:00 [DBG] Connection id "0HN3CF11JGGND" stopped.
2024-05-04 23:24:55.986 +03:00 [DBG] Connection id "0HN3CF11JGGND" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:24:56.217 +03:00 [DBG] Connection id "0HN3CF11JGGNE" accepted.
2024-05-04 23:24:56.225 +03:00 [DBG] Connection id "0HN3CF11JGGNE" started.
2024-05-04 23:24:56.262 +03:00 [DBG] Connection id "0HN3CF11JGGNE" received FIN.
2024-05-04 23:24:56.262 +03:00 [DBG] Connection id "0HN3CF11JGGNF" accepted.
2024-05-04 23:24:56.268 +03:00 [DBG] Connection id "0HN3CF11JGGNF" started.
2024-05-04 23:24:56.271 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:24:56.281 +03:00 [DBG] Connection id "0HN3CF11JGGNF" received FIN.
2024-05-04 23:24:56.285 +03:00 [DBG] Connection id "0HN3CF11JGGNE" stopped.
2024-05-04 23:24:56.286 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:24:56.287 +03:00 [DBG] Connection id "0HN3CF11JGGNE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:24:56.287 +03:00 [DBG] Connection id "0HN3CF11JGGNG" accepted.
2024-05-04 23:24:56.290 +03:00 [DBG] Connection id "0HN3CF11JGGNF" stopped.
2024-05-04 23:24:56.293 +03:00 [DBG] Connection id "0HN3CF11JGGNG" started.
2024-05-04 23:24:56.294 +03:00 [DBG] Connection id "0HN3CF11JGGNF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:24:56.305 +03:00 [DBG] Connection 0HN3CF11JGGNG established using the following protocol: "Tls12"
2024-05-04 23:24:56.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-04 23:24:56.454 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 23:24:56.474 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-04 23:24:56.476 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:24:56.495 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 142.4939ms
2024-05-04 23:24:56.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-04 23:24:56.508 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 23:24:56.510 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:24:56.557 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-04 23:24:56.559 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-04 23:24:56.584 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-04 23:24:56.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-04 23:24:56.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-04 23:24:56.587 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-04 23:24:56.587 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-04 23:24:56.591 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-04 23:24:56.592 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-04 23:24:56.593 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:24:56.594 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-04 23:24:56.602 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 102.3767ms
2024-05-04 23:24:56.598 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:24:56.595 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:24:56.615 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-04 23:24:56.615 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-04 23:24:56.643 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 27.7871ms
2024-05-04 23:24:56.651 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-04 23:24:56.663 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-04 23:24:56.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 79.5383ms
2024-05-04 23:24:56.667 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 79.1723ms
2024-05-04 23:24:56.699 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-04 23:24:56.713 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.6511ms
2024-05-04 23:24:56.720 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 133.4347ms
2024-05-04 23:24:58.472 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-04 23:24:58.475 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 23:24:58.476 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:24:58.603 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.957ms
2024-05-04 23:25:29.230 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 23:25:29.417 +03:00 [DBG] Hosting starting
2024-05-04 23:25:29.449 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-04 23:25:29.455 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-04 23:25:29.461 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-04 23:25:29.463 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-04 23:25:29.466 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-04 23:25:29.470 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-04 23:25:29.471 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-04 23:25:29.476 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-04 23:25:29.480 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:25:29.483 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-04 23:25:29.484 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:25:29.488 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-04 23:25:29.490 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-04 23:25:29.493 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-04 23:25:29.494 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-04 23:25:29.601 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-04 23:25:29.646 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-04 23:25:29.648 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-04 23:25:29.649 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-04 23:25:29.650 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-04 23:25:29.650 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-04 23:25:29.652 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-04 23:25:29.692 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 23:25:29.693 +03:00 [INF] Hosting environment: Development
2024-05-04 23:25:29.695 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-04 23:25:29.696 +03:00 [DBG] Hosting started
2024-05-04 23:25:30.095 +03:00 [DBG] Connection id "0HN3CF1BP7OJ9" accepted.
2024-05-04 23:25:30.097 +03:00 [DBG] Connection id "0HN3CF1BP7OJ9" started.
2024-05-04 23:25:30.106 +03:00 [DBG] Connection id "0HN3CF1BP7OJA" accepted.
2024-05-04 23:25:30.107 +03:00 [DBG] Connection id "0HN3CF1BP7OJA" started.
2024-05-04 23:25:30.136 +03:00 [DBG] Connection id "0HN3CF1BP7OJ9" received FIN.
2024-05-04 23:25:30.136 +03:00 [DBG] Connection id "0HN3CF1BP7OJA" received FIN.
2024-05-04 23:25:30.145 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:25:30.145 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:25:30.164 +03:00 [DBG] Connection id "0HN3CF1BP7OJ9" stopped.
2024-05-04 23:25:30.164 +03:00 [DBG] Connection id "0HN3CF1BP7OJA" stopped.
2024-05-04 23:25:30.169 +03:00 [DBG] Connection id "0HN3CF1BP7OJA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:25:30.169 +03:00 [DBG] Connection id "0HN3CF1BP7OJ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:25:30.436 +03:00 [DBG] Connection id "0HN3CF1BP7OJB" accepted.
2024-05-04 23:25:30.443 +03:00 [DBG] Connection id "0HN3CF1BP7OJB" started.
2024-05-04 23:25:30.474 +03:00 [DBG] Connection id "0HN3CF1BP7OJB" received FIN.
2024-05-04 23:25:30.474 +03:00 [DBG] Connection id "0HN3CF1BP7OJC" accepted.
2024-05-04 23:25:30.476 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:25:30.476 +03:00 [DBG] Connection id "0HN3CF1BP7OJC" started.
2024-05-04 23:25:30.481 +03:00 [DBG] Connection id "0HN3CF1BP7OJB" stopped.
2024-05-04 23:25:30.484 +03:00 [DBG] Connection id "0HN3CF1BP7OJB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:25:30.485 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:25:30.485 +03:00 [DBG] Connection id "0HN3CF1BP7OJC" received FIN.
2024-05-04 23:25:30.487 +03:00 [DBG] Connection id "0HN3CF1BP7OJD" accepted.
2024-05-04 23:25:30.489 +03:00 [DBG] Connection id "0HN3CF1BP7OJC" stopped.
2024-05-04 23:25:30.491 +03:00 [DBG] Connection id "0HN3CF1BP7OJD" started.
2024-05-04 23:25:30.492 +03:00 [DBG] Connection id "0HN3CF1BP7OJC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:25:30.504 +03:00 [DBG] Connection 0HN3CF1BP7OJD established using the following protocol: "Tls12"
2024-05-04 23:25:30.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-04 23:25:30.647 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 23:25:30.669 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-04 23:25:30.671 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:25:30.689 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 137.1612ms
2024-05-04 23:25:30.693 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-04 23:25:30.701 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 23:25:30.702 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:25:30.744 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-04 23:25:30.747 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-04 23:25:30.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-04 23:25:30.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-04 23:25:30.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-04 23:25:30.773 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-04 23:25:30.775 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-04 23:25:30.780 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-04 23:25:30.783 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:25:30.781 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-04 23:25:30.781 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:25:30.780 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-04 23:25:30.789 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:25:30.787 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 93.9896ms
2024-05-04 23:25:30.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-04 23:25:30.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-04 23:25:30.820 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 16.003ms
2024-05-04 23:25:30.831 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-04 23:25:30.837 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-04 23:25:30.843 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 71.3553ms
2024-05-04 23:25:30.853 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 80.8331ms
2024-05-04 23:25:30.858 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-04 23:25:30.863 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 91.5423ms
2024-05-04 23:25:30.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 85.3869ms
2024-05-04 23:25:32.268 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-04 23:25:32.272 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 23:25:32.273 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:25:32.396 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.4039ms
2024-05-04 23:26:02.219 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addRole - application/json 63
2024-05-04 23:26:02.234 +03:00 [DBG] 1 candidate(s) found for the request path '/addRole'
2024-05-04 23:26:02.237 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)' with route pattern 'addRole' is valid for the request path '/addRole'
2024-05-04 23:26:02.240 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:26:02.243 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:26:02.442 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:26:02.445 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:26:02.453 +03:00 [DBG] Authorization was successful.
2024-05-04 23:26:02.455 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:26:02.481 +03:00 [INF] Route matched with {action = "addRole", controller = "RoleManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addRole(IGT.Core.Dtos.RoleManagment.AddRoleInputDTO) on controller IGT.Api.Controllers.RoleManagmentController (IGT.Api).
2024-05-04 23:26:02.486 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:26:02.488 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:26:02.489 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:26:02.490 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:26:02.492 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:26:02.612 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 23:26:02.644 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.RoleManagmentController (IGT.Api)
2024-05-04 23:26:02.648 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.RoleManagmentController (IGT.Api)
2024-05-04 23:26:02.660 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO' ...
2024-05-04 23:26:02.664 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO' using the name '' in request data ...
2024-05-04 23:26:02.667 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 23:26:02.673 +03:00 [DBG] Connection id "0HN3CF1BP7OJD", Request id "0HN3CF1BP7OJD:00000011": started reading request body.
2024-05-04 23:26:02.674 +03:00 [DBG] Connection id "0HN3CF1BP7OJD", Request id "0HN3CF1BP7OJD:00000011": done reading request body.
2024-05-04 23:26:02.679 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO'
2024-05-04 23:26:02.681 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO'.
2024-05-04 23:26:02.683 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO'.
2024-05-04 23:26:02.684 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO' ...
2024-05-04 23:26:02.695 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO'.
2024-05-04 23:26:03.362 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-04 23:26:03.364 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-04 23:26:03.365 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-04 23:26:03.551 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-04 23:26:03.732 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:26:03.840 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-05-04 23:26:04.018 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 23:26:04.064 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:26:04.091 +03:00 [DBG] Created DbConnection. (26ms).
2024-05-04 23:26:04.096 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:26:04.388 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:26:04.394 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:26:04.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-05-04 23:26:04.412 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-05-04 23:26:04.421 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-04 23:26:04.482 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-04 23:26:04.498 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:26:04.506 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 17ms reading results.
2024-05-04 23:26:04.511 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:26:04.518 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (6ms).
2024-05-04 23:26:04.690 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 23:26:04.703 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-04 23:26:04.705 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 23:26:04.706 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 23:26:04.708 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 23:26:04.710 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-04 23:26:04.724 +03:00 [INF] Executed action IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api) in 2227.4081ms
2024-05-04 23:26:04.726 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:26:04.730 +03:00 [INF] HTTP POST /addRole responded 200 in 2484.0998 ms
2024-05-04 23:26:04.734 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:26:04.738 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:26:04.741 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-04 23:26:04.744 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addRole - 200 null application/json; charset=utf-8 2525.8317ms
2024-05-04 23:27:43.131 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 23:27:43.325 +03:00 [DBG] Hosting starting
2024-05-04 23:27:43.366 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-04 23:27:43.375 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-04 23:27:43.382 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-04 23:27:43.384 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-04 23:27:43.391 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-04 23:27:43.396 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-04 23:27:43.398 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-04 23:27:43.405 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-04 23:27:43.408 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:27:43.411 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-04 23:27:43.414 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:27:43.417 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-04 23:27:43.420 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-04 23:27:43.422 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-04 23:27:43.424 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-04 23:27:43.561 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-04 23:27:43.616 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-04 23:27:43.617 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-04 23:27:43.619 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-04 23:27:43.621 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-04 23:27:43.622 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-04 23:27:43.622 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-04 23:27:43.682 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 23:27:43.684 +03:00 [INF] Hosting environment: Development
2024-05-04 23:27:43.684 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-04 23:27:43.685 +03:00 [DBG] Hosting started
2024-05-04 23:27:43.864 +03:00 [DBG] Connection id "0HN3CF2JKUL73" accepted.
2024-05-04 23:27:43.866 +03:00 [DBG] Connection id "0HN3CF2JKUL73" started.
2024-05-04 23:27:43.872 +03:00 [DBG] Connection id "0HN3CF2JKUL74" accepted.
2024-05-04 23:27:43.876 +03:00 [DBG] Connection id "0HN3CF2JKUL74" started.
2024-05-04 23:27:43.908 +03:00 [DBG] Connection id "0HN3CF2JKUL74" received FIN.
2024-05-04 23:27:43.908 +03:00 [DBG] Connection id "0HN3CF2JKUL73" received FIN.
2024-05-04 23:27:43.917 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:27:43.917 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:27:43.942 +03:00 [DBG] Connection id "0HN3CF2JKUL73" stopped.
2024-05-04 23:27:43.942 +03:00 [DBG] Connection id "0HN3CF2JKUL74" stopped.
2024-05-04 23:27:43.946 +03:00 [DBG] Connection id "0HN3CF2JKUL73" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:27:43.946 +03:00 [DBG] Connection id "0HN3CF2JKUL74" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:27:44.124 +03:00 [DBG] Connection id "0HN3CF2JKUL75" accepted.
2024-05-04 23:27:44.145 +03:00 [DBG] Connection id "0HN3CF2JKUL75" started.
2024-05-04 23:27:44.184 +03:00 [DBG] Connection id "0HN3CF2JKUL75" received FIN.
2024-05-04 23:27:44.189 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:27:44.189 +03:00 [DBG] Connection id "0HN3CF2JKUL76" accepted.
2024-05-04 23:27:44.199 +03:00 [DBG] Connection id "0HN3CF2JKUL75" stopped.
2024-05-04 23:27:44.200 +03:00 [DBG] Connection id "0HN3CF2JKUL76" started.
2024-05-04 23:27:44.202 +03:00 [DBG] Connection id "0HN3CF2JKUL75" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:27:44.206 +03:00 [DBG] Connection id "0HN3CF2JKUL76" received FIN.
2024-05-04 23:27:44.207 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:27:44.207 +03:00 [DBG] Connection id "0HN3CF2JKUL77" accepted.
2024-05-04 23:27:44.211 +03:00 [DBG] Connection id "0HN3CF2JKUL76" stopped.
2024-05-04 23:27:44.212 +03:00 [DBG] Connection id "0HN3CF2JKUL77" started.
2024-05-04 23:27:44.213 +03:00 [DBG] Connection id "0HN3CF2JKUL76" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:27:44.230 +03:00 [DBG] Connection 0HN3CF2JKUL77 established using the following protocol: "Tls12"
2024-05-04 23:27:44.296 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-04 23:27:44.451 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 23:27:44.478 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-04 23:27:44.480 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:44.503 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 211.5979ms
2024-05-04 23:27:44.510 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-04 23:27:44.527 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 23:27:44.529 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:44.583 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-04 23:27:44.586 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-04 23:27:44.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-04 23:27:44.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-04 23:27:44.625 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-04 23:27:44.625 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-04 23:27:44.629 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-04 23:27:44.630 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-04 23:27:44.632 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-04 23:27:44.635 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-04 23:27:44.636 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:44.637 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:44.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 128.7145ms
2024-05-04 23:27:44.641 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:44.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-04 23:27:44.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-04 23:27:44.687 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-04 23:27:44.674 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-04 23:27:44.691 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 65.2607ms
2024-05-04 23:27:44.692 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 66.8125ms
2024-05-04 23:27:44.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 50.1524ms
2024-05-04 23:27:44.728 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-04 23:27:44.730 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.358ms
2024-05-04 23:27:44.730 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 105.3154ms
2024-05-04 23:27:46.177 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-04 23:27:46.186 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 23:27:46.187 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:46.349 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 172.9768ms
2024-05-04 23:27:54.056 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 23:27:54.252 +03:00 [DBG] Hosting starting
2024-05-04 23:27:54.289 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-04 23:27:54.298 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-04 23:27:54.305 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-04 23:27:54.306 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-04 23:27:54.312 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-04 23:27:54.318 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-04 23:27:54.319 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-04 23:27:54.326 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-04 23:27:54.331 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:27:54.334 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-04 23:27:54.336 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-04 23:27:54.340 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-04 23:27:54.342 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-04 23:27:54.345 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-04 23:27:54.346 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-04 23:27:54.448 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-04 23:27:54.494 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-04 23:27:54.496 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-04 23:27:54.497 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-04 23:27:54.498 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-04 23:27:54.499 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-04 23:27:54.499 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-04 23:27:54.545 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 23:27:54.547 +03:00 [INF] Hosting environment: Development
2024-05-04 23:27:54.549 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-04 23:27:54.550 +03:00 [DBG] Hosting started
2024-05-04 23:27:54.666 +03:00 [DBG] Connection id "0HN3CF2MRV15L" received FIN.
2024-05-04 23:27:54.667 +03:00 [DBG] Connection id "0HN3CF2MRV15M" received FIN.
2024-05-04 23:27:54.668 +03:00 [DBG] Connection id "0HN3CF2MRV15L" accepted.
2024-05-04 23:27:54.668 +03:00 [DBG] Connection id "0HN3CF2MRV15M" accepted.
2024-05-04 23:27:54.683 +03:00 [DBG] Connection id "0HN3CF2MRV15L" started.
2024-05-04 23:27:54.683 +03:00 [DBG] Connection id "0HN3CF2MRV15M" started.
2024-05-04 23:27:54.704 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:27:54.704 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:27:54.723 +03:00 [DBG] Connection id "0HN3CF2MRV15L" stopped.
2024-05-04 23:27:54.723 +03:00 [DBG] Connection id "0HN3CF2MRV15M" stopped.
2024-05-04 23:27:54.726 +03:00 [DBG] Connection id "0HN3CF2MRV15M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:27:54.726 +03:00 [DBG] Connection id "0HN3CF2MRV15L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:27:54.860 +03:00 [DBG] Connection id "0HN3CF2MRV15N" accepted.
2024-05-04 23:27:54.864 +03:00 [DBG] Connection id "0HN3CF2MRV15N" started.
2024-05-04 23:27:54.908 +03:00 [DBG] Connection id "0HN3CF2MRV15N" received FIN.
2024-05-04 23:27:54.911 +03:00 [DBG] Connection id "0HN3CF2MRV15O" accepted.
2024-05-04 23:27:54.914 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:27:54.915 +03:00 [DBG] Connection id "0HN3CF2MRV15O" started.
2024-05-04 23:27:54.920 +03:00 [DBG] Connection id "0HN3CF2MRV15N" stopped.
2024-05-04 23:27:54.922 +03:00 [DBG] Connection id "0HN3CF2MRV15N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:27:54.924 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-04 23:27:54.923 +03:00 [DBG] Connection id "0HN3CF2MRV15O" received FIN.
2024-05-04 23:27:54.925 +03:00 [DBG] Connection id "0HN3CF2MRV15P" accepted.
2024-05-04 23:27:54.929 +03:00 [DBG] Connection id "0HN3CF2MRV15O" stopped.
2024-05-04 23:27:54.931 +03:00 [DBG] Connection id "0HN3CF2MRV15P" started.
2024-05-04 23:27:54.933 +03:00 [DBG] Connection id "0HN3CF2MRV15O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-04 23:27:54.947 +03:00 [DBG] Connection 0HN3CF2MRV15P established using the following protocol: "Tls12"
2024-05-04 23:27:54.998 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-04 23:27:55.084 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 23:27:55.101 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-04 23:27:55.102 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:55.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 123.7525ms
2024-05-04 23:27:55.122 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-04 23:27:55.128 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 23:27:55.130 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:55.167 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-04 23:27:55.169 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-04 23:27:55.190 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-04 23:27:55.190 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-04 23:27:55.191 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-04 23:27:55.191 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-04 23:27:55.194 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-04 23:27:55.197 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-04 23:27:55.200 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-04 23:27:55.201 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-04 23:27:55.202 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:55.203 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:55.204 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:55.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 84.0029ms
2024-05-04 23:27:55.217 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-04 23:27:55.223 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-04 23:27:55.253 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 29.519ms
2024-05-04 23:27:55.262 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-04 23:27:55.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 76.5273ms
2024-05-04 23:27:55.273 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-04 23:27:55.293 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-04 23:27:55.294 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.3867ms
2024-05-04 23:27:55.294 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 103.3644ms
2024-05-04 23:27:55.295 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 104.7281ms
2024-05-04 23:27:56.564 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-04 23:27:56.567 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 23:27:56.569 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:27:56.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.0559ms
2024-05-04 23:28:21.823 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addRole - application/json 63
2024-05-04 23:28:21.885 +03:00 [DBG] 1 candidate(s) found for the request path '/addRole'
2024-05-04 23:28:21.889 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)' with route pattern 'addRole' is valid for the request path '/addRole'
2024-05-04 23:28:21.891 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:28:21.892 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:28:22.070 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:28:22.073 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:28:22.080 +03:00 [DBG] Authorization was successful.
2024-05-04 23:28:22.082 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:28:22.103 +03:00 [INF] Route matched with {action = "addRole", controller = "RoleManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addRole(IGT.Core.Dtos.RoleManagment.AddRoleInputDTO) on controller IGT.Api.Controllers.RoleManagmentController (IGT.Api).
2024-05-04 23:28:22.107 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:28:22.109 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:28:22.111 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:28:22.112 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:28:22.113 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:28:22.218 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 23:28:22.249 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.RoleManagmentController (IGT.Api)
2024-05-04 23:28:22.251 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.RoleManagmentController (IGT.Api)
2024-05-04 23:28:22.264 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO' ...
2024-05-04 23:28:22.267 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO' using the name '' in request data ...
2024-05-04 23:28:22.271 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 23:28:22.278 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000011": started reading request body.
2024-05-04 23:28:22.280 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000011": done reading request body.
2024-05-04 23:28:22.285 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO'
2024-05-04 23:28:22.286 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO'.
2024-05-04 23:28:22.288 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO'.
2024-05-04 23:28:22.289 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO' ...
2024-05-04 23:28:22.298 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Core.Dtos.RoleManagment.AddRoleInputDTO'.
2024-05-04 23:28:22.787 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-04 23:28:22.790 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-04 23:28:22.792 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-04 23:28:22.949 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-04 23:28:23.113 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:28:23.177 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-05-04 23:28:23.352 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 23:28:23.393 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:28:23.412 +03:00 [DBG] Created DbConnection. (17ms).
2024-05-04 23:28:23.417 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.605 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.609 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:28:23.615 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-04 23:28:23.624 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-05-04 23:28:23.633 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-04 23:28:23.684 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-04 23:28:23.699 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.707 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 16ms reading results.
2024-05-04 23:28:23.711 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.718 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (6ms).
2024-05-04 23:28:23.727 +03:00 [DBG] Compiling query expression: 
'DbSet<Privilege>()
    .Where(p => __model_PrivilegeCodes_0.Contains(p.Code))'
2024-05-04 23:28:23.793 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Privilege>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Privilege.Id (int) Required PK AfterSave:Throw, 0], [Property: Privilege.BackendURL (string) Required MaxLength(255) ANSI, 1], [Property: Privilege.Code (string) Required MaxLength(255) ANSI, 2], [Property: Privilege.IsAdmin (bool) Required, 3], [Property: Privilege.IsGeneral (bool) Required, 4], [Property: Privilege.IsSuperAdmin (bool) Required, 5], [Property: Privilege.Name (string) Required MaxLength(255) ANSI, 6] }
        SELECT p.Id, p.BackendURL, p.Code, p.IsAdmin, p.IsGeneral, p.IsSuperAdmin, p.Name
        FROM Privilege AS p
        WHERE p.Code IN (
            SELECT m.value
            FROM OPENJSON(@__model_PrivilegeCodes_0) WITH (value varchar(255) '') AS m)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Privilege>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 23:28:23.803 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.805 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:28:23.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:28:23.814 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-05-04 23:28:23.816 +03:00 [DBG] Executing DbCommand [Parameters=[@__model_PrivilegeCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[BackendURL], [p].[Code], [p].[IsAdmin], [p].[IsGeneral], [p].[IsSuperAdmin], [p].[Name]
FROM [Privilege] AS [p]
WHERE [p].[Code] IN (
    SELECT [m].[value]
    FROM OPENJSON(@__model_PrivilegeCodes_0) WITH ([value] varchar(255) '$') AS [m]
)
2024-05-04 23:28:23.830 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__model_PrivilegeCodes_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[BackendURL], [p].[Code], [p].[IsAdmin], [p].[IsGeneral], [p].[IsSuperAdmin], [p].[Name]
FROM [Privilege] AS [p]
WHERE [p].[Code] IN (
    SELECT [m].[value]
    FROM OPENJSON(@__model_PrivilegeCodes_0) WITH ([value] varchar(255) '$') AS [m]
)
2024-05-04 23:28:23.857 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Privilege' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:28:23.876 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.877 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 44ms reading results.
2024-05-04 23:28:23.879 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.880 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-04 23:28:23.887 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.888 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.891 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:28:23.892 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:28:23.893 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:28:23.894 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-04 23:28:23.897 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-04 23:28:23.899 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.900 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:28:23.902 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:23.903 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:28:23.923 +03:00 [DBG] 'AkramDbContext' generated a value for the property 'Role.Discriminator'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:28:23.957 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:28:23.982 +03:00 [DBG] Context 'AkramDbContext' started tracking 'RolePrivilege' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:28:23.988 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-05-04 23:28:23.992 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-05-04 23:28:24.006 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-05-04 23:28:24.081 +03:00 [DBG] Executing 2 update commands as a batch.
2024-05-04 23:28:24.085 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:24.087 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:24.089 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 23:28:24.096 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 23:28:24.101 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:28:24.102 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:28:24.104 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-04 23:28:24.107 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 13), @p3='?' (Size = 256), @p4='?' (Size = 256), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [RolePrivilege] ([Id], [RoleId])
VALUES (@p5, @p6);
2024-05-04 23:28:24.119 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 13), @p3='?' (Size = 256), @p4='?' (Size = 256), @p5='?' (DbType = Int32), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [RolePrivilege] ([Id], [RoleId])
VALUES (@p5, @p6);
2024-05-04 23:28:24.125 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:24.126 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-05-04 23:28:24.131 +03:00 [DBG] Committing transaction.
2024-05-04 23:28:24.135 +03:00 [DBG] Committed transaction.
2024-05-04 23:28:24.138 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:24.139 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:28:24.142 +03:00 [DBG] Disposing transaction.
2024-05-04 23:28:24.149 +03:00 [DBG] An entity of type 'Role' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:28:24.152 +03:00 [DBG] An entity of type 'RolePrivilege' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:28:24.156 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-05-04 23:28:24.162 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 23:28:24.166 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-04 23:28:24.168 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 23:28:24.169 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 23:28:24.171 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 23:28:24.172 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-04 23:28:24.184 +03:00 [INF] Executed action IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api) in 2066.8691ms
2024-05-04 23:28:24.187 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:28:24.191 +03:00 [INF] HTTP POST /addRole responded 200 in 2296.0396 ms
2024-05-04 23:28:24.196 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:28:24.199 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:28:24.203 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-05-04 23:28:24.206 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addRole - 200 null application/json; charset=utf-8 2382.3036ms
2024-05-04 23:29:10.888 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 153
2024-05-04 23:29:10.893 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-04 23:29:10.894 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-04 23:29:10.896 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:29:10.898 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:29:10.901 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:29:10.902 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:29:10.905 +03:00 [DBG] Authorization was successful.
2024-05-04 23:29:10.906 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:29:10.911 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-04 23:29:10.913 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:29:10.915 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:29:10.916 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:29:10.918 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:29:10.919 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:29:10.921 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-04 23:29:10.926 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-04 23:29:10.928 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-04 23:29:10.929 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' using the name '' in request data ...
2024-05-04 23:29:10.931 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 23:29:10.933 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000013": started reading request body.
2024-05-04 23:29:10.934 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000013": done reading request body.
2024-05-04 23:29:10.936 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.RegisterModel'
2024-05-04 23:29:10.938 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-04 23:29:10.939 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-04 23:29:10.940 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-04 23:29:10.943 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-04 23:29:10.999 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:29:11.003 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-05-04 23:29:11.012 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 23:29:11.016 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:29:11.018 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-04 23:29:11.018 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.020 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.021 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.022 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:29:11.023 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:11.024 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-04 23:29:11.032 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-04 23:29:11.034 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.036 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:29:11.038 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.039 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-04 23:29:11.042 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-05-04 23:29:11.048 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 23:29:11.052 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.053 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.054 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.055 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:29:11.057 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:11.058 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-04 23:29:11.063 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-04 23:29:11.065 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.066 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:29:11.068 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.069 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-04 23:29:11.071 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.073 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.074 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.075 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:29:11.076 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:11.078 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-04 23:29:11.081 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-04 23:29:11.088 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:29:11.089 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.092 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 7ms reading results.
2024-05-04 23:29:11.094 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.095 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:11.204 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.206 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.207 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.208 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:29:11.210 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:11.212 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-04 23:29:11.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-04 23:29:11.219 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.221 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-04 23:29:11.222 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.224 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:11.265 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:29:11.268 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-05-04 23:29:11.269 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-05-04 23:29:11.278 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-05-04 23:29:11.282 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.283 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.284 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.284 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:29:11.287 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-04 23:29:11.288 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-05-04 23:29:11.296 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-05-04 23:29:11.299 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.301 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:29:11.303 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.304 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:11.306 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:29:11.308 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-05-04 23:29:11.313 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-05-04 23:29:11.320 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 23:29:11.323 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.324 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.326 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.327 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:29:11.328 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:11.330 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-04 23:29:11.335 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-04 23:29:11.338 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.339 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:29:11.340 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.342 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:11.361 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-05-04 23:29:11.369 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 23:29:11.376 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.379 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.380 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.381 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:29:11.382 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:11.384 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-04 23:29:11.390 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-04 23:29:11.395 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.397 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-04 23:29:11.399 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.400 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:11.405 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.406 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.408 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.409 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:29:11.410 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:11.412 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-04 23:29:11.415 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-04 23:29:11.417 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.419 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-04 23:29:11.421 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.422 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-04 23:29:11.429 +03:00 [DBG] Context 'AkramDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:29:11.431 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.433 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.434 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.435 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:29:11.436 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:11.437 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-04 23:29:11.441 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-04 23:29:11.444 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.446 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-04 23:29:11.447 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.448 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-04 23:29:11.454 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:29:11.455 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-05-04 23:29:11.456 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-05-04 23:29:11.457 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-05-04 23:29:11.468 +03:00 [DBG] Executing 2 update commands as a batch.
2024-05-04 23:29:11.469 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.470 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.471 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 23:29:11.472 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 23:29:11.473 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:11.474 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:29:11.476 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:11.477 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-04 23:29:11.487 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-04 23:29:11.493 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.495 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-05-04 23:29:11.496 +03:00 [DBG] Committing transaction.
2024-05-04 23:29:11.497 +03:00 [DBG] Committed transaction.
2024-05-04 23:29:11.498 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.499 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:11.500 +03:00 [DBG] Disposing transaction.
2024-05-04 23:29:11.501 +03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:29:11.503 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:29:11.505 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-05-04 23:29:11.507 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 23:29:11.510 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-04 23:29:11.510 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 23:29:11.511 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 23:29:11.512 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 23:29:11.514 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-04 23:29:11.516 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 595.4479ms
2024-05-04 23:29:11.520 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:29:11.523 +03:00 [INF] HTTP POST /addUser responded 200 in 623.9357 ms
2024-05-04 23:29:11.525 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:29:11.529 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:11.531 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-04 23:29:11.532 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 200 null application/json; charset=utf-8 643.842ms
2024-05-04 23:29:30.299 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/login - application/json 52
2024-05-04 23:29:30.302 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-04 23:29:30.303 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-04 23:29:30.305 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-04 23:29:30.309 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:29:30.313 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:29:30.314 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:29:30.315 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-04 23:29:30.321 +03:00 [INF] Route matched with {action = "login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-04 23:29:30.323 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 23:29:30.324 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:29:30.326 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 23:29:30.328 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:29:30.329 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 23:29:30.331 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-04 23:29:30.337 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-04 23:29:30.339 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-04 23:29:30.340 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-05-04 23:29:30.342 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 23:29:30.344 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000015": started reading request body.
2024-05-04 23:29:30.345 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000015": done reading request body.
2024-05-04 23:29:30.347 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-05-04 23:29:30.348 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-04 23:29:30.349 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-04 23:29:30.350 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-04 23:29:30.352 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-04 23:29:30.365 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:29:30.370 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:29:30.370 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 23:29:30.371 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.373 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.374 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:30.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:29:30.378 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-04 23:29:30.379 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-04 23:29:30.384 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-04 23:29:30.387 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 23:29:30.389 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.391 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-05-04 23:29:30.392 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.393 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-04 23:29:30.490 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-05-04 23:29:30.523 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 23:29:30.529 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.532 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.534 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:30.535 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:29:30.537 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-04 23:29:30.538 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-04 23:29:30.545 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-04 23:29:30.548 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.550 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:29:30.552 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.553 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:30.565 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-05-04 23:29:30.586 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 23:29:30.590 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.591 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.593 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:30.594 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:29:30.595 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:29:30.596 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-04 23:29:30.600 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-04 23:29:30.603 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.605 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:29:30.606 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.608 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:30.613 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.615 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.615 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:30.616 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:29:30.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:30.619 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-04 23:29:30.622 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-04 23:29:30.624 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.626 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:29:30.628 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.629 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:30.641 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 23:29:30.643 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-04 23:29:30.644 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 23:29:30.645 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 23:29:30.646 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 23:29:30.648 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 23:29:30.657 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.login (IGT.Api) in 326.6787ms
2024-05-04 23:29:30.659 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-04 23:29:30.659 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 349.0026 ms
2024-05-04 23:29:30.662 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:29:30.663 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:30.664 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-04 23:29:30.665 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/login - 200 null application/json; charset=utf-8 366.2698ms
2024-05-04 23:29:48.706 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addRole - application/json 63
2024-05-04 23:29:48.710 +03:00 [DBG] 1 candidate(s) found for the request path '/addRole'
2024-05-04 23:29:48.711 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)' with route pattern 'addRole' is valid for the request path '/addRole'
2024-05-04 23:29:48.715 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:29:48.716 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:29:48.717 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:29:48.719 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:29:48.722 +03:00 [DBG] Authorization was successful.
2024-05-04 23:29:48.724 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:29:48.724 +03:00 [INF] Route matched with {action = "addRole", controller = "RoleManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addRole(IGT.Core.Dtos.RoleManagment.AddRoleInputDTO) on controller IGT.Api.Controllers.RoleManagmentController (IGT.Api).
2024-05-04 23:29:48.728 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:29:48.731 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:29:48.732 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:29:48.733 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:29:48.735 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:29:48.740 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:29:48.747 +03:00 [DBG] Compiling query expression: 
'DbSet<Privilege>()
    .Where(p => p.Roles
        .Any(r => r.Name == __get_Item_0) || p.IsGeneral && !(p.IsSuperAdmin))
    .Select(p => p.BackendURL)'
2024-05-04 23:29:48.777 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT p.BackendURL
        FROM Privilege AS p
        WHERE (EXISTS (
            SELECT 1
            FROM RolePrivilege AS r
            INNER JOIN 
            (
                SELECT a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
                FROM AspNetRoles AS a
                WHERE a.Discriminator == N'Role'
            ) AS t ON r.RoleId == t.Id
            WHERE ((p.Id != NULL) && (p.Id == r.Id)) && (t.Name == @__get_Item_0)) || p.IsGeneral) && Not(p.IsSuperAdmin)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 23:29:48.789 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:29:48.789 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 23:29:48.792 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:48.795 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:48.796 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:48.798 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:48.801 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-04 23:29:48.803 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:29:48.822 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:29:48.827 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:48.829 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-05-04 23:29:48.832 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:48.834 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:48.836 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-04 23:29:48.840 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-04 23:29:48.843 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-04 23:29:48.844 +03:00 [INF] Executed action IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api) in 106.2509ms
2024-05-04 23:29:48.845 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:29:48.847 +03:00 [INF] HTTP POST /addRole responded 403 in 129.9948 ms
2024-05-04 23:29:48.849 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:29:48.850 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:48.851 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-04 23:29:48.853 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addRole - 403 0 null 147.9512ms
2024-05-04 23:29:48.856 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000017": started reading request body.
2024-05-04 23:29:48.857 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000017": done reading request body.
2024-05-04 23:29:59.051 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 153
2024-05-04 23:29:59.056 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-04 23:29:59.059 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-04 23:29:59.063 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:29:59.066 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:29:59.068 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:29:59.069 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:29:59.069 +03:00 [DBG] Authorization was successful.
2024-05-04 23:29:59.071 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:29:59.074 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-04 23:29:59.076 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:29:59.080 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:29:59.081 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:29:59.083 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:29:59.085 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:29:59.087 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:29:59.090 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:29:59.091 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-04 23:29:59.092 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:59.094 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:59.095 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:29:59.096 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:29:59.097 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-04 23:29:59.098 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:29:59.101 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:29:59.104 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:59.105 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:29:59.107 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:59.108 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:29:59.109 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-04 23:29:59.110 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-04 23:29:59.111 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-04 23:29:59.112 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 25.981ms
2024-05-04 23:29:59.114 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:29:59.115 +03:00 [INF] HTTP POST /addUser responded 403 in 47.5504 ms
2024-05-04 23:29:59.116 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:29:59.117 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:29:59.118 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-04 23:29:59.120 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 403 0 null 69.2988ms
2024-05-04 23:29:59.124 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000019": started reading request body.
2024-05-04 23:29:59.125 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000019": done reading request body.
2024-05-04 23:30:59.131 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 153
2024-05-04 23:30:59.137 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-04 23:30:59.141 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-04 23:30:59.144 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:30:59.145 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:30:59.146 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:30:59.147 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:30:59.149 +03:00 [DBG] Authorization was successful.
2024-05-04 23:30:59.150 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:30:59.151 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-04 23:30:59.153 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:30:59.155 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:30:59.157 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:30:59.159 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:30:59.160 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:31:07.602 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:31:07.711 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:31:07.711 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 23:31:07.714 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:31:07.715 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:31:07.716 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:31:07.717 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:31:07.718 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:31:07.719 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:31:07.732 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:31:07.735 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:31:07.737 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:31:07.738 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:31:07.739 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:38:47.955 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-04 23:38:47.974 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-04 23:38:47.975 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-04 23:38:47.976 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 468813.8886ms
2024-05-04 23:38:47.979 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:38:47.980 +03:00 [INF] HTTP POST /addUser responded 403 in 468833.8833 ms
2024-05-04 23:38:47.982 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:38:47.982 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:38:47.983 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-04 23:38:47.985 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 403 0 null 468857.9641ms
2024-05-04 23:38:47.988 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:0000001B": started reading request body.
2024-05-04 23:38:47.990 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:0000001B": done reading request body.
2024-05-04 23:38:48.796 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-04 23:38:48.825 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 23:38:48.826 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:38:48.828 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-04 23:38:48.828 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-04 23:38:48.887 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-04 23:38:48.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-04 23:38:48.932 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-04 23:38:48.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-04 23:38:48.934 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-04 23:38:48.935 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 139.0494ms
2024-05-04 23:38:48.954 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:38:48.961 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-04 23:38:48.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 32.6099ms
2024-05-04 23:38:48.974 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-04 23:38:48.992 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 66.7025ms
2024-05-04 23:38:49.016 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.207ms
2024-05-04 23:38:50.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-04 23:38:50.428 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 23:38:50.429 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:38:50.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.8931ms
2024-05-04 23:38:50.470 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/favicon-32x32.png - null null
2024-05-04 23:38:50.473 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-05-04 23:38:50.474 +03:00 [DBG] Request did not match any endpoints
2024-05-04 23:38:50.475 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-04 23:38:50.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/favicon-32x32.png - 200 628 image/png 7.1905ms
2024-05-04 23:38:55.319 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 140
2024-05-04 23:38:55.326 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-04 23:38:55.329 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-04 23:38:55.331 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:38:55.334 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:38:55.336 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-04 23:38:55.338 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-04 23:38:55.340 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-04 23:38:55.346 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-04 23:38:55.347 +03:00 [INF] HTTP POST /addUser responded 401 in 12.0865 ms
2024-05-04 23:38:55.350 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 401 0 null 31.0217ms
2024-05-04 23:38:55.352 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000029": started reading request body.
2024-05-04 23:38:55.354 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000029": done reading request body.
2024-05-04 23:38:58.406 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 140
2024-05-04 23:38:58.409 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-04 23:38:58.412 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-04 23:38:58.414 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:38:58.415 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:38:58.416 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-04 23:38:58.417 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-04 23:38:58.418 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-04 23:38:58.419 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-04 23:38:58.420 +03:00 [INF] HTTP POST /addUser responded 401 in 4.6416 ms
2024-05-04 23:38:58.422 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 401 0 null 15.8408ms
2024-05-04 23:38:58.426 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:0000002B": started reading request body.
2024-05-04 23:38:58.427 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:0000002B": done reading request body.
2024-05-04 23:39:06.666 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 140
2024-05-04 23:39:06.672 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-04 23:39:06.674 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-04 23:39:06.676 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:39:06.677 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:39:06.680 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:39:06.682 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:39:06.683 +03:00 [DBG] Authorization was successful.
2024-05-04 23:39:06.685 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:39:06.688 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-04 23:39:06.691 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:39:06.693 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:39:06.695 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:39:06.697 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:39:06.699 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:39:14.125 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:39:14.222 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:39:14.223 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-04 23:39:14.224 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:39:14.230 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:39:14.231 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:39:14.232 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:39:14.233 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:39:14.234 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:39:14.244 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:39:14.248 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:39:14.249 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:39:14.251 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:39:14.252 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:39:26.390 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-04 23:39:26.393 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-04 23:39:26.395 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-04 23:39:26.397 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 19695.7405ms
2024-05-04 23:39:26.398 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:39:26.399 +03:00 [INF] HTTP POST /addUser responded 403 in 19720.0112 ms
2024-05-04 23:39:26.401 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:39:26.402 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:39:26.403 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-04 23:39:26.404 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 403 0 null 19738.0666ms
2024-05-04 23:39:26.408 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:0000002D": started reading request body.
2024-05-04 23:39:26.410 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:0000002D": done reading request body.
2024-05-04 23:39:47.771 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 140
2024-05-04 23:39:47.774 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-04 23:39:47.775 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-04 23:39:47.778 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:39:47.779 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:39:47.780 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:39:47.783 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:39:47.786 +03:00 [DBG] Authorization was successful.
2024-05-04 23:39:47.787 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:39:47.788 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-04 23:39:47.791 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:39:47.792 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:39:47.793 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:39:47.795 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:39:47.796 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:40:11.249 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:40:11.345 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:40:11.346 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-04 23:40:11.347 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:11.348 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:11.349 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:40:11.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 23:40:11.351 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:40:11.352 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:40:11.361 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:40:11.364 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:11.365 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:40:11.367 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:11.368 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:40:15.426 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-04 23:40:15.431 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-04 23:40:15.433 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-04 23:40:15.434 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' using the name '' in request data ...
2024-05-04 23:40:15.437 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 23:40:15.439 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:0000002F": started reading request body.
2024-05-04 23:40:15.440 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:0000002F": done reading request body.
2024-05-04 23:40:15.442 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.RegisterModel'
2024-05-04 23:40:15.444 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-04 23:40:15.445 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-04 23:40:15.446 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-04 23:40:15.448 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-04 23:40:15.496 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 23:40:15.499 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-04 23:40:15.500 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 23:40:15.501 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 23:40:15.502 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 23:40:15.503 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-04 23:40:15.507 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 27708.8587ms
2024-05-04 23:40:15.509 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-04 23:40:15.510 +03:00 [INF] HTTP POST /addUser responded 200 in 27729.8801 ms
2024-05-04 23:40:15.511 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:40:15.512 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:15.514 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-04 23:40:15.515 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 200 null application/json; charset=utf-8 27744.4316ms
2024-05-04 23:40:21.993 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addRole - application/json 62
2024-05-04 23:40:21.997 +03:00 [DBG] 1 candidate(s) found for the request path '/addRole'
2024-05-04 23:40:22.001 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)' with route pattern 'addRole' is valid for the request path '/addRole'
2024-05-04 23:40:22.004 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:40:22.007 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 23:40:22.008 +03:00 [DBG] Successfully validated the token.
2024-05-04 23:40:22.009 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-04 23:40:22.010 +03:00 [DBG] Authorization was successful.
2024-05-04 23:40:22.011 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:40:22.016 +03:00 [INF] Route matched with {action = "addRole", controller = "RoleManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addRole(IGT.Core.Dtos.RoleManagment.AddRoleInputDTO) on controller IGT.Api.Controllers.RoleManagmentController (IGT.Api).
2024-05-04 23:40:22.020 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-04 23:40:22.022 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 23:40:22.023 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-04 23:40:22.025 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 23:40:22.027 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-04 23:40:24.074 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-04 23:40:24.076 +03:00 [DBG] Creating DbConnection.
2024-05-04 23:40:24.079 +03:00 [DBG] Created DbConnection. (2ms).
2024-05-04 23:40:24.080 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:24.082 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:24.083 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 23:40:24.085 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-04 23:40:24.086 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-04 23:40:24.088 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:40:24.093 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-04 23:40:24.096 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:24.097 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-04 23:40:24.100 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:24.101 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-04 23:40:24.102 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-04 23:40:24.103 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-04 23:40:24.104 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-04 23:40:24.107 +03:00 [INF] Executed action IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api) in 2077.7176ms
2024-05-04 23:40:24.107 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.RoleManagmentController.addRole (IGT.Api)'
2024-05-04 23:40:24.109 +03:00 [INF] HTTP POST /addRole responded 403 in 2100.8092 ms
2024-05-04 23:40:24.110 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-04 23:40:24.111 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-04 23:40:24.114 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-04 23:40:24.116 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addRole - 403 0 null 2123.0857ms
2024-05-04 23:40:24.120 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000031": started reading request body.
2024-05-04 23:40:24.121 +03:00 [DBG] Connection id "0HN3CF2MRV15P", Request id "0HN3CF2MRV15P:00000031": done reading request body.
