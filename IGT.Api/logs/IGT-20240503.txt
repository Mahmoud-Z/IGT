2024-05-03 02:16:25.464 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 02:16:25.968 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:16:25.970 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:16:25.970 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:16:57.247 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 02:16:57.646 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:16:57.647 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:16:57.647 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:17:47.429 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 02:17:47.863 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:17:47.864 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:17:47.865 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:18:21.119 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 02:18:21.563 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:18:21.564 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:18:21.564 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:18:21.683 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 02:18:21.818 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 02:18:21.857 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:18:21.857 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:18:21.857 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:18:21.869 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 02:18:22.646 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 02:18:44.739 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 02:18:45.162 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:18:45.163 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:18:45.163 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:19:34.877 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 02:19:35.294 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:19:35.295 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:19:35.295 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:19:35.423 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 02:19:35.534 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 02:19:35.562 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:19:35.562 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:19:35.562 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:19:35.576 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 02:19:36.084 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 02:19:54.431 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 02:19:54.852 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:19:54.853 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:19:54.853 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:19:54.984 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 02:19:55.098 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 02:19:55.114 +03:00 [DBG] Creating DbConnection.
2024-05-03 02:19:55.183 +03:00 [DBG] Created DbConnection. (66ms).
2024-05-03 02:19:55.185 +03:00 [DBG] Migrating using database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:55.196 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:55.456 +03:00 [DBG] An error occurred using the connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:55.456 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:55.457 +03:00 [DBG] An error occurred using the connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:55.491 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 02:19:55.491 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 02:19:55.491 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 02:19:55.508 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 02:19:55.532 +03:00 [DBG] Creating DbConnection.
2024-05-03 02:19:55.532 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 02:19:55.532 +03:00 [DBG] Opening connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:55.547 +03:00 [DBG] Opened connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:55.552 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:55.559 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-05-03 02:19:55.561 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-05-03 02:19:55.566 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [AkramDBTest4];
2024-05-03 02:19:55.875 +03:00 [INF] Executed DbCommand (307ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [AkramDBTest4];
2024-05-03 02:19:55.876 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:55.876 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:55.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:55.876 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AkramDBTest4] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-05-03 02:19:56.037 +03:00 [INF] Executed DbCommand (161ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [AkramDBTest4] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-05-03 02:19:56.038 +03:00 [DBG] Closing connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.045 +03:00 [DBG] Closed connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (4ms).
2024-05-03 02:19:56.048 +03:00 [DBG] Disposing connection to database 'master' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.048 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-03 02:19:56.049 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.051 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.051 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:56.052 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.052 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.052 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-03 02:19:56.058 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-03 02:19:56.059 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.059 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 02:19:56.106 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:56.107 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.107 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.107 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.107 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.107 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-05-03 02:19:56.115 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-05-03 02:19:56.115 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.115 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 02:19:56.116 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.116 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.116 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:56.116 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.116 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-03 02:19:56.117 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-03 02:19:56.117 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.117 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 02:19:56.118 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-03 02:19:56.119 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-03 02:19:56.119 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-03 02:19:56.119 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.119 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.119 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-03 02:19:56.130 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-03 02:19:56.254 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.255 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 02:19:56.257 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.257 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.257 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 02:19:56.257 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 02:19:56.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-03 02:19:56.258 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-03 02:19:56.260 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-03 02:19:56.261 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.263 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 02:19:56.263 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.263 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 02:19:56.272 +03:00 [INF] Applying migration '20240502231936_Intialization'.
2024-05-03 02:19:56.340 +03:00 [DBG] Executing 4 update commands as a batch.
2024-05-03 02:19:56.345 +03:00 [DBG] Executing 5 update commands as a batch.
2024-05-03 02:19:56.350 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.350 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:19:56.352 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-03 02:19:56.357 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-03 02:19:56.358 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:56.358 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.358 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.358 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-05-03 02:19:56.363 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-05-03 02:19:56.363 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:56.363 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.363 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:56.363 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-05-03 02:19:56.365 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-05-03 02:19:58.065 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:58.065 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:58.065 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:58.065 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Privilege] (
    [Id] int NOT NULL,
    [Name] varchar(255) NOT NULL,
    [Code] varchar(255) NOT NULL,
    [BackendURL] varchar(255) NOT NULL,
    [IsGeneral] bit NOT NULL,
    CONSTRAINT [PK__Privileg__B3E77E5CCF515C05] PRIMARY KEY ([Id])
);
2024-05-03 02:19:58.067 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Privilege] (
    [Id] int NOT NULL,
    [Name] varchar(255) NOT NULL,
    [Code] varchar(255) NOT NULL,
    [BackendURL] varchar(255) NOT NULL,
    [IsGeneral] bit NOT NULL,
    CONSTRAINT [PK__Privileg__B3E77E5CCF515C05] PRIMARY KEY ([Id])
);
2024-05-03 02:19:58.067 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:58.068 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:58.068 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:58.068 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:19:58.073 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:19:58.073 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:58.073 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:58.073 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:58.073 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:19:58.075 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:19:58.075 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:19:58.075 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:58.075 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:19:58.075 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:20:00.386 +03:00 [INF] Executed DbCommand (2,311ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:20:00.386 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:00.386 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:00.386 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:00.386 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:20:00.389 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:20:00.389 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:00.389 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:00.389 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:00.389 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:20:00.391 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-03 02:20:00.391 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:00.391 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:00.391 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:00.391 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RolePrivilege] (
    [RoleId] nvarchar(450) NOT NULL,
    [Id] int NOT NULL,
    CONSTRAINT [PK_RolePrivilege] PRIMARY KEY ([RoleId], [Id]),
    CONSTRAINT [FK_RolePrivilege_Privilege] FOREIGN KEY ([Id]) REFERENCES [Privilege] ([Id]),
    CONSTRAINT [FK_RolePrivilege_Role] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id])
);
2024-05-03 02:20:03.079 +03:00 [INF] Executed DbCommand (2,688ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RolePrivilege] (
    [RoleId] nvarchar(450) NOT NULL,
    [Id] int NOT NULL,
    CONSTRAINT [PK_RolePrivilege] PRIMARY KEY ([RoleId], [Id]),
    CONSTRAINT [FK_RolePrivilege_Privilege] FOREIGN KEY ([Id]) REFERENCES [Privilege] ([Id]),
    CONSTRAINT [FK_RolePrivilege_Role] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id])
);
2024-05-03 02:20:03.079 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:03.079 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:03.079 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:03.079 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName])
VALUES (N'9713d2ff-94f5-4cbb-8b12-f671b520c1b0', N'4', N'Role', N'User', N'User'),
(N'd10cf745-803b-4326-9640-27923925db03', N'1', N'Role', N'Admin', N'Admin'),
(N'ead41a6d-8daf-4840-9178-fa7c3985a275', N'3', N'Role', N'Operator', N'Operator'),
(N'efe29757-aa26-41a4-9f71-62222970a7cd', N'2', N'Role', N'Supervisor', N'Supervisor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-05-03 02:20:03.134 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName])
VALUES (N'9713d2ff-94f5-4cbb-8b12-f671b520c1b0', N'4', N'Role', N'User', N'User'),
(N'd10cf745-803b-4326-9640-27923925db03', N'1', N'Role', N'Admin', N'Admin'),
(N'ead41a6d-8daf-4840-9178-fa7c3985a275', N'3', N'Role', N'Operator', N'Operator'),
(N'efe29757-aa26-41a4-9f71-62222970a7cd', N'2', N'Role', N'Supervisor', N'Supervisor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-05-03 02:20:03.134 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:03.134 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:03.134 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:03.134 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BackendURL', N'Code', N'IsGeneral', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] ON;
INSERT INTO [Privilege] ([Id], [BackendURL], [Code], [IsGeneral], [Name])
VALUES (1, '', 'addUser', CAST(0 AS bit), 'Add user'),
(2, '', 'addMachine', CAST(0 AS bit), 'Add machine'),
(3, '', 'Machine status', CAST(0 AS bit), 'Machine status'),
(4, '', 'bussinesAnalitics', CAST(0 AS bit), 'Bussines analytics'),
(5, '', 'editDeleteUser', CAST(0 AS bit), 'EditDelete user');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BackendURL', N'Code', N'IsGeneral', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] OFF;
2024-05-03 02:20:03.148 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BackendURL', N'Code', N'IsGeneral', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] ON;
INSERT INTO [Privilege] ([Id], [BackendURL], [Code], [IsGeneral], [Name])
VALUES (1, '', 'addUser', CAST(0 AS bit), 'Add user'),
(2, '', 'addMachine', CAST(0 AS bit), 'Add machine'),
(3, '', 'Machine status', CAST(0 AS bit), 'Machine status'),
(4, '', 'bussinesAnalitics', CAST(0 AS bit), 'Bussines analytics'),
(5, '', 'editDeleteUser', CAST(0 AS bit), 'EditDelete user');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'BackendURL', N'Code', N'IsGeneral', N'Name') AND [object_id] = OBJECT_ID(N'[Privilege]'))
    SET IDENTITY_INSERT [Privilege] OFF;
2024-05-03 02:20:05.158 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:05.158 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.158 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.158 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-05-03 02:20:05.164 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-05-03 02:20:05.164 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:05.164 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.164 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.164 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-05-03 02:20:05.193 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-05-03 02:20:05.193 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:05.193 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.193 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.193 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-05-03 02:20:05.194 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-05-03 02:20:05.194 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:05.194 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.194 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.194 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-05-03 02:20:05.195 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-05-03 02:20:05.195 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:05.195 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.195 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.195 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-05-03 02:20:05.196 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-05-03 02:20:05.196 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:05.196 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.196 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.196 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-05-03 02:20:05.197 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-05-03 02:20:05.197 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:05.197 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.197 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:05.197 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-05-03 02:20:06.665 +03:00 [INF] Executed DbCommand (1,468ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-05-03 02:20:06.665 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:06.665 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:06.665 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:06.665 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RolePrivilege_Id] ON [RolePrivilege] ([Id]);
2024-05-03 02:20:06.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RolePrivilege_Id] ON [RolePrivilege] ([Id]);
2024-05-03 02:20:06.666 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 02:20:06.666 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:06.666 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 02:20:06.666 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240502231936_Intialization', N'8.0.2');
2024-05-03 02:20:06.668 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240502231936_Intialization', N'8.0.2');
2024-05-03 02:20:06.668 +03:00 [DBG] Committing transaction.
2024-05-03 02:20:06.672 +03:00 [DBG] Committed transaction.
2024-05-03 02:20:06.673 +03:00 [DBG] Disposing transaction.
2024-05-03 02:20:06.673 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:20:06.673 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 02:20:06.674 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 02:20:06.674 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 02:20:06.675 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-03 14:47:14.779 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-03 14:47:15.499 +03:00 [DBG] Hosting starting
2024-05-03 14:47:15.585 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-03 14:47:15.610 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-03 14:47:16.700 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-03 14:47:16.774 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-03 14:47:16.826 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-03 14:47:16.849 +03:00 [DBG] Considering key {581d007c-de32-4ef7-bbf6-929ec5119e74} with expiration date 2024-04-06 19:06:59Z as default key.
2024-05-03 14:47:16.851 +03:00 [DBG] Key {581d007c-de32-4ef7-bbf6-929ec5119e74} is no longer under consideration as default key because it is expired, revoked, or cannot be deciphered.
2024-05-03 14:47:16.855 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 14:47:16.858 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-03 14:47:16.860 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 14:47:16.877 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-03 14:47:16.895 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-03 14:47:16.899 +03:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2024-05-03 14:47:16.904 +03:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2024-05-03 14:47:16.908 +03:00 [INF] Creating key {59c2a83d-4957-4799-80ce-9765b1403343} with creation date 2024-05-03 11:47:16Z, activation date 2024-05-03 11:47:15Z, and expiration date 2024-08-01 11:47:15Z.
2024-05-03 14:47:16.915 +03:00 [DBG] Descriptor deserializer type for key {59c2a83d-4957-4799-80ce-9765b1403343} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2024-05-03 14:47:16.917 +03:00 [DBG] No key escrow sink found. Not writing key {59c2a83d-4957-4799-80ce-9765b1403343} to escrow.
2024-05-03 14:47:16.922 +03:00 [DBG] Encrypting to Windows DPAPI for current user account (DESKTOP-NT39CCP\Mahmoud).
2024-05-03 14:47:16.926 +03:00 [INF] Writing data to file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-03 14:47:16.928 +03:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2024-05-03 14:47:16.930 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-03 14:47:16.931 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-03 14:47:16.945 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-03 14:47:16.946 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-03 14:47:16.947 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-03 14:47:16.948 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-03 14:47:16.949 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-03 14:47:16.951 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 14:47:16.952 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-03 14:47:16.954 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 14:47:16.967 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-03 14:47:16.969 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-03 14:47:16.995 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-03 14:47:17.014 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-03 14:47:17.257 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-03 14:47:17.333 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-03 14:47:17.336 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-03 14:47:17.337 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-03 14:47:17.338 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-03 14:47:17.338 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-03 14:47:17.339 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-03 14:47:17.387 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-03 14:47:17.390 +03:00 [INF] Hosting environment: Development
2024-05-03 14:47:17.391 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-03 14:47:17.392 +03:00 [DBG] Hosting started
2024-05-03 14:47:17.533 +03:00 [DBG] Connection id "0HN3BCR48RBTQ" accepted.
2024-05-03 14:47:17.535 +03:00 [DBG] Connection id "0HN3BCR48RBTQ" started.
2024-05-03 14:47:17.541 +03:00 [DBG] Connection id "0HN3BCR48RBTR" accepted.
2024-05-03 14:47:17.545 +03:00 [DBG] Connection id "0HN3BCR48RBTR" started.
2024-05-03 14:47:17.938 +03:00 [DBG] Connection id "0HN3BCR48RBTS" accepted.
2024-05-03 14:47:17.953 +03:00 [DBG] Connection id "0HN3BCR48RBTT" accepted.
2024-05-03 14:47:17.953 +03:00 [DBG] Connection id "0HN3BCR48RBTS" started.
2024-05-03 14:47:17.955 +03:00 [DBG] Connection id "0HN3BCR48RBTT" started.
2024-05-03 14:47:17.995 +03:00 [DBG] Connection id "0HN3BCR48RBTT" received FIN.
2024-05-03 14:47:17.996 +03:00 [DBG] Connection id "0HN3BCR48RBTS" received FIN.
2024-05-03 14:47:18.017 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 14:47:18.018 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 14:47:18.090 +03:00 [DBG] Connection id "0HN3BCR48RBTS" stopped.
2024-05-03 14:47:18.090 +03:00 [DBG] Connection id "0HN3BCR48RBTT" stopped.
2024-05-03 14:47:18.092 +03:00 [DBG] Connection id "0HN3BCR48RBTT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 14:47:18.092 +03:00 [DBG] Connection id "0HN3BCR48RBTS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 14:47:22.027 +03:00 [DBG] Connection id "0HN3BCR48RBTU" accepted.
2024-05-03 14:47:22.030 +03:00 [DBG] Connection id "0HN3BCR48RBTU" started.
2024-05-03 14:47:22.030 +03:00 [DBG] Connection id "0HN3BCR48RBTV" accepted.
2024-05-03 14:47:22.033 +03:00 [DBG] Connection id "0HN3BCR48RBTV" started.
2024-05-03 14:47:22.034 +03:00 [DBG] Connection id "0HN3BCR48RBTU" received FIN.
2024-05-03 14:47:22.034 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 14:47:22.036 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 14:47:22.035 +03:00 [DBG] Connection id "0HN3BCR48RBTV" received FIN.
2024-05-03 14:47:22.036 +03:00 [DBG] Connection id "0HN3BCR48RBU0" accepted.
2024-05-03 14:47:22.039 +03:00 [DBG] Connection id "0HN3BCR48RBTU" stopped.
2024-05-03 14:47:22.042 +03:00 [DBG] Connection id "0HN3BCR48RBTV" stopped.
2024-05-03 14:47:22.044 +03:00 [DBG] Connection id "0HN3BCR48RBU0" started.
2024-05-03 14:47:22.046 +03:00 [DBG] Connection id "0HN3BCR48RBTU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 14:47:22.047 +03:00 [DBG] Connection id "0HN3BCR48RBTV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 14:47:22.057 +03:00 [DBG] Connection 0HN3BCR48RBU0 established using the following protocol: "Tls12"
2024-05-03 14:47:22.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-03 14:47:22.239 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-03 14:47:22.254 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-03 14:47:22.256 +03:00 [DBG] Request did not match any endpoints
2024-05-03 14:47:22.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 160.8472ms
2024-05-03 14:47:22.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-03 14:47:22.285 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-03 14:47:22.286 +03:00 [DBG] Request did not match any endpoints
2024-05-03 14:47:22.323 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-03 14:47:22.326 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-03 14:47:22.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-03 14:47:22.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-03 14:47:22.357 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-03 14:47:22.359 +03:00 [DBG] Request did not match any endpoints
2024-05-03 14:47:22.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-03 14:47:22.355 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-03 14:47:22.362 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-03 14:47:22.363 +03:00 [DBG] Request did not match any endpoints
2024-05-03 14:47:22.362 +03:00 [DBG] Request did not match any endpoints
2024-05-03 14:47:22.367 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-03 14:47:22.368 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-03 14:47:22.369 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 91.1094ms
2024-05-03 14:47:22.381 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-03 14:47:22.381 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-03 14:47:22.401 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 19.9692ms
2024-05-03 14:47:22.415 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-03 14:47:22.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 66.2391ms
2024-05-03 14:47:22.438 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-03 14:47:22.441 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 85.2997ms
2024-05-03 14:47:22.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.6163ms
2024-05-03 14:47:22.486 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-03 14:47:22.489 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 137.8782ms
2024-05-03 14:47:23.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-03 14:47:23.910 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-03 14:47:23.911 +03:00 [DBG] Request did not match any endpoints
2024-05-03 14:47:24.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/favicon-32x32.png - null null
2024-05-03 14:47:24.018 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-05-03 14:47:24.027 +03:00 [DBG] Request did not match any endpoints
2024-05-03 14:47:24.028 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-03 14:47:24.033 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/favicon-32x32.png - 200 628 image/png 29.6604ms
2024-05-03 14:47:24.042 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.8942ms
2024-05-03 14:47:27.587 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2024-05-03 14:47:27.587 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2024-05-03 14:47:27.588 +03:00 [DBG] Connection id "0HN3BCR48RBTR" stopped.
2024-05-03 14:47:27.589 +03:00 [DBG] Connection id "0HN3BCR48RBTQ" stopped.
2024-05-03 14:47:27.590 +03:00 [DBG] Connection id "0HN3BCR48RBTR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 14:47:27.591 +03:00 [DBG] Connection id "0HN3BCR48RBTQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 14:47:33.527 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/login - application/json 48
2024-05-03 14:47:33.534 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-03 14:47:33.538 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-03 14:47:33.541 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 14:47:33.542 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 14:47:33.598 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-03 14:47:33.602 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 14:47:33.631 +03:00 [INF] Route matched with {action = "login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 14:47:33.635 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-03 14:47:33.636 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 14:47:33.637 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 14:47:33.640 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 14:47:33.641 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 14:47:33.645 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:47:33.856 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 14:47:33.900 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:47:33.922 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 14:47:33.926 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-05-03 14:47:33.931 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 14:47:33.939 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:00000013": started reading request body.
2024-05-03 14:47:33.941 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:00000013": done reading request body.
2024-05-03 14:47:33.947 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-05-03 14:47:33.949 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 14:47:33.950 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 14:47:33.951 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 14:47:33.960 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 14:47:34.116 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 14:47:34.120 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 14:47:34.121 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 14:47:34.122 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 14:47:34.123 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 14:47:34.125 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-03 14:47:34.141 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.login (IGT.Api) in 496.2254ms
2024-05-03 14:47:34.143 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 14:47:34.146 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 600.3904 ms
2024-05-03 14:47:34.153 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/login - 200 null application/json; charset=utf-8 625.7123ms
2024-05-03 14:47:50.085 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/addUser - application/json 140
2024-05-03 14:47:50.090 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/addUser'
2024-05-03 14:47:50.091 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)' with route pattern 'api/Authentication/addUser' is valid for the request path '/api/Authentication/addUser'
2024-05-03 14:47:50.093 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:47:50.094 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 14:47:50.096 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-03 14:47:50.101 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-03 14:47:50.105 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-03 14:47:50.111 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-03 14:47:50.112 +03:00 [INF] HTTP POST /api/Authentication/addUser responded 401 in 17.5774 ms
2024-05-03 14:47:50.114 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/addUser - 401 0 null 28.7904ms
2024-05-03 14:47:50.122 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:00000015": started reading request body.
2024-05-03 14:47:50.124 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:00000015": done reading request body.
2024-05-03 14:48:02.473 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/addUser - application/json 140
2024-05-03 14:48:02.479 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/addUser'
2024-05-03 14:48:02.481 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)' with route pattern 'api/Authentication/addUser' is valid for the request path '/api/Authentication/addUser'
2024-05-03 14:48:02.484 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:02.486 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 14:48:02.528 +03:00 [DBG] Successfully validated the token.
2024-05-03 14:48:02.530 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 14:48:02.532 +03:00 [DBG] Authorization was successful.
2024-05-03 14:48:02.534 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:02.540 +03:00 [INF] Route matched with {action = "addUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 14:48:02.543 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 14:48:02.545 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 14:48:02.547 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 14:48:02.550 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 14:48:02.551 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 14:48:02.573 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:48:02.577 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:48:02.580 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 14:48:02.582 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' using the name '' in request data ...
2024-05-03 14:48:02.585 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 14:48:02.587 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:00000017": started reading request body.
2024-05-03 14:48:02.589 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:00000017": done reading request body.
2024-05-03 14:48:02.593 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.RegisterModel'
2024-05-03 14:48:02.594 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:02.596 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:02.598 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 14:48:02.602 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:02.700 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 14:48:02.703 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 14:48:02.704 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 14:48:02.704 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 14:48:02.705 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 14:48:02.706 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 14:48:02.709 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api) in 156.2173ms
2024-05-03 14:48:02.711 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:02.712 +03:00 [INF] HTTP POST /api/Authentication/addUser responded 200 in 225.1166 ms
2024-05-03 14:48:02.713 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/addUser - 200 null application/json; charset=utf-8 240.5831ms
2024-05-03 14:48:17.713 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/addUser - application/json 151
2024-05-03 14:48:17.716 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/addUser'
2024-05-03 14:48:17.717 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)' with route pattern 'api/Authentication/addUser' is valid for the request path '/api/Authentication/addUser'
2024-05-03 14:48:17.719 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:17.720 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 14:48:17.722 +03:00 [DBG] Successfully validated the token.
2024-05-03 14:48:17.725 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 14:48:17.727 +03:00 [DBG] Authorization was successful.
2024-05-03 14:48:17.728 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:17.729 +03:00 [INF] Route matched with {action = "addUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 14:48:17.731 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 14:48:17.732 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 14:48:17.733 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 14:48:17.735 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 14:48:17.736 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 14:48:17.738 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:48:17.750 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:48:17.752 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 14:48:17.754 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' using the name '' in request data ...
2024-05-03 14:48:17.755 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 14:48:17.757 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:00000019": started reading request body.
2024-05-03 14:48:17.758 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:00000019": done reading request body.
2024-05-03 14:48:17.760 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.RegisterModel'
2024-05-03 14:48:17.761 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:17.762 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:17.763 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 14:48:17.764 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:18.350 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 14:48:18.352 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 14:48:18.354 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 14:48:18.507 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 14:48:18.654 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 14:48:18.752 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-05-03 14:48:18.931 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 14:48:18.971 +03:00 [DBG] Creating DbConnection.
2024-05-03 14:48:18.997 +03:00 [DBG] Created DbConnection. (25ms).
2024-05-03 14:48:19.001 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.276 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:19.288 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-03 14:48:19.297 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-05-03 14:48:19.305 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 14:48:19.363 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 14:48:19.378 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.385 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 15ms reading results.
2024-05-03 14:48:19.390 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.397 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (7ms).
2024-05-03 14:48:19.401 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-05-03 14:48:19.407 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 14:48:19.411 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.413 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.414 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:19.415 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:19.416 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 14:48:19.417 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:19.422 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:19.425 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.426 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 14:48:19.427 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.428 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 14:48:19.433 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-05-03 14:48:19.442 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 14:48:19.446 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.447 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.448 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:19.449 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:19.450 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:19.451 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 14:48:19.457 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 14:48:19.460 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.461 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 14:48:19.463 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.464 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:19.595 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 14:48:19.598 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 14:48:19.598 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 14:48:19.599 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 14:48:19.600 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 14:48:19.601 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 14:48:19.603 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api) in 1864.9521ms
2024-05-03 14:48:19.604 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:19.606 +03:00 [INF] HTTP POST /api/Authentication/addUser responded 200 in 1884.6834 ms
2024-05-03 14:48:19.609 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 14:48:19.612 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:19.615 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-03 14:48:19.617 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/addUser - 200 null application/json; charset=utf-8 1904.9277ms
2024-05-03 14:48:33.431 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/addUser - application/json 150
2024-05-03 14:48:33.433 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/addUser'
2024-05-03 14:48:33.435 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)' with route pattern 'api/Authentication/addUser' is valid for the request path '/api/Authentication/addUser'
2024-05-03 14:48:33.436 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:33.438 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 14:48:33.439 +03:00 [DBG] Successfully validated the token.
2024-05-03 14:48:33.441 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 14:48:33.442 +03:00 [DBG] Authorization was successful.
2024-05-03 14:48:33.443 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:33.445 +03:00 [INF] Route matched with {action = "addUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 14:48:33.448 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 14:48:33.450 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 14:48:33.451 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 14:48:33.453 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 14:48:33.455 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 14:48:33.458 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:48:33.460 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:48:33.461 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 14:48:33.463 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' using the name '' in request data ...
2024-05-03 14:48:33.464 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 14:48:33.466 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:0000001B": started reading request body.
2024-05-03 14:48:33.467 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:0000001B": done reading request body.
2024-05-03 14:48:33.468 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.RegisterModel'
2024-05-03 14:48:33.469 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:33.470 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:33.471 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 14:48:33.472 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:33.520 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 14:48:33.527 +03:00 [DBG] Creating DbConnection.
2024-05-03 14:48:33.528 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-03 14:48:33.528 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.529 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.531 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:33.532 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:33.533 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 14:48:33.534 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 14:48:33.538 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 14:48:33.541 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.542 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 14:48:33.543 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.544 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:33.546 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.547 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.548 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:33.549 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:33.550 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:33.551 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:33.554 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:33.557 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.558 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 14:48:33.560 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.561 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:33.562 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.563 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.565 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:33.566 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:33.567 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 14:48:33.568 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 14:48:33.571 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 14:48:33.602 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 14:48:33.617 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.619 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 45ms reading results.
2024-05-03 14:48:33.621 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.622 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:33.629 +03:00 [DBG] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2024-05-03 14:48:33.732 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 14:48:33.735 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 14:48:33.736 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 14:48:33.737 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 14:48:33.738 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 14:48:33.739 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 14:48:33.741 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api) in 283.8779ms
2024-05-03 14:48:33.742 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:33.743 +03:00 [INF] HTTP POST /api/Authentication/addUser responded 200 in 304.7114 ms
2024-05-03 14:48:33.745 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 14:48:33.746 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:33.747 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-03 14:48:33.748 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/addUser - 200 null application/json; charset=utf-8 318.4084ms
2024-05-03 14:48:43.477 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/addUser - application/json 154
2024-05-03 14:48:43.480 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/addUser'
2024-05-03 14:48:43.482 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)' with route pattern 'api/Authentication/addUser' is valid for the request path '/api/Authentication/addUser'
2024-05-03 14:48:43.483 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:43.485 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 14:48:43.486 +03:00 [DBG] Successfully validated the token.
2024-05-03 14:48:43.487 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 14:48:43.489 +03:00 [DBG] Authorization was successful.
2024-05-03 14:48:43.490 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:43.492 +03:00 [INF] Route matched with {action = "addUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 14:48:43.494 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 14:48:43.495 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 14:48:43.497 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 14:48:43.499 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 14:48:43.500 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 14:48:43.501 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:48:43.503 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 14:48:43.504 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 14:48:43.505 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' using the name '' in request data ...
2024-05-03 14:48:43.507 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 14:48:43.508 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:0000001D": started reading request body.
2024-05-03 14:48:43.510 +03:00 [DBG] Connection id "0HN3BCR48RBU0", Request id "0HN3BCR48RBU0:0000001D": done reading request body.
2024-05-03 14:48:43.511 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.RegisterModel'
2024-05-03 14:48:43.511 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:43.513 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:43.514 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 14:48:43.515 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 14:48:43.524 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 14:48:43.528 +03:00 [DBG] Creating DbConnection.
2024-05-03 14:48:43.529 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 14:48:43.530 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.531 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.532 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:43.532 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:43.533 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:43.534 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 14:48:43.538 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 14:48:43.541 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.542 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-05-03 14:48:43.543 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.544 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 14:48:43.546 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.547 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.548 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:43.549 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:43.550 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:43.551 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:43.554 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:43.557 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.558 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-05-03 14:48:43.559 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.560 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:43.562 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.563 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.563 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:43.564 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:43.566 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 14:48:43.567 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 14:48:43.570 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 14:48:43.572 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 14:48:43.573 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.574 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 14:48:43.576 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.577 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 14:48:43.677 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.680 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.682 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:43.683 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:43.684 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:43.685 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:43.688 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:43.691 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.692 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 14:48:43.695 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.696 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:43.754 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 14:48:43.759 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-05-03 14:48:43.763 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-05-03 14:48:43.786 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-05-03 14:48:43.854 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.855 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.858 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:43.860 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:43.861 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 14:48:43.863 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-05-03 14:48:43.873 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-05-03 14:48:43.879 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.881 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-05-03 14:48:43.885 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.887 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:43.897 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 14:48:43.901 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-05-03 14:48:43.906 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-05-03 14:48:43.913 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 14:48:43.916 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.917 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.917 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:43.918 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:43.919 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:43.920 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 14:48:43.924 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 14:48:43.927 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.928 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 14:48:43.929 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.930 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:43.945 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-05-03 14:48:43.967 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 14:48:43.972 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.973 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.974 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:43.975 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:43.976 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 14:48:43.977 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-03 14:48:43.981 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-03 14:48:43.983 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.985 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 14:48:43.986 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.987 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:43.991 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.992 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:43.993 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:43.994 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:43.995 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:43.996 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 14:48:43.998 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 14:48:44.001 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.002 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 0ms reading results.
2024-05-03 14:48:44.003 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.004 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 14:48:44.015 +03:00 [DBG] Context 'AkramDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 14:48:44.017 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.018 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.019 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:44.020 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 14:48:44.021 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:44.022 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:44.028 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 14:48:44.032 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.033 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 14:48:44.035 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.036 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:44.041 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 14:48:44.042 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-05-03 14:48:44.043 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-05-03 14:48:44.044 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-05-03 14:48:44.058 +03:00 [DBG] Executing 2 update commands as a batch.
2024-05-03 14:48:44.060 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.061 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.063 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-03 14:48:44.076 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-03 14:48:44.079 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 14:48:44.081 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 14:48:44.083 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-03 14:48:44.085 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-03 14:48:44.097 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-03 14:48:44.104 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.105 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 5ms reading results.
2024-05-03 14:48:44.109 +03:00 [DBG] Committing transaction.
2024-05-03 14:48:44.113 +03:00 [DBG] Committed transaction.
2024-05-03 14:48:44.116 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.117 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 14:48:44.120 +03:00 [DBG] Disposing transaction.
2024-05-03 14:48:44.122 +03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 14:48:44.123 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 14:48:44.125 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-05-03 14:48:44.127 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 14:48:44.130 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 14:48:44.131 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 14:48:44.132 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 14:48:44.133 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 14:48:44.134 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 14:48:44.135 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api) in 634.1364ms
2024-05-03 14:48:44.136 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.addUser (IGT.Api)'
2024-05-03 14:48:44.137 +03:00 [INF] HTTP POST /api/Authentication/addUser responded 200 in 651.7017 ms
2024-05-03 14:48:44.139 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 14:48:44.140 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 14:48:44.141 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 14:48:44.143 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/addUser - 200 null application/json; charset=utf-8 666.1388ms
2024-05-03 15:08:01.990 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 15:08:02.409 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 15:08:02.410 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 15:08:02.410 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 15:08:02.524 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 15:08:02.626 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 15:08:02.643 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 15:08:07.442 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 15:08:07.827 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 15:08:07.828 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 15:08:07.828 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 15:08:07.946 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 15:08:08.059 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 15:08:08.089 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 15:08:08.089 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 15:08:08.089 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 15:08:08.104 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 15:08:08.828 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 15:09:33.537 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 15:09:33.906 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 15:09:33.907 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 15:09:33.907 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 15:09:34.023 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 15:09:34.128 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 15:09:34.140 +03:00 [DBG] Creating DbConnection.
2024-05-03 15:09:34.175 +03:00 [DBG] Created DbConnection. (32ms).
2024-05-03 15:09:34.176 +03:00 [DBG] Migrating using database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.181 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.308 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.312 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:34.316 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-05-03 15:09:34.317 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2024-05-03 15:09:34.322 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-03 15:09:34.339 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-03 15:09:34.340 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.346 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (3ms).
2024-05-03 15:09:34.348 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-03 15:09:34.348 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-03 15:09:34.348 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-03 15:09:34.348 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.348 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.349 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-03 15:09:34.358 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-03 15:09:34.358 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.358 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 15:09:34.359 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.359 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.359 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:34.359 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.359 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-03 15:09:34.360 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-03 15:09:34.361 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.361 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 15:09:34.361 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-03 15:09:34.361 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-03 15:09:34.361 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-03 15:09:34.361 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.361 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.361 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-03 15:09:34.362 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-03 15:09:34.362 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.362 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 15:09:34.369 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.369 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.369 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 15:09:34.369 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 15:09:34.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-03 15:09:34.370 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-03 15:09:34.372 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-03 15:09:34.374 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.375 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 15:09:34.375 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.375 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 15:09:34.492 +03:00 [INF] Applying migration '20240503120808_UpdatePrivilegeTable'.
2024-05-03 15:09:34.539 +03:00 [DBG] Executing 4 update commands as a batch.
2024-05-03 15:09:34.548 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.549 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:34.550 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-03 15:09:34.554 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-03 15:09:34.555 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:34.555 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.556 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.556 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'9713d2ff-94f5-4cbb-8b12-f671b520c1b0';
SELECT @@ROWCOUNT;
2024-05-03 15:09:34.569 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'9713d2ff-94f5-4cbb-8b12-f671b520c1b0';
SELECT @@ROWCOUNT;
2024-05-03 15:09:34.569 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:34.569 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.569 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.570 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'd10cf745-803b-4326-9640-27923925db03';
SELECT @@ROWCOUNT;
2024-05-03 15:09:34.573 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'd10cf745-803b-4326-9640-27923925db03';
SELECT @@ROWCOUNT;
2024-05-03 15:09:34.573 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:34.573 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.573 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.573 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'ead41a6d-8daf-4840-9178-fa7c3985a275';
SELECT @@ROWCOUNT;
2024-05-03 15:09:34.576 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'ead41a6d-8daf-4840-9178-fa7c3985a275';
SELECT @@ROWCOUNT;
2024-05-03 15:09:34.577 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:34.577 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.577 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.577 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'efe29757-aa26-41a4-9f71-62222970a7cd';
SELECT @@ROWCOUNT;
2024-05-03 15:09:34.580 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'efe29757-aa26-41a4-9f71-62222970a7cd';
SELECT @@ROWCOUNT;
2024-05-03 15:09:34.581 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:34.581 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.581 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.581 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Privilege] ADD [IsAdmin] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-05-03 15:09:34.602 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Privilege] ADD [IsAdmin] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-05-03 15:09:34.602 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:34.602 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.602 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.602 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Privilege] ADD [IsSuperAdmin] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-05-03 15:09:34.603 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Privilege] ADD [IsSuperAdmin] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-05-03 15:09:34.603 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:34.603 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:34.603 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:36.137 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName])
VALUES (N'0af21871-3680-4ed7-90f1-cf63ce139ac8', N'3', N'Role', N'Operator', N'Operator'),
(N'815acdeb-8e7e-49c7-bf80-3129eccc1fd6', N'4', N'Role', N'User', N'User'),
(N'84c60a11-f151-45ab-adcb-56beb0e020bc', N'1', N'Role', N'Admin', N'Admin'),
(N'e165f2f8-ab96-440b-bf80-6a116e06dbd7', N'2', N'Role', N'Supervisor', N'Supervisor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-05-03 15:09:36.154 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Discriminator], [Name], [NormalizedName])
VALUES (N'0af21871-3680-4ed7-90f1-cf63ce139ac8', N'3', N'Role', N'Operator', N'Operator'),
(N'815acdeb-8e7e-49c7-bf80-3129eccc1fd6', N'4', N'Role', N'User', N'User'),
(N'84c60a11-f151-45ab-adcb-56beb0e020bc', N'1', N'Role', N'Admin', N'Admin'),
(N'e165f2f8-ab96-440b-bf80-6a116e06dbd7', N'2', N'Role', N'Supervisor', N'Supervisor');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Discriminator', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-05-03 15:09:36.155 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:36.155 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:36.155 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:36.155 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [BackendURL] = 'AuthenticationController/addUser', [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(0 AS bit)
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2024-05-03 15:09:36.158 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [BackendURL] = 'AuthenticationController/addUser', [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(0 AS bit)
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2024-05-03 15:09:36.158 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:36.158 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:36.158 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:36.158 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(1 AS bit)
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2024-05-03 15:09:36.160 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(1 AS bit)
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2024-05-03 15:09:36.160 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:36.160 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:36.160 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:36.160 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(0 AS bit)
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2024-05-03 15:09:36.161 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(0 AS bit)
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2024-05-03 15:09:36.161 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:36.161 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:38.233 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2071ms).
2024-05-03 15:09:38.233 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(0 AS bit)
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2024-05-03 15:09:38.234 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(0 AS bit)
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2024-05-03 15:09:38.234 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:38.234 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:38.234 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:38.234 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(0 AS bit)
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2024-05-03 15:09:38.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [Privilege] SET [IsAdmin] = CAST(0 AS bit), [IsSuperAdmin] = CAST(0 AS bit)
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2024-05-03 15:09:38.235 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-03 15:09:38.235 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:38.235 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-03 15:09:38.235 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240503120808_UpdatePrivilegeTable', N'8.0.2');
2024-05-03 15:09:38.237 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240503120808_UpdatePrivilegeTable', N'8.0.2');
2024-05-03 15:09:38.239 +03:00 [DBG] Committing transaction.
2024-05-03 15:09:38.244 +03:00 [DBG] Committed transaction.
2024-05-03 15:09:38.245 +03:00 [DBG] Disposing transaction.
2024-05-03 15:09:38.245 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:38.245 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 15:09:38.247 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 15:09:38.250 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:09:38.251 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 15:56:31.884 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-03 15:56:32.388 +03:00 [DBG] Hosting starting
2024-05-03 15:56:32.456 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-03 15:56:32.464 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-03 15:56:32.505 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-03 15:56:32.520 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-03 15:56:32.541 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-03 15:56:32.550 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-03 15:56:32.552 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-03 15:56:32.558 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-03 15:56:32.562 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 15:56:32.565 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-03 15:56:32.567 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 15:56:32.571 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-03 15:56:32.573 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-03 15:56:32.575 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-03 15:56:32.577 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-03 15:56:32.769 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-03 15:56:32.829 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-03 15:56:32.830 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-03 15:56:32.831 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-03 15:56:32.831 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-03 15:56:32.832 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-03 15:56:32.833 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-03 15:56:32.878 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-03 15:56:32.879 +03:00 [INF] Hosting environment: Development
2024-05-03 15:56:32.880 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-03 15:56:32.881 +03:00 [DBG] Hosting started
2024-05-03 15:56:33.054 +03:00 [DBG] Connection id "0HN3BE1QMVJV0" accepted.
2024-05-03 15:56:33.056 +03:00 [DBG] Connection id "0HN3BE1QMVJV0" started.
2024-05-03 15:56:33.064 +03:00 [DBG] Connection id "0HN3BE1QMVJV0" received FIN.
2024-05-03 15:56:33.081 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 15:56:33.105 +03:00 [DBG] Connection id "0HN3BE1QMVJV0" stopped.
2024-05-03 15:56:33.108 +03:00 [DBG] Connection id "0HN3BE1QMVJV0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 15:56:33.330 +03:00 [DBG] Connection id "0HN3BE1QMVJV1" accepted.
2024-05-03 15:56:33.335 +03:00 [DBG] Connection id "0HN3BE1QMVJV1" started.
2024-05-03 15:56:33.379 +03:00 [DBG] Connection id "0HN3BE1QMVJV1" received FIN.
2024-05-03 15:56:33.380 +03:00 [DBG] Connection id "0HN3BE1QMVJV2" accepted.
2024-05-03 15:56:33.388 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 15:56:33.390 +03:00 [DBG] Connection id "0HN3BE1QMVJV2" started.
2024-05-03 15:56:33.395 +03:00 [DBG] Connection id "0HN3BE1QMVJV1" stopped.
2024-05-03 15:56:33.397 +03:00 [DBG] Connection id "0HN3BE1QMVJV1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 15:56:33.408 +03:00 [DBG] Connection 0HN3BE1QMVJV2 established using the following protocol: "Tls12"
2024-05-03 15:56:33.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-03 15:56:33.599 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-03 15:56:33.620 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-03 15:56:33.621 +03:00 [DBG] Request did not match any endpoints
2024-05-03 15:56:33.643 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 168.2516ms
2024-05-03 15:56:33.650 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-03 15:56:33.658 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-03 15:56:33.659 +03:00 [DBG] Request did not match any endpoints
2024-05-03 15:56:33.715 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-03 15:56:33.718 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-03 15:56:33.759 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-03 15:56:33.759 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-03 15:56:33.759 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-03 15:56:33.759 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-03 15:56:33.792 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-03 15:56:33.793 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-03 15:56:33.797 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-03 15:56:33.800 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-03 15:56:33.803 +03:00 [DBG] Request did not match any endpoints
2024-05-03 15:56:33.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 155.8702ms
2024-05-03 15:56:33.805 +03:00 [DBG] Request did not match any endpoints
2024-05-03 15:56:33.806 +03:00 [DBG] Request did not match any endpoints
2024-05-03 15:56:33.814 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-03 15:56:33.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-03 15:56:33.856 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 27.5102ms
2024-05-03 15:56:33.860 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-03 15:56:33.889 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-03 15:56:33.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 148.8324ms
2024-05-03 15:56:33.907 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 148.4979ms
2024-05-03 15:56:33.937 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 122.8264ms
2024-05-03 15:56:33.945 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-03 15:56:33.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 188.0288ms
2024-05-03 15:56:35.582 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-03 15:56:35.586 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-03 15:56:35.588 +03:00 [DBG] Request did not match any endpoints
2024-05-03 15:56:35.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 209.6408ms
2024-05-03 15:56:44.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 15:56:44.122 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 15:56:44.126 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 15:56:44.129 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 15:56:44.130 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 15:56:44.189 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-03 15:56:44.194 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-03 15:56:44.197 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-03 15:56:44.202 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-03 15:56:44.205 +03:00 [INF] HTTP GET /getAllUsers responded 401 in 71.6306 ms
2024-05-03 15:56:44.208 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 401 0 null 98.8966ms
2024-05-03 15:57:00.378 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/login - application/json 54
2024-05-03 15:57:00.383 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-03 15:57:00.384 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-03 15:57:00.388 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 15:57:00.390 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 15:57:00.394 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-03 15:57:00.397 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 15:57:00.429 +03:00 [INF] Route matched with {action = "login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 15:57:00.433 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-03 15:57:00.435 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 15:57:00.436 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 15:57:00.438 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 15:57:00.439 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 15:57:00.445 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 15:57:00.677 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 15:57:00.725 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 15:57:00.746 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 15:57:00.749 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-05-03 15:57:00.753 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 15:57:00.762 +03:00 [DBG] Connection id "0HN3BE1QMVJV2", Request id "0HN3BE1QMVJV2:00000013": started reading request body.
2024-05-03 15:57:00.764 +03:00 [DBG] Connection id "0HN3BE1QMVJV2", Request id "0HN3BE1QMVJV2:00000013": done reading request body.
2024-05-03 15:57:00.769 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-05-03 15:57:00.771 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 15:57:00.772 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 15:57:00.773 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 15:57:00.783 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 15:57:01.447 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 15:57:01.449 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 15:57:01.450 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 15:57:01.640 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 15:57:01.807 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 15:57:01.917 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-05-03 15:57:02.114 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 15:57:02.156 +03:00 [DBG] Creating DbConnection.
2024-05-03 15:57:02.182 +03:00 [DBG] Created DbConnection. (25ms).
2024-05-03 15:57:02.186 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.489 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.493 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 15:57:02.500 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-03 15:57:02.509 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-05-03 15:57:02.518 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 15:57:02.582 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 15:57:02.618 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 15:57:02.662 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.669 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 80ms reading results.
2024-05-03 15:57:02.673 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.679 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-05-03 15:57:02.785 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-05-03 15:57:02.814 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 15:57:02.818 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.823 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.824 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 15:57:02.826 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 15:57:02.828 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 15:57:02.829 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-03 15:57:02.834 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-03 15:57:02.837 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.838 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 15:57:02.841 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.842 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (0ms).
2024-05-03 15:57:02.849 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-05-03 15:57:02.874 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 15:57:02.879 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.880 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.882 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 15:57:02.884 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-03 15:57:02.885 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 15:57:02.886 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 15:57:02.893 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 15:57:02.896 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.897 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 15:57:02.900 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.902 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 15:57:02.922 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.925 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.926 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 15:57:02.927 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 15:57:02.928 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 15:57:02.929 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 15:57:02.934 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 15:57:02.937 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.939 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 15:57:02.941 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:02.942 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 15:57:03.067 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 15:57:03.070 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 15:57:03.071 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 15:57:03.072 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 15:57:03.074 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 15:57:03.075 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-03 15:57:03.097 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.login (IGT.Api) in 2652.16ms
2024-05-03 15:57:03.099 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 15:57:03.101 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 2709.1760 ms
2024-05-03 15:57:03.105 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 15:57:03.109 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 15:57:03.112 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-03 15:57:03.114 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/login - 200 null application/json; charset=utf-8 2736.1042ms
2024-05-03 15:57:18.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 15:57:18.523 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 15:57:18.526 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 15:57:18.527 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 15:57:18.528 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 15:57:18.580 +03:00 [DBG] Successfully validated the token.
2024-05-03 15:57:18.584 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 15:57:18.586 +03:00 [DBG] Authorization was successful.
2024-05-03 15:57:18.588 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 15:57:18.591 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 15:57:18.593 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 15:57:18.594 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 15:57:18.596 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 15:57:18.597 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 15:57:18.598 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 15:57:47.036 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 28436.9624ms
2024-05-03 15:57:47.058 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 15:57:47.060 +03:00 [ERR] HTTP GET /getAllUsers responded 500 in 28530.2951 ms
System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
   at System.Collections.Generic.List`1.get_Item(Int32 index)
   at IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute.IsUserAuthorized(AuthorizationFilterContext context) in F:\Work\IGT\IGT.Service\Helpers\CustomAttributes\CustomAuthorizeAttribute .cs:line 42
   at IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute.OnAuthorization(AuthorizationFilterContext context) in F:\Work\IGT\IGT.Service\Helpers\CustomAttributes\CustomAuthorizeAttribute .cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-03 15:57:47.083 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
   at System.Collections.Generic.List`1.get_Item(Int32 index)
   at IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute.IsUserAuthorized(AuthorizationFilterContext context) in F:\Work\IGT\IGT.Service\Helpers\CustomAttributes\CustomAuthorizeAttribute .cs:line 42
   at IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute.OnAuthorization(AuthorizationFilterContext context) in F:\Work\IGT\IGT.Service\Helpers\CustomAttributes\CustomAuthorizeAttribute .cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-03 15:57:47.098 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 500 null text/plain; charset=utf-8 28578.7625ms
2024-05-03 15:57:52.954 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 15:57:52.957 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 15:57:52.958 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 15:57:52.962 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 15:57:52.964 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 15:57:52.968 +03:00 [DBG] Successfully validated the token.
2024-05-03 15:57:52.969 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 15:57:52.973 +03:00 [DBG] Authorization was successful.
2024-05-03 15:57:52.974 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 15:57:52.975 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 15:57:52.979 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 15:57:52.981 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 15:57:52.982 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 15:57:52.984 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 15:57:52.985 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 15:58:57.992 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 16:01:11.602 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 198615.9448ms
2024-05-03 16:01:11.615 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:01:11.621 +03:00 [ERR] HTTP GET /getAllUsers responded 500 in 198655.6247 ms
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
   at System.Collections.Generic.List`1.get_Item(Int32 index)
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`3.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute.IsUserAuthorized(AuthorizationFilterContext context)
   at IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute.OnAuthorization(AuthorizationFilterContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-03 16:01:11.708 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
   at System.Collections.Generic.List`1.get_Item(Int32 index)
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`3.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute.IsUserAuthorized(AuthorizationFilterContext context)
   at IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute.OnAuthorization(AuthorizationFilterContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-03 16:01:11.770 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 16:01:11.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 500 null text/plain; charset=utf-8 198817.0254ms
2024-05-03 16:02:02.945 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/login - application/json 54
2024-05-03 16:02:02.949 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-03 16:02:02.954 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-03 16:02:02.956 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 16:02:02.958 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 16:02:02.961 +03:00 [DBG] Successfully validated the token.
2024-05-03 16:02:02.963 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 16:02:02.969 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 16:02:02.974 +03:00 [INF] Route matched with {action = "login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 16:02:02.978 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-03 16:02:02.981 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 16:02:02.983 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 16:02:02.986 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 16:02:02.988 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 16:02:02.990 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 16:02:02.997 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 16:02:03.000 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 16:02:03.002 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-05-03 16:02:03.004 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 16:02:03.007 +03:00 [DBG] Connection id "0HN3BE1QMVJV2", Request id "0HN3BE1QMVJV2:00000019": started reading request body.
2024-05-03 16:02:03.008 +03:00 [DBG] Connection id "0HN3BE1QMVJV2", Request id "0HN3BE1QMVJV2:00000019": done reading request body.
2024-05-03 16:02:03.010 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-05-03 16:02:03.012 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 16:02:03.014 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 16:02:03.020 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 16:02:03.023 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 16:02:18.738 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 16:02:18.743 +03:00 [DBG] Creating DbConnection.
2024-05-03 16:02:18.744 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-03 16:02:18.745 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:18.748 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:18.749 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:02:18.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 16:02:18.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 16:02:18.753 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 16:02:18.812 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 16:02:18.817 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 16:02:18.819 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:18.820 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-05-03 16:02:18.822 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:18.824 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 16:02:25.781 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:25.805 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:25.806 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:02:25.808 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 16:02:25.810 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 16:02:25.811 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-03 16:02:25.819 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-03 16:02:25.846 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:25.848 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 16:02:25.860 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:25.863 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (3ms).
2024-05-03 16:02:25.867 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:25.874 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:25.880 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:02:25.882 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 16:02:25.917 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (36ms).
2024-05-03 16:02:25.924 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:02:25.951 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:02:25.956 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:25.957 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 16:02:25.959 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:25.962 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-05-03 16:02:26.223 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:26.226 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:26.227 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:02:26.229 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 16:02:26.232 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-03 16:02:26.234 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:02:26.238 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:02:26.265 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:26.266 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 16:02:26.268 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:26.269 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 16:02:51.255 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 16:02:51.289 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 16:02:51.291 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 16:02:51.294 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 16:02:51.296 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 16:02:51.298 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-03 16:02:51.305 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.login (IGT.Api) in 48315.0626ms
2024-05-03 16:02:51.311 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 16:02:51.312 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 48351.3376 ms
2024-05-03 16:02:51.317 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 16:02:51.318 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:02:51.320 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 16:02:51.323 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/login - 200 null application/json; charset=utf-8 48378.0719ms
2024-05-03 16:03:00.320 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/login - application/json 48
2024-05-03 16:03:00.324 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-03 16:03:00.327 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-03 16:03:00.330 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 16:03:00.333 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 16:03:00.336 +03:00 [DBG] Successfully validated the token.
2024-05-03 16:03:00.338 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 16:03:00.340 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 16:03:00.345 +03:00 [INF] Route matched with {action = "login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 16:03:00.348 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-03 16:03:00.349 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 16:03:00.351 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 16:03:00.353 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 16:03:00.355 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 16:03:00.357 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 16:03:00.372 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 16:03:00.375 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 16:03:00.377 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-05-03 16:03:00.380 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 16:03:00.382 +03:00 [DBG] Connection id "0HN3BE1QMVJV2", Request id "0HN3BE1QMVJV2:0000001B": started reading request body.
2024-05-03 16:03:00.383 +03:00 [DBG] Connection id "0HN3BE1QMVJV2", Request id "0HN3BE1QMVJV2:0000001B": done reading request body.
2024-05-03 16:03:00.386 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-05-03 16:03:00.386 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 16:03:00.389 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 16:03:00.390 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 16:03:00.392 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 16:03:03.102 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 16:03:03.108 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 16:03:03.109 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 16:03:03.111 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 16:03:03.112 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 16:03:03.114 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-03 16:03:03.120 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.login (IGT.Api) in 2763.7926ms
2024-05-03 16:03:03.122 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 16:03:03.123 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 2787.7661 ms
2024-05-03 16:03:03.125 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/login - 200 null application/json; charset=utf-8 2804.8706ms
2024-05-03 16:03:18.884 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 16:03:18.899 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 16:03:18.901 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 16:03:18.910 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:03:18.912 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 16:03:18.914 +03:00 [DBG] Successfully validated the token.
2024-05-03 16:03:18.915 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 16:03:18.917 +03:00 [DBG] Authorization was successful.
2024-05-03 16:03:18.918 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:03:18.924 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 16:03:18.928 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 16:03:18.929 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 16:03:18.931 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 16:03:18.933 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 16:03:18.934 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 16:03:20.884 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 16:03:20.890 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 16:03:20.895 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 16:03:20.898 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2024-05-03 16:03:20.907 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
        SELECT a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 16:03:20.913 +03:00 [DBG] Creating DbConnection.
2024-05-03 16:03:20.914 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 16:03:20.917 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:20.918 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:20.920 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:03:20.921 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 16:03:20.923 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 16:03:20.924 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 16:03:20.931 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 16:03:20.934 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 16:03:20.938 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:20.939 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-05-03 16:03:20.942 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:20.943 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 16:03:20.947 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:20.951 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:20.953 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:03:20.954 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 16:03:20.956 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 16:03:20.957 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:03:20.963 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:03:20.966 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:20.968 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 16:03:20.970 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:20.972 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 16:03:21.106 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 16:03:21.113 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 16:03:21.116 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 16:03:21.117 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 16:03:21.119 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 16:03:21.121 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 16:03:21.126 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 2188.764ms
2024-05-03 16:03:21.128 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:03:21.129 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 2216.0156 ms
2024-05-03 16:03:21.134 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 16:03:21.135 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:21.137 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 16:03:21.140 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 2256.5469ms
2024-05-03 16:03:39.749 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 16:03:39.753 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 16:03:39.760 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 16:03:39.762 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:03:39.766 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 16:03:39.769 +03:00 [DBG] Successfully validated the token.
2024-05-03 16:03:39.770 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 16:03:39.771 +03:00 [DBG] Authorization was successful.
2024-05-03 16:03:39.773 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:03:39.775 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 16:03:39.778 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 16:03:39.782 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 16:03:39.784 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 16:03:39.785 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 16:03:39.787 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 16:03:55.551 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 16:03:55.555 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 16:03:58.029 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 16:03:58.035 +03:00 [DBG] Creating DbConnection.
2024-05-03 16:03:58.036 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-03 16:03:58.037 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:58.039 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:58.040 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:03:58.041 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 16:03:58.044 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-03 16:03:58.046 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 16:03:58.049 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 16:03:58.078 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 16:03:58.079 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:58.082 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-05-03 16:03:58.084 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:03:58.086 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-05-03 16:04:07.886 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:04:07.896 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:04:07.898 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:04:07.901 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 16:04:07.902 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 16:04:07.904 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:04:07.942 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:04:07.946 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:04:07.947 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 16:04:07.949 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:04:07.951 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 16:04:13.839 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 16:04:13.842 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 16:04:13.844 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 16:04:13.845 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 16:04:13.847 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 16:04:13.849 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 16:04:13.851 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 34062.3773ms
2024-05-03 16:04:13.852 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:04:13.854 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 34085.6564 ms
2024-05-03 16:04:13.856 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 16:04:13.857 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:04:13.863 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-05-03 16:04:13.865 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 34118.1243ms
2024-05-03 16:04:26.284 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 16:04:26.287 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 16:04:26.288 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 16:04:26.302 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:04:26.307 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 16:04:26.309 +03:00 [DBG] Successfully validated the token.
2024-05-03 16:04:26.311 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 16:04:26.312 +03:00 [DBG] Authorization was successful.
2024-05-03 16:04:26.313 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:04:26.315 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 16:04:26.319 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 16:04:26.322 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 16:04:26.325 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 16:04:26.328 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 16:04:26.330 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 16:04:50.013 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-03 16:04:50.391 +03:00 [DBG] Hosting starting
2024-05-03 16:04:50.433 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-03 16:04:50.442 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-03 16:04:50.454 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-03 16:04:50.456 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-03 16:04:50.464 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-03 16:04:50.471 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-03 16:04:50.473 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-03 16:04:50.480 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-03 16:04:50.484 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 16:04:50.490 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-03 16:04:50.492 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 16:04:50.498 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-03 16:04:50.500 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-03 16:04:50.506 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-03 16:04:50.508 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-03 16:04:50.646 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-03 16:04:50.703 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-03 16:04:50.705 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-03 16:04:50.708 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-03 16:04:50.709 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-03 16:04:50.711 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-03 16:04:50.712 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-03 16:04:50.765 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-03 16:04:50.767 +03:00 [INF] Hosting environment: Development
2024-05-03 16:04:50.768 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-03 16:04:50.769 +03:00 [DBG] Hosting started
2024-05-03 16:04:51.015 +03:00 [DBG] Connection id "0HN3BE6F3TB3U" accepted.
2024-05-03 16:04:51.015 +03:00 [DBG] Connection id "0HN3BE6F3TB3T" accepted.
2024-05-03 16:04:51.017 +03:00 [DBG] Connection id "0HN3BE6F3TB3U" started.
2024-05-03 16:04:51.018 +03:00 [DBG] Connection id "0HN3BE6F3TB3T" started.
2024-05-03 16:04:51.036 +03:00 [DBG] Connection id "0HN3BE6F3TB3T" received FIN.
2024-05-03 16:04:51.036 +03:00 [DBG] Connection id "0HN3BE6F3TB3U" received FIN.
2024-05-03 16:04:51.048 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 16:04:51.071 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 16:04:51.084 +03:00 [DBG] Connection id "0HN3BE6F3TB3T" stopped.
2024-05-03 16:04:51.088 +03:00 [DBG] Connection id "0HN3BE6F3TB3U" stopped.
2024-05-03 16:04:51.091 +03:00 [DBG] Connection id "0HN3BE6F3TB3U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 16:04:51.091 +03:00 [DBG] Connection id "0HN3BE6F3TB3T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 16:04:51.262 +03:00 [DBG] Connection id "0HN3BE6F3TB3V" accepted.
2024-05-03 16:04:51.293 +03:00 [DBG] Connection id "0HN3BE6F3TB3V" started.
2024-05-03 16:04:51.333 +03:00 [DBG] Connection id "0HN3BE6F3TB3V" received FIN.
2024-05-03 16:04:51.333 +03:00 [DBG] Connection id "0HN3BE6F3TB40" accepted.
2024-05-03 16:04:51.336 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 16:04:51.338 +03:00 [DBG] Connection id "0HN3BE6F3TB40" started.
2024-05-03 16:04:51.346 +03:00 [DBG] Connection id "0HN3BE6F3TB3V" stopped.
2024-05-03 16:04:51.354 +03:00 [DBG] Connection id "0HN3BE6F3TB40" received FIN.
2024-05-03 16:04:51.354 +03:00 [DBG] Connection id "0HN3BE6F3TB41" accepted.
2024-05-03 16:04:51.354 +03:00 [DBG] Connection id "0HN3BE6F3TB3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 16:04:51.356 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 16:04:51.357 +03:00 [DBG] Connection id "0HN3BE6F3TB41" started.
2024-05-03 16:04:51.367 +03:00 [DBG] Connection id "0HN3BE6F3TB40" stopped.
2024-05-03 16:04:51.373 +03:00 [DBG] Connection id "0HN3BE6F3TB40" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 16:04:51.383 +03:00 [DBG] Connection 0HN3BE6F3TB41 established using the following protocol: "Tls12"
2024-05-03 16:04:51.466 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-03 16:04:51.575 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-03 16:04:51.598 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-03 16:04:51.601 +03:00 [DBG] Request did not match any endpoints
2024-05-03 16:04:51.622 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 160.9388ms
2024-05-03 16:04:51.631 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-03 16:04:51.644 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-03 16:04:51.645 +03:00 [DBG] Request did not match any endpoints
2024-05-03 16:04:51.694 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-03 16:04:51.698 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-03 16:04:51.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-03 16:04:51.734 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-03 16:04:51.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-03 16:04:51.736 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-03 16:04:51.737 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-03 16:04:51.742 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-03 16:04:51.751 +03:00 [DBG] Request did not match any endpoints
2024-05-03 16:04:51.749 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-03 16:04:51.750 +03:00 [DBG] Request did not match any endpoints
2024-05-03 16:04:51.744 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-03 16:04:51.762 +03:00 [DBG] Request did not match any endpoints
2024-05-03 16:04:51.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 124.057ms
2024-05-03 16:04:51.769 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-03 16:04:51.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-03 16:04:51.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 41.748ms
2024-05-03 16:04:51.819 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-03 16:04:51.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 94.0874ms
2024-05-03 16:04:51.843 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-03 16:04:51.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 116.2563ms
2024-05-03 16:04:51.895 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-03 16:04:51.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 141.5719ms
2024-05-03 16:04:51.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 182.2335ms
2024-05-03 16:04:53.492 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-03 16:04:53.499 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-03 16:04:53.500 +03:00 [DBG] Request did not match any endpoints
2024-05-03 16:04:53.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.283ms
2024-05-03 16:05:03.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 16:05:03.865 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 16:05:03.871 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 16:05:03.873 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:05:03.875 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 16:05:04.086 +03:00 [DBG] Successfully validated the token.
2024-05-03 16:05:04.090 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 16:05:04.101 +03:00 [DBG] Authorization was successful.
2024-05-03 16:05:04.106 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:05:04.131 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 16:05:04.141 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 16:05:04.144 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 16:05:04.145 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 16:05:04.151 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 16:05:04.153 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 16:05:04.372 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 16:05:06.609 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 16:05:06.615 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 16:05:07.886 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 16:05:07.920 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 16:05:07.929 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 16:05:08.458 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 16:05:08.701 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 16:05:08.754 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2024-05-03 16:05:08.923 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
        SELECT a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 16:05:08.962 +03:00 [DBG] Creating DbConnection.
2024-05-03 16:05:08.986 +03:00 [DBG] Created DbConnection. (20ms).
2024-05-03 16:05:08.997 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:05:09.304 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:05:09.309 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:05:09.317 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-03 16:05:09.321 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-05-03 16:05:09.330 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 16:05:09.372 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 16:05:09.414 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 16:05:09.460 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:05:09.467 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 86ms reading results.
2024-05-03 16:05:09.471 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:05:09.478 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (6ms).
2024-05-03 16:05:09.495 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-05-03 16:05:09.619 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 16:05:09.637 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:05:09.639 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:05:09.641 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 16:05:09.642 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 16:05:09.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-03 16:05:09.649 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:05:09.682 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 16:05:09.686 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:05:09.688 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 16:05:09.690 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:05:09.691 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 16:05:09.842 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 16:05:09.850 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 16:05:09.851 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 16:05:09.852 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 16:05:09.854 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 16:05:09.856 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 16:05:09.870 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 5701.1341ms
2024-05-03 16:05:09.872 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 16:05:09.875 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 5996.6868 ms
2024-05-03 16:05:09.879 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 16:05:09.887 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 16:05:09.895 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-05-03 16:05:09.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 6051.8581ms
2024-05-03 17:21:25.010 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 152
2024-05-03 17:21:25.089 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-03 17:21:25.098 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-03 17:21:25.100 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:21:25.106 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:21:25.139 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:21:25.140 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:21:25.156 +03:00 [DBG] Authorization was successful.
2024-05-03 17:21:25.157 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:21:25.245 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:21:25.248 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:21:25.251 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:21:25.253 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:21:25.255 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:21:25.256 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:21:44.329 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-03 17:21:44.626 +03:00 [DBG] Hosting starting
2024-05-03 17:21:44.694 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-03 17:21:44.708 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-03 17:21:44.718 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-03 17:21:44.722 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-03 17:21:44.733 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-03 17:21:44.743 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-03 17:21:44.744 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-03 17:21:44.754 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-03 17:21:44.758 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 17:21:44.767 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-03 17:21:44.773 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 17:21:44.778 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-03 17:21:44.783 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-03 17:21:44.786 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-03 17:21:44.789 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-03 17:21:44.993 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-03 17:21:45.049 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-03 17:21:45.052 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-03 17:21:45.053 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-03 17:21:45.053 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-03 17:21:45.054 +03:00 [DBG] Connection id "0HN3BFHE6Q665" accepted.
2024-05-03 17:21:45.055 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-03 17:21:45.057 +03:00 [DBG] Connection id "0HN3BFHE6Q665" started.
2024-05-03 17:21:45.057 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-03 17:21:45.097 +03:00 [DBG] Connection id "0HN3BFHE6Q665" received FIN.
2024-05-03 17:21:45.112 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:21:45.132 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-03 17:21:45.144 +03:00 [INF] Hosting environment: Development
2024-05-03 17:21:45.145 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-03 17:21:45.146 +03:00 [DBG] Hosting started
2024-05-03 17:21:45.148 +03:00 [DBG] Connection id "0HN3BFHE6Q665" stopped.
2024-05-03 17:21:45.152 +03:00 [DBG] Connection id "0HN3BFHE6Q665" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:21:45.319 +03:00 [DBG] Connection id "0HN3BFHE6Q666" accepted.
2024-05-03 17:21:45.352 +03:00 [DBG] Connection id "0HN3BFHE6Q666" started.
2024-05-03 17:21:45.382 +03:00 [DBG] Connection id "0HN3BFHE6Q666" received FIN.
2024-05-03 17:21:45.384 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:21:45.386 +03:00 [DBG] Connection id "0HN3BFHE6Q667" accepted.
2024-05-03 17:21:45.399 +03:00 [DBG] Connection id "0HN3BFHE6Q666" stopped.
2024-05-03 17:21:45.403 +03:00 [DBG] Connection id "0HN3BFHE6Q667" started.
2024-05-03 17:21:45.406 +03:00 [DBG] Connection id "0HN3BFHE6Q666" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:21:45.412 +03:00 [DBG] Connection id "0HN3BFHE6Q667" received FIN.
2024-05-03 17:21:45.415 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:21:45.419 +03:00 [DBG] Connection id "0HN3BFHE6Q668" accepted.
2024-05-03 17:21:45.424 +03:00 [DBG] Connection id "0HN3BFHE6Q667" stopped.
2024-05-03 17:21:45.427 +03:00 [DBG] Connection id "0HN3BFHE6Q668" started.
2024-05-03 17:21:45.428 +03:00 [DBG] Connection id "0HN3BFHE6Q667" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:21:45.448 +03:00 [DBG] Connection 0HN3BFHE6Q668 established using the following protocol: "Tls12"
2024-05-03 17:21:45.512 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-03 17:21:45.630 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-03 17:21:45.654 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-03 17:21:45.655 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:21:45.678 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 171.4287ms
2024-05-03 17:21:45.684 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-03 17:21:45.691 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-03 17:21:45.692 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:21:45.737 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-03 17:21:45.739 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-03 17:21:45.768 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-03 17:21:45.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-03 17:21:45.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-03 17:21:45.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-03 17:21:45.773 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-03 17:21:45.783 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-03 17:21:45.793 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-03 17:21:45.797 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-03 17:21:45.803 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:21:45.799 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:21:45.800 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:21:45.798 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 114.1276ms
2024-05-03 17:21:45.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-03 17:21:45.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-03 17:21:45.858 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-03 17:21:45.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 98.0026ms
2024-05-03 17:21:45.881 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-03 17:21:45.886 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 115.9955ms
2024-05-03 17:21:45.873 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 51.3976ms
2024-05-03 17:21:45.908 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-03 17:21:45.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 142.5847ms
2024-05-03 17:21:45.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 128.8977ms
2024-05-03 17:21:47.381 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-03 17:21:47.384 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-03 17:21:47.385 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:21:47.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.6426ms
2024-05-03 17:22:13.324 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 154
2024-05-03 17:22:13.333 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-03 17:22:13.339 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-03 17:22:13.342 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:22:13.345 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:22:13.396 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-03 17:22:13.401 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-03 17:22:13.408 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-03 17:22:13.416 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-03 17:22:13.420 +03:00 [INF] HTTP POST /addUser responded 401 in 71.0391 ms
2024-05-03 17:22:13.422 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 401 0 null 97.733ms
2024-05-03 17:22:13.436 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000011": started reading request body.
2024-05-03 17:22:13.438 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000011": done reading request body.
2024-05-03 17:22:24.626 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 154
2024-05-03 17:22:24.629 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-03 17:22:24.631 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-03 17:22:24.634 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:22:24.636 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:22:24.797 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:22:24.799 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:22:24.802 +03:00 [DBG] Authorization was successful.
2024-05-03 17:22:24.804 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:22:24.832 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:22:24.839 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:22:24.840 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:22:24.844 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:22:24.846 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:22:24.849 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:22:24.995 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 17:22:34.260 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:22:34.268 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:22:34.286 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 17:22:34.290 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' using the name '' in request data ...
2024-05-03 17:22:34.294 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 17:22:34.305 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000013": started reading request body.
2024-05-03 17:22:34.306 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000013": done reading request body.
2024-05-03 17:22:34.312 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.RegisterModel'
2024-05-03 17:22:34.315 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 17:22:34.317 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 17:22:34.320 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 17:22:34.332 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 17:22:37.694 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 17:22:37.697 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 17:22:37.698 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 17:22:37.872 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 17:22:38.036 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:22:38.108 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2024-05-03 17:22:38.323 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 17:22:38.373 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:22:38.395 +03:00 [DBG] Created DbConnection. (20ms).
2024-05-03 17:22:38.400 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:38.609 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:38.614 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:22:38.620 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-03 17:22:38.629 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-05-03 17:22:38.637 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 17:22:38.700 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 17:22:38.715 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:38.724 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 15ms reading results.
2024-05-03 17:22:38.729 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:38.736 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (6ms).
2024-05-03 17:22:42.833 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-05-03 17:22:42.840 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 17:22:42.850 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:42.852 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:42.855 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:22:42.857 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:22:42.858 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:22:42.860 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:22:42.887 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:22:42.893 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:42.894 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:22:42.897 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:42.898 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:22:46.912 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-05-03 17:22:46.924 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 17:22:46.929 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:46.930 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:46.931 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:22:46.933 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:22:46.935 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:22:46.937 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 17:22:46.965 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 17:22:47.000 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:22:47.014 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:47.015 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 43ms reading results.
2024-05-03 17:22:47.017 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:47.019 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-05-03 17:22:58.155 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:58.157 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:58.158 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:22:58.159 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:22:58.160 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:22:58.162 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:22:58.167 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:22:58.173 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:58.192 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 19ms reading results.
2024-05-03 17:22:58.194 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:58.195 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:22:58.251 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:22:58.256 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-05-03 17:22:58.260 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-05-03 17:22:58.290 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-05-03 17:22:58.362 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:58.364 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:58.367 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:22:58.368 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:22:58.370 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:22:58.372 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-05-03 17:22:58.386 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2024-05-03 17:22:58.394 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:58.395 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-05-03 17:22:58.398 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:22:58.399 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:22:58.408 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:22:58.412 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 1 entities written to the database.
2024-05-03 17:23:05.321 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-05-03 17:23:05.328 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 17:23:05.332 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.333 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.334 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:23:05.336 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:23:05.337 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:23:05.341 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 17:23:05.348 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 17:23:05.377 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.378 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:23:05.380 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.381 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:23:05.397 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-05-03 17:23:05.417 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 17:23:05.424 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.425 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.426 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:23:05.427 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:23:05.428 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:23:05.430 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-03 17:23:05.440 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-03 17:23:05.443 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.444 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:23:05.448 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.450 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:23:05.454 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.455 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.456 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:23:05.457 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:23:05.458 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:23:05.459 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 17:23:05.464 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 17:23:05.468 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.469 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:23:05.470 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.472 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:23:05.486 +03:00 [DBG] Context 'AkramDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:23:05.488 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.489 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:23:05.493 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:23:05.494 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:23:05.495 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:23:05.501 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:23:05.506 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.508 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-05-03 17:23:05.510 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.511 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:23:05.516 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:23:05.518 +03:00 [DBG] SaveChanges starting for 'AkramDbContext'.
2024-05-03 17:23:05.519 +03:00 [DBG] DetectChanges starting for 'AkramDbContext'.
2024-05-03 17:23:05.520 +03:00 [DBG] DetectChanges completed for 'AkramDbContext'.
2024-05-03 17:23:05.541 +03:00 [DBG] Executing 2 update commands as a batch.
2024-05-03 17:23:05.544 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.545 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.547 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-03 17:23:05.555 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-03 17:23:05.557 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:23:05.558 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:23:05.562 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-03 17:23:05.563 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-03 17:23:05.580 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-03 17:23:05.589 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.590 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-05-03 17:23:05.594 +03:00 [DBG] Committing transaction.
2024-05-03 17:23:05.598 +03:00 [DBG] Committed transaction.
2024-05-03 17:23:05.603 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:05.604 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:23:05.607 +03:00 [DBG] Disposing transaction.
2024-05-03 17:23:05.609 +03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AkramDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:23:05.611 +03:00 [DBG] An entity of type 'User' tracked by 'AkramDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:23:05.613 +03:00 [DBG] SaveChanges completed for 'AkramDbContext' with 2 entities written to the database.
2024-05-03 17:23:21.810 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:23:21.816 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:23:21.817 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:23:21.819 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:23:21.820 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:23:21.824 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:23:21.842 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 56986.9215ms
2024-05-03 17:23:21.847 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:23:21.849 +03:00 [INF] HTTP POST /addUser responded 200 in 57211.2241 ms
2024-05-03 17:23:21.855 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:23:21.865 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:23:21.871 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-05-03 17:23:21.914 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 200 null application/json; charset=utf-8 57288.0092ms
2024-05-03 17:25:40.272 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 155
2024-05-03 17:25:40.286 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-03 17:25:40.288 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-03 17:25:40.290 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:25:40.291 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:25:40.294 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:25:40.295 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:25:40.298 +03:00 [DBG] Authorization was successful.
2024-05-03 17:25:40.299 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:25:40.300 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:25:40.304 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:25:40.306 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:25:40.307 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:25:40.310 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:25:40.311 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:25:43.092 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:25:43.097 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:25:43.099 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 17:25:43.105 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' using the name '' in request data ...
2024-05-03 17:25:43.107 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 17:25:43.109 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000015": started reading request body.
2024-05-03 17:25:43.112 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000015": done reading request body.
2024-05-03 17:25:43.114 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.RegisterModel'
2024-05-03 17:25:43.115 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 17:25:43.116 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 17:25:43.117 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 17:25:43.119 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 17:25:45.496 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:25:45.502 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:25:45.504 +03:00 [DBG] Created DbConnection. (2ms).
2024-05-03 17:25:45.506 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:25:45.508 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:25:45.511 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:25:45.513 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:25:45.516 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-03 17:25:45.520 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 17:25:45.529 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 17:25:45.540 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:25:45.542 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:25:45.545 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 12ms reading results.
2024-05-03 17:25:45.546 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:25:45.552 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-05-03 17:25:45.672 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:25:45.675 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:25:45.676 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:25:45.678 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:25:45.679 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:25:45.680 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:25:45.684 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 5371.8903ms
2024-05-03 17:25:45.686 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:25:45.687 +03:00 [INF] HTTP POST /addUser responded 200 in 5394.7449 ms
2024-05-03 17:25:45.691 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:25:45.694 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:25:45.696 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 17:25:45.699 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 200 null application/json; charset=utf-8 5427.0085ms
2024-05-03 17:26:40.909 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/addUser - application/json 156
2024-05-03 17:26:40.915 +03:00 [DBG] 1 candidate(s) found for the request path '/addUser'
2024-05-03 17:26:40.917 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)' with route pattern 'addUser' is valid for the request path '/addUser'
2024-05-03 17:26:40.919 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:26:40.920 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:26:40.923 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:26:40.924 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:26:40.925 +03:00 [DBG] Authorization was successful.
2024-05-03 17:26:40.926 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:26:40.927 +03:00 [INF] Route matched with {action = "addUser", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] addUser(IGT.Service.Helpers.RegisterModel) on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:26:40.932 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:26:40.935 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:26:40.936 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:26:40.938 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:26:40.939 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:26:40.942 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:26:40.953 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:26:40.955 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 17:26:40.956 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' using the name '' in request data ...
2024-05-03 17:26:40.958 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 17:26:40.960 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000017": started reading request body.
2024-05-03 17:26:40.963 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000017": done reading request body.
2024-05-03 17:26:40.964 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.RegisterModel'
2024-05-03 17:26:40.966 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 17:26:40.967 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 17:26:40.968 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel' ...
2024-05-03 17:26:40.969 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.RegisterModel'.
2024-05-03 17:26:40.980 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:26:40.983 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:26:40.984 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 17:26:40.986 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:40.987 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:40.988 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:26:40.989 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:26:40.990 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:26:40.993 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 17:26:41.000 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-03 17:26:41.003 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.005 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:26:41.009 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.010 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:26:41.012 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.013 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.014 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:26:41.015 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:26:41.017 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:26:41.018 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:26:41.023 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:26:41.027 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.028 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:26:41.030 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.031 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:26:41.034 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.035 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.036 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:26:41.039 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:26:41.042 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-03 17:26:41.043 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 17:26:41.058 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 17:26:41.061 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.063 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:26:41.066 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.067 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:26:41.175 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:26:41.179 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:26:41.180 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:26:41.181 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:26:41.182 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:26:41.184 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:26:41.186 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api) in 245.1914ms
2024-05-03 17:26:41.195 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.addUser (IGT.Api)'
2024-05-03 17:26:41.197 +03:00 [INF] HTTP POST /addUser responded 200 in 274.3406 ms
2024-05-03 17:26:41.198 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:26:41.201 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:26:41.202 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 17:26:41.204 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/addUser - 200 null application/json; charset=utf-8 295.5955ms
2024-05-03 17:27:01.887 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/login - application/json 55
2024-05-03 17:27:01.900 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-03 17:27:01.905 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-03 17:27:01.907 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 17:27:01.908 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:27:01.909 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:27:01.910 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:27:01.911 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 17:27:01.922 +03:00 [INF] Route matched with {action = "login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 17:27:01.925 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-03 17:27:01.926 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:27:01.928 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 17:27:01.932 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:27:01.933 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 17:27:01.935 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 17:27:01.952 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 17:27:01.953 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 17:27:01.954 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-05-03 17:27:01.955 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 17:27:01.958 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000019": started reading request body.
2024-05-03 17:27:01.959 +03:00 [DBG] Connection id "0HN3BFHE6Q668", Request id "0HN3BFHE6Q668:00000019": done reading request body.
2024-05-03 17:27:01.963 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-05-03 17:27:01.964 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 17:27:01.967 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 17:27:01.968 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 17:27:01.972 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 17:27:01.976 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:27:01.979 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:27:01.979 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 17:27:01.981 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:01.982 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:01.983 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:27:01.984 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:27:01.985 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:27:01.987 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:27:01.990 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:27:01.996 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:27:01.997 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:01.998 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 17:27:02.000 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.001 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:27:02.104 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-05-03 17:27:02.141 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:27:02.146 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.147 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.149 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:27:02.150 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:27:02.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:27:02.153 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-03 17:27:02.159 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-03 17:27:02.164 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.166 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 17:27:02.168 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.169 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:27:02.182 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-05-03 17:27:02.209 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:27:02.214 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.216 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.217 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:27:02.218 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:27:02.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-03 17:27:02.224 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:27:02.230 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:27:02.234 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.238 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 4ms reading results.
2024-05-03 17:27:02.240 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.241 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:27:02.248 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.250 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.251 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:27:02.253 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:27:02.254 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:27:02.255 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:27:02.259 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:27:02.262 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.263 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:27:02.267 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.269 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:27:02.283 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:27:02.286 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:27:02.287 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:27:02.288 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:27:02.289 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:27:02.292 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-03 17:27:02.304 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.login (IGT.Api) in 369.1541ms
2024-05-03 17:27:02.306 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 17:27:02.307 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 398.2634 ms
2024-05-03 17:27:02.309 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:27:02.310 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:02.312 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 17:27:02.315 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/login - 200 null application/json; charset=utf-8 427.4194ms
2024-05-03 17:27:26.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:27:26.808 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:27:26.809 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:27:26.812 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:27:26.813 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:27:26.814 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:27:26.815 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:27:26.817 +03:00 [DBG] Authorization was successful.
2024-05-03 17:27:26.817 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:27:26.821 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:27:26.824 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:27:26.826 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:27:26.827 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:27:26.832 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:27:26.834 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:27:26.836 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:27:26.842 +03:00 [DBG] Compiling query expression: 
'DbSet<Privilege>()
    .Where(p => p.Roles
        .Any(r => r.Name == __get_Item_0) || p.IsGeneral && !(p.IsSuperAdmin))
    .Select(p => p.BackendURL)'
2024-05-03 17:27:26.882 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT p.BackendURL
        FROM Privilege AS p
        WHERE (EXISTS (
            SELECT 1
            FROM RolePrivilege AS r
            INNER JOIN 
            (
                SELECT a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
                FROM AspNetRoles AS a
                WHERE a.Discriminator == N'Role'
            ) AS t ON r.RoleId == t.Id
            WHERE ((p.Id != NULL) && (p.Id == r.Id)) && (t.Name == @__get_Item_0)) || p.IsGeneral) && Not(p.IsSuperAdmin)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:27:26.893 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:27:26.893 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 17:27:26.895 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:26.897 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:26.898 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:27:26.899 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:27:26.901 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:27:26.903 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:27:26.932 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:27:26.939 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:26.940 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 17:27:26.942 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:26.943 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:27:26.945 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-03 17:27:26.948 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-03 17:27:26.951 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-03 17:27:26.952 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 116.8968ms
2024-05-03 17:27:26.953 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:27:26.954 +03:00 [INF] HTTP GET /getAllUsers responded 403 in 140.0563 ms
2024-05-03 17:27:26.956 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:27:26.957 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:26.958 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 17:27:26.960 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 403 0 null 157.4971ms
2024-05-03 17:27:47.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:27:47.785 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:27:47.787 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:27:47.790 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:27:47.792 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:27:47.793 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:27:47.799 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:27:47.800 +03:00 [DBG] Authorization was successful.
2024-05-03 17:27:47.801 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:27:47.802 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:27:47.806 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:27:47.808 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:27:47.810 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:27:47.814 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:27:47.820 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:27:47.823 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:27:47.825 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:27:47.826 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 17:27:47.829 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:47.830 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:47.831 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:27:47.833 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:27:47.835 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:27:47.836 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:27:47.841 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:27:47.848 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:47.849 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:27:47.852 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:47.853 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:27:47.855 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-03 17:27:47.856 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-03 17:27:47.857 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-03 17:27:47.858 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 36.0707ms
2024-05-03 17:27:47.862 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:27:47.863 +03:00 [INF] HTTP GET /getAllUsers responded 403 in 70.6235 ms
2024-05-03 17:27:47.865 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:27:47.866 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:27:47.867 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 17:27:47.869 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 403 0 null 87.2615ms
2024-05-03 17:28:03.499 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:28:03.514 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:28:03.515 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:28:03.517 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:28:03.520 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:28:03.521 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:28:03.522 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:28:03.524 +03:00 [DBG] Authorization was successful.
2024-05-03 17:28:03.525 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:28:03.527 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:28:03.529 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:28:03.531 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:28:03.534 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:28:03.536 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:28:03.538 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:28:03.540 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:28:03.541 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:28:05.250 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:28:05.256 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()'
2024-05-03 17:28:05.262 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
        SELECT a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:28:05.265 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:28:05.267 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-03 17:28:05.268 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:05.270 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:05.272 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:28:05.273 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:28:05.275 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:28:05.279 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 17:28:05.286 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 17:28:05.290 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:28:05.293 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:28:05.295 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:05.297 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 7ms reading results.
2024-05-03 17:28:05.299 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:05.302 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-05-03 17:28:05.304 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:05.305 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:05.308 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:28:05.309 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:28:05.311 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:28:05.313 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:28:05.319 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:28:05.321 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:05.325 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-05-03 17:28:05.326 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:05.327 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:28:05.452 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:28:05.456 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:28:05.457 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:28:05.458 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:28:05.462 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:28:05.472 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:28:05.475 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 1935.6204ms
2024-05-03 17:28:05.480 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:28:05.482 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 1961.1127 ms
2024-05-03 17:28:05.486 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:28:05.489 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:05.491 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-03 17:28:05.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 1999.247ms
2024-05-03 17:28:09.867 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:28:09.871 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:28:09.873 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:28:09.879 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:28:09.880 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:28:09.881 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:28:09.882 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:28:09.883 +03:00 [DBG] Authorization was successful.
2024-05-03 17:28:09.884 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:28:09.885 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:28:09.891 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:28:09.893 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:28:09.894 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:28:09.896 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:28:09.898 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:28:09.900 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:28:09.901 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:28:12.840 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:28:12.849 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:28:12.852 +03:00 [DBG] Created DbConnection. (2ms).
2024-05-03 17:28:12.856 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:12.862 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:12.865 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:28:12.871 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-03 17:28:12.872 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-05-03 17:28:12.874 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 17:28:12.887 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 17:28:12.919 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:28:12.922 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:28:12.924 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:12.925 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 5ms reading results.
2024-05-03 17:28:12.929 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:12.931 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:28:49.544 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:49.573 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:49.574 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:28:49.581 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-05-03 17:28:49.584 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-05-03 17:28:49.585 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:28:49.596 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:28:49.602 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:49.603 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:28:49.607 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:49.610 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-05-03 17:28:49.705 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:28:49.708 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:28:49.709 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:28:49.710 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:28:49.711 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:28:49.712 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:28:49.714 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 39814.183ms
2024-05-03 17:28:49.716 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:28:49.719 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 39838.4841 ms
2024-05-03 17:28:49.721 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:28:49.723 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:49.726 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-03 17:28:49.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 39860.0385ms
2024-05-03 17:28:51.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:28:51.598 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:28:51.599 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:28:51.603 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:28:51.604 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:28:51.605 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:28:51.606 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:28:51.608 +03:00 [DBG] Authorization was successful.
2024-05-03 17:28:51.608 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:28:51.611 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:28:51.614 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:28:51.615 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:28:51.617 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:28:51.619 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:28:51.621 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:28:51.622 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:28:51.623 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:28:52.853 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:28:52.891 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:28:52.893 +03:00 [DBG] Created DbConnection. (2ms).
2024-05-03 17:28:52.896 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:52.899 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:52.900 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:28:52.901 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:28:52.903 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:28:52.905 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 17:28:52.931 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2024-05-03 17:28:52.939 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:28:52.943 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:52.944 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 5ms reading results.
2024-05-03 17:28:52.948 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:52.950 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:28:52.952 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:52.958 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:52.959 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:28:52.962 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:28:52.963 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:28:52.967 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:28:52.985 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:28:52.991 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:52.993 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 17:28:52.998 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:53.014 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (16ms).
2024-05-03 17:28:53.020 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:28:53.023 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:28:53.028 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:28:53.030 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:28:53.035 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:28:53.037 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.Collections.Generic.List`1[[IGT.Core.Dtos.UserManagment.GetAllUsersOutputDTO, IGT.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:28:53.047 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 1425.2642ms
2024-05-03 17:28:53.056 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:28:53.061 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 1456.2526 ms
2024-05-03 17:28:53.063 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:28:53.068 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:28:53.070 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 17:28:53.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 1476.0866ms
2024-05-03 17:39:40.439 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-03 17:39:40.641 +03:00 [DBG] Hosting starting
2024-05-03 17:39:40.686 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-03 17:39:40.696 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-03 17:39:40.706 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-03 17:39:40.708 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-03 17:39:40.714 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-03 17:39:40.720 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-03 17:39:40.721 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-03 17:39:40.728 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-03 17:39:40.732 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 17:39:40.737 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-03 17:39:40.739 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 17:39:40.744 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-03 17:39:40.746 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-03 17:39:40.750 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-03 17:39:40.752 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-03 17:39:40.891 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-03 17:39:40.950 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-03 17:39:40.951 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-03 17:39:40.952 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-03 17:39:40.953 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-03 17:39:40.954 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-03 17:39:40.955 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-03 17:39:41.001 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-03 17:39:41.002 +03:00 [INF] Hosting environment: Development
2024-05-03 17:39:41.003 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-03 17:39:41.004 +03:00 [DBG] Hosting started
2024-05-03 17:39:41.220 +03:00 [DBG] Connection id "0HN3BFRETU4D0" accepted.
2024-05-03 17:39:41.220 +03:00 [DBG] Connection id "0HN3BFRETU4CV" accepted.
2024-05-03 17:39:41.222 +03:00 [DBG] Connection id "0HN3BFRETU4D0" started.
2024-05-03 17:39:41.223 +03:00 [DBG] Connection id "0HN3BFRETU4CV" started.
2024-05-03 17:39:41.247 +03:00 [DBG] Connection id "0HN3BFRETU4CV" received FIN.
2024-05-03 17:39:41.247 +03:00 [DBG] Connection id "0HN3BFRETU4D0" received FIN.
2024-05-03 17:39:41.259 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:39:41.259 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:39:41.286 +03:00 [DBG] Connection id "0HN3BFRETU4D0" stopped.
2024-05-03 17:39:41.287 +03:00 [DBG] Connection id "0HN3BFRETU4CV" stopped.
2024-05-03 17:39:41.293 +03:00 [DBG] Connection id "0HN3BFRETU4CV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:39:41.293 +03:00 [DBG] Connection id "0HN3BFRETU4D0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:39:41.509 +03:00 [DBG] Connection id "0HN3BFRETU4D1" accepted.
2024-05-03 17:39:41.544 +03:00 [DBG] Connection id "0HN3BFRETU4D1" started.
2024-05-03 17:39:41.572 +03:00 [DBG] Connection id "0HN3BFRETU4D1" received FIN.
2024-05-03 17:39:41.574 +03:00 [DBG] Connection id "0HN3BFRETU4D2" accepted.
2024-05-03 17:39:41.576 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:39:41.578 +03:00 [DBG] Connection id "0HN3BFRETU4D2" started.
2024-05-03 17:39:41.585 +03:00 [DBG] Connection id "0HN3BFRETU4D1" stopped.
2024-05-03 17:39:41.587 +03:00 [DBG] Connection id "0HN3BFRETU4D1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:39:41.588 +03:00 [DBG] Connection id "0HN3BFRETU4D2" received FIN.
2024-05-03 17:39:41.588 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:39:41.589 +03:00 [DBG] Connection id "0HN3BFRETU4D3" accepted.
2024-05-03 17:39:41.600 +03:00 [DBG] Connection id "0HN3BFRETU4D2" stopped.
2024-05-03 17:39:41.601 +03:00 [DBG] Connection id "0HN3BFRETU4D3" started.
2024-05-03 17:39:41.602 +03:00 [DBG] Connection id "0HN3BFRETU4D2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:39:41.614 +03:00 [DBG] Connection 0HN3BFRETU4D3 established using the following protocol: "Tls12"
2024-05-03 17:39:41.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-03 17:39:41.782 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-03 17:39:41.806 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-03 17:39:41.808 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:39:41.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 165.3278ms
2024-05-03 17:39:41.840 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-03 17:39:41.851 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-03 17:39:41.854 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:39:41.902 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-03 17:39:41.904 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-03 17:39:41.934 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-03 17:39:41.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-03 17:39:41.939 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-03 17:39:41.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-03 17:39:41.942 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-03 17:39:41.945 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:39:41.940 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:39:41.935 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-03 17:39:41.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-03 17:39:41.951 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 111.221ms
2024-05-03 17:39:41.960 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-03 17:39:41.965 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-03 17:39:41.965 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-03 17:39:41.988 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 23.2659ms
2024-05-03 17:39:42.000 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-03 17:39:42.036 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-03 17:39:41.966 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:39:42.037 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 102.5141ms
2024-05-03 17:39:42.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 102.837ms
2024-05-03 17:39:42.096 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 131.4062ms
2024-05-03 17:39:42.097 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-03 17:39:42.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 169.6996ms
2024-05-03 17:39:43.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-03 17:39:43.609 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-03 17:39:43.610 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:39:43.748 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 147.0732ms
2024-05-03 17:39:53.234 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/login - application/json 48
2024-05-03 17:39:53.244 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-03 17:39:53.249 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-03 17:39:53.258 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 17:39:53.262 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:39:53.310 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-03 17:39:53.313 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 17:39:53.341 +03:00 [INF] Route matched with {action = "login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 17:39:53.345 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-03 17:39:53.347 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:39:53.348 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 17:39:53.351 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:39:53.353 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 17:39:53.356 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 17:39:53.482 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 17:39:53.511 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 17:39:53.523 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 17:39:53.526 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-05-03 17:39:53.530 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 17:39:53.536 +03:00 [DBG] Connection id "0HN3BFRETU4D3", Request id "0HN3BFRETU4D3:00000011": started reading request body.
2024-05-03 17:39:53.538 +03:00 [DBG] Connection id "0HN3BFRETU4D3", Request id "0HN3BFRETU4D3:00000011": done reading request body.
2024-05-03 17:39:53.543 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-05-03 17:39:53.546 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 17:39:53.547 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 17:39:53.549 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 17:39:53.557 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 17:39:53.694 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:39:53.699 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:39:53.700 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:39:53.701 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:39:53.703 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:39:53.705 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-03 17:39:53.729 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.login (IGT.Api) in 370.7028ms
2024-05-03 17:39:53.732 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 17:39:53.735 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 470.1022 ms
2024-05-03 17:39:53.742 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/login - 200 null application/json; charset=utf-8 508.2668ms
2024-05-03 17:40:12.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:40:12.935 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:40:12.936 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:40:12.939 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:40:12.941 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:40:12.981 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:40:12.984 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:40:12.989 +03:00 [DBG] Authorization was successful.
2024-05-03 17:40:12.991 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:40:12.996 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:40:12.999 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:40:13.001 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:40:13.002 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:40:13.004 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:40:13.006 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:40:13.032 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:40:13.036 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:40:13.590 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 17:40:13.592 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 17:40:13.593 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 17:40:13.785 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 17:40:13.947 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:40:14.017 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2024-05-03 17:40:14.198 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 17:40:14.239 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:40:14.258 +03:00 [DBG] Created DbConnection. (17ms).
2024-05-03 17:40:14.263 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.451 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.455 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:40:14.461 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-03 17:40:14.470 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-05-03 17:40:14.479 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 17:40:14.532 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-05-03 17:40:14.570 +03:00 [DBG] Context 'AkramDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:40:14.588 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.597 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 55ms reading results.
2024-05-03 17:40:14.601 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.608 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (6ms).
2024-05-03 17:40:14.615 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-05-03 17:40:14.621 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 17:40:14.626 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.628 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.629 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:40:14.630 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:40:14.632 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:40:14.633 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 17:40:14.642 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 17:40:14.645 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.647 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:40:14.648 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.649 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:40:14.656 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<User>(), 
        outerKeySelector: userrole => userrole.UserId, 
        innerKeySelector: user => user.Id, 
        resultSelector: (userrole, user) => new { 
            userrole = userrole, 
            user = user
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userrole.RoleId.Equals(__role_Id_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.user)'
2024-05-03 17:40:14.696 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
        SELECT a0.Id, a0.AccessFailedCount, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.FirstName, a0.LastName, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.SecurityStamp, a0.TwoFactorEnabled, a0.UserName
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetUsers AS a0 ON a.UserId == a0.Id
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:40:14.703 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.704 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.705 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:40:14.706 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:40:14.707 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:40:14.709 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2024-05-03 17:40:14.714 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[FirstName], [a0].[LastName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2024-05-03 17:40:14.730 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:40:14.760 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.761 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 41ms reading results.
2024-05-03 17:40:14.764 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.765 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:40:14.768 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => !(__adminUserIds_0.Contains(u.Id)))'
2024-05-03 17:40:14.824 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
        SELECT a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE Not(a.Id IN (
            SELECT a0.value
            FROM OPENJSON(@__adminUserIds_0) WITH (value nvarchar(450) '') AS a0))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:40:14.836 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.837 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.838 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:40:14.841 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:40:14.846 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-05-03 17:40:14.847 +03:00 [DBG] Executing DbCommand [Parameters=[@__adminUserIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] NOT IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__adminUserIds_0) WITH ([value] nvarchar(450) '$') AS [a0]
)
2024-05-03 17:40:14.857 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__adminUserIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] NOT IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__adminUserIds_0) WITH ([value] nvarchar(450) '$') AS [a0]
)
2024-05-03 17:40:14.860 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.861 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:40:14.863 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.864 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:40:14.867 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:40:14.872 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:40:14.873 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:40:14.874 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:40:14.875 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:40:14.877 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.Collections.Generic.List`1[[IGT.Core.Dtos.UserManagment.GetAllUsersOutputDTO, IGT.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:40:14.882 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 1870.7073ms
2024-05-03 17:40:14.884 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:40:14.886 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 1944.3609 ms
2024-05-03 17:40:14.890 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:40:14.895 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:40:14.898 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-03 17:40:14.903 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 1972.3739ms
2024-05-03 17:46:09.486 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-03 17:46:09.683 +03:00 [DBG] Hosting starting
2024-05-03 17:46:09.723 +03:00 [INF] User profile is available. Using 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-03 17:46:09.732 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-581d007c-de32-4ef7-bbf6-929ec5119e74.xml'.
2024-05-03 17:46:09.739 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-59c2a83d-4957-4799-80ce-9765b1403343.xml'.
2024-05-03 17:46:09.740 +03:00 [DBG] Reading data from file 'C:\Users\Mahmoud\AppData\Local\ASP.NET\DataProtection-Keys\key-cd3da43b-3018-4678-9b4c-bdd15acccbb6.xml'.
2024-05-03 17:46:09.745 +03:00 [DBG] Found key {581d007c-de32-4ef7-bbf6-929ec5119e74}.
2024-05-03 17:46:09.750 +03:00 [DBG] Found key {59c2a83d-4957-4799-80ce-9765b1403343}.
2024-05-03 17:46:09.751 +03:00 [DBG] Found key {cd3da43b-3018-4678-9b4c-bdd15acccbb6}.
2024-05-03 17:46:09.758 +03:00 [DBG] Considering key {59c2a83d-4957-4799-80ce-9765b1403343} with expiration date 2024-08-01 11:47:15Z as default key.
2024-05-03 17:46:09.763 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 17:46:09.767 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-03 17:46:09.770 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-03 17:46:09.775 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-03 17:46:09.779 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-03 17:46:09.782 +03:00 [DBG] Using key {59c2a83d-4957-4799-80ce-9765b1403343} as the default key.
2024-05-03 17:46:09.784 +03:00 [DBG] Key ring with default key {59c2a83d-4957-4799-80ce-9765b1403343} was loaded during application startup.
2024-05-03 17:46:09.909 +03:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2024-05-03 17:46:09.967 +03:00 [INF] Now listening on: https://localhost:7210
2024-05-03 17:46:09.968 +03:00 [INF] Now listening on: http://localhost:5210
2024-05-03 17:46:09.970 +03:00 [DBG] Loaded hosting startup assembly IGT.Api
2024-05-03 17:46:09.971 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-05-03 17:46:09.972 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-03 17:46:09.973 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-03 17:46:10.023 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-03 17:46:10.025 +03:00 [INF] Hosting environment: Development
2024-05-03 17:46:10.026 +03:00 [INF] Content root path: F:\Work\IGT\IGT.Api
2024-05-03 17:46:10.027 +03:00 [DBG] Hosting started
2024-05-03 17:46:10.056 +03:00 [DBG] Connection id "0HN3BFV2Q59NF" received FIN.
2024-05-03 17:46:10.062 +03:00 [DBG] Connection id "0HN3BFV2Q59NF" accepted.
2024-05-03 17:46:10.064 +03:00 [DBG] Connection id "0HN3BFV2Q59NF" started.
2024-05-03 17:46:10.083 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:46:10.106 +03:00 [DBG] Connection id "0HN3BFV2Q59NF" stopped.
2024-05-03 17:46:10.111 +03:00 [DBG] Connection id "0HN3BFV2Q59NF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:46:10.230 +03:00 [DBG] Connection id "0HN3BFV2Q59NG" accepted.
2024-05-03 17:46:10.265 +03:00 [DBG] Connection id "0HN3BFV2Q59NG" started.
2024-05-03 17:46:10.305 +03:00 [DBG] Connection id "0HN3BFV2Q59NG" received FIN.
2024-05-03 17:46:10.307 +03:00 [DBG] Connection id "0HN3BFV2Q59NH" accepted.
2024-05-03 17:46:10.315 +03:00 [DBG] Connection id "0HN3BFV2Q59NH" started.
2024-05-03 17:46:10.316 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:46:10.321 +03:00 [DBG] Connection id "0HN3BFV2Q59NH" received FIN.
2024-05-03 17:46:10.321 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Authentication failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (0x80090327): An unknown error occurred while processing the certificate.
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-03 17:46:10.322 +03:00 [DBG] Connection id "0HN3BFV2Q59NI" accepted.
2024-05-03 17:46:10.329 +03:00 [DBG] Connection id "0HN3BFV2Q59NG" stopped.
2024-05-03 17:46:10.338 +03:00 [DBG] Connection id "0HN3BFV2Q59NH" stopped.
2024-05-03 17:46:10.342 +03:00 [DBG] Connection id "0HN3BFV2Q59NI" started.
2024-05-03 17:46:10.349 +03:00 [DBG] Connection id "0HN3BFV2Q59NG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:46:10.350 +03:00 [DBG] Connection id "0HN3BFV2Q59NH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-03 17:46:10.368 +03:00 [DBG] Connection 0HN3BFV2Q59NI established using the following protocol: "Tls12"
2024-05-03 17:46:10.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger - null null
2024-05-03 17:46:10.524 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-03 17:46:10.544 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-03 17:46:10.546 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:46:10.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger - 301 0 null 144.3649ms
2024-05-03 17:46:10.571 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - null null
2024-05-03 17:46:10.580 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-03 17:46:10.581 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:46:10.631 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-05-03 17:46:10.634 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-05-03 17:46:10.667 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - null null
2024-05-03 17:46:10.667 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - null null
2024-05-03 17:46:10.669 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - null null
2024-05-03 17:46:10.669 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-05-03 17:46:10.672 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-03 17:46:10.678 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-03 17:46:10.685 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-03 17:46:10.689 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-05-03 17:46:10.691 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:46:10.692 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:46:10.694 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:46:10.695 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - 200 null text/html;charset=utf-8 124.6752ms
2024-05-03 17:46:10.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - null null
2024-05-03 17:46:10.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - null null
2024-05-03 17:46:10.743 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-03 17:46:10.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - 200 13750 application/javascript; charset=utf-8 49.0154ms
2024-05-03 17:46:10.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-standalone-preset.js - 200 337162 text/javascript 92.1494ms
2024-05-03 17:46:10.770 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-03 17:46:10.777 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-03 17:46:10.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui-bundle.js - 200 1092889 text/javascript 117.8636ms
2024-05-03 17:46:10.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/swagger-ui.css - 200 143632 text/css 121.0898ms
2024-05-03 17:46:10.816 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.2751ms
2024-05-03 17:46:12.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - null null
2024-05-03 17:46:12.236 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-03 17:46:12.237 +03:00 [DBG] Request did not match any endpoints
2024-05-03 17:46:12.357 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.177ms
2024-05-03 17:46:25.159 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:46:25.167 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:46:25.170 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:46:25.173 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:46:25.174 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:46:25.358 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:46:25.360 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:46:25.367 +03:00 [DBG] Authorization was successful.
2024-05-03 17:46:25.369 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:46:25.390 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:46:25.395 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:46:25.397 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:46:25.398 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:46:25.400 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:46:25.402 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:46:25.561 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-03 17:46:25.596 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:46:25.602 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:46:25.760 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:46:25.765 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:46:25.766 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:46:25.767 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:46:25.769 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:46:25.771 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:46:25.786 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 379.7015ms
2024-05-03 17:46:25.788 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:46:25.791 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 613.5105 ms
2024-05-03 17:46:25.795 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 635.2763ms
2024-05-03 17:46:41.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:46:41.521 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:46:41.522 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:46:41.525 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:46:41.529 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:46:41.531 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:46:41.532 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:46:41.534 +03:00 [DBG] Authorization was successful.
2024-05-03 17:46:41.535 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:46:41.537 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:46:41.539 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:46:41.543 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:46:41.545 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:46:41.546 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:46:41.548 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:46:41.555 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:46:41.559 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:46:50.776 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:46:50.780 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:46:50.781 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:46:50.783 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:46:50.784 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:46:50.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:46:50.788 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 9238.7842ms
2024-05-03 17:46:50.791 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:46:50.792 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 9262.2935 ms
2024-05-03 17:46:50.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 9276.9698ms
2024-05-03 17:46:52.416 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:46:52.420 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:46:52.422 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:46:52.425 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:46:52.429 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:46:52.431 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:46:52.432 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:46:52.435 +03:00 [DBG] Authorization was successful.
2024-05-03 17:46:52.437 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:46:52.438 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:46:52.440 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:46:52.444 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:46:52.446 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:46:52.448 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:46:52.449 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:46:52.453 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:46:52.463 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:46:59.778 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:46:59.782 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:46:59.783 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:46:59.784 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:46:59.785 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:46:59.787 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:46:59.790 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 7339.3822ms
2024-05-03 17:46:59.794 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:46:59.795 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 7365.5145 ms
2024-05-03 17:46:59.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 7380.7104ms
2024-05-03 17:47:09.288 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:47:09.291 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:47:09.292 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:47:09.294 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:47:09.295 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:47:09.298 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:47:09.299 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:47:09.301 +03:00 [DBG] Authorization was successful.
2024-05-03 17:47:09.302 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:47:09.303 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:47:09.305 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:47:09.308 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:47:09.309 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:47:09.311 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:47:09.317 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:47:09.319 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:47:09.320 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:48:10.496 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:48:10.498 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:48:10.499 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:48:10.501 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:48:10.502 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:48:10.504 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:48:10.505 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 61187.1563ms
2024-05-03 17:48:10.507 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:48:10.508 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 61211.9302 ms
2024-05-03 17:48:10.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 61221.5633ms
2024-05-03 17:48:12.889 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:48:12.892 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:48:12.893 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:48:12.896 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:48:12.897 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:48:12.898 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:48:12.899 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:48:12.901 +03:00 [DBG] Authorization was successful.
2024-05-03 17:48:12.902 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:48:12.907 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:48:12.910 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:48:12.912 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:48:12.914 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:48:12.916 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:48:12.918 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:48:12.922 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:48:12.923 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.UserManagmentController (IGT.Api)
2024-05-03 17:48:18.474 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-05-03 17:48:18.477 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-05-03 17:48:18.479 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'RolePrivilege (Dictionary<string, object>)' as the properties are already covered by the index {'RoleId', 'Id'}.
2024-05-03 17:48:18.652 +03:00 [DBG] The property 'IdentityRole.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-05-03 17:48:18.824 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:48:18.925 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-05-03 17:48:19.109 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 2], [Property: IdentityRole.Name (string) MaxLength(256), 3], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 4] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 17:48:19.156 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:48:19.182 +03:00 [DBG] Created DbConnection. (24ms).
2024-05-03 17:48:19.187 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.364 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.369 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:48:19.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-03 17:48:19.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-05-03 17:48:19.393 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 17:48:19.446 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-03 17:48:19.460 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.468 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 15ms reading results.
2024-05-03 17:48:19.473 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.479 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (5ms).
2024-05-03 17:48:19.485 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => !(__adminUserIds_0.Contains(u.Id)))'
2024-05-03 17:48:19.550 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
        SELECT a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE Not(a.Id IN (
            SELECT a0.value
            FROM OPENJSON(@__adminUserIds_0) WITH (value nvarchar(450) '') AS a0))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:48:19.564 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.565 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.567 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:48:19.568 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:48:19.572 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-03 17:48:19.573 +03:00 [DBG] Executing DbCommand [Parameters=[@__adminUserIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] NOT IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__adminUserIds_0) WITH ([value] nvarchar(450) '$') AS [a0]
)
2024-05-03 17:48:19.586 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__adminUserIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] NOT IN (
    SELECT [a0].[value]
    FROM OPENJSON(@__adminUserIds_0) WITH ([value] nvarchar(450) '$') AS [a0]
)
2024-05-03 17:48:19.619 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:48:19.655 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.657 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 68ms reading results.
2024-05-03 17:48:19.659 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.660 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:48:19.669 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-05-03 17:48:19.711 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:48:19.717 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.720 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.721 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:48:19.722 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-03 17:48:19.724 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:48:19.725 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:48:19.732 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:48:19.741 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.744 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-05-03 17:48:19.745 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.747 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:48:19.757 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:48:19.762 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:48:19.763 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:48:19.766 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:48:19.768 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:48:19.770 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[System.Collections.Generic.List`1[[IGT.Core.Dtos.UserManagment.GetAllUsersOutputDTO, IGT.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-03 17:48:19.778 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 6856.2636ms
2024-05-03 17:48:19.785 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:48:19.792 +03:00 [INF] HTTP GET /getAllUsers responded 200 in 6894.2328 ms
2024-05-03 17:48:19.797 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:48:19.803 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:48:19.806 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-05-03 17:48:19.818 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 200 null application/json; charset=utf-8 6928.5658ms
2024-05-03 17:51:42.273 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7210/api/Authentication/login - application/json 55
2024-05-03 17:51:42.283 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authentication/login'
2024-05-03 17:51:42.284 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)' with route pattern 'api/Authentication/login' is valid for the request path '/api/Authentication/login'
2024-05-03 17:51:42.287 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 17:51:42.288 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:51:42.289 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-03 17:51:42.290 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 17:51:42.301 +03:00 [INF] Route matched with {action = "login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] login(IGT.Service.Helpers.TokenRequestModel) on controller IGT.Api.Controllers.AuthenticationController (IGT.Api).
2024-05-03 17:51:42.304 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-03 17:51:42.305 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:51:42.306 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-03 17:51:42.308 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:51:42.310 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-03 17:51:42.314 +03:00 [DBG] Executing controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 17:51:42.320 +03:00 [DBG] Executed controller factory for controller IGT.Api.Controllers.AuthenticationController (IGT.Api)
2024-05-03 17:51:42.325 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 17:51:42.329 +03:00 [DBG] Attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' using the name '' in request data ...
2024-05-03 17:51:42.332 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-03 17:51:42.337 +03:00 [DBG] Connection id "0HN3BFV2Q59NI", Request id "0HN3BFV2Q59NI:0000001B": started reading request body.
2024-05-03 17:51:42.338 +03:00 [DBG] Connection id "0HN3BFV2Q59NI", Request id "0HN3BFV2Q59NI:0000001B": done reading request body.
2024-05-03 17:51:42.345 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'IGT.Service.Helpers.TokenRequestModel'
2024-05-03 17:51:42.346 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 17:51:42.349 +03:00 [DBG] Done attempting to bind parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 17:51:42.350 +03:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel' ...
2024-05-03 17:51:42.360 +03:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IGT.Service.Helpers.TokenRequestModel'.
2024-05-03 17:51:42.414 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:51:42.417 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-05-03 17:51:42.425 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FirstName (string), 5], [Property: User.LastName (string), 6], [Property: User.LockoutEnabled (bool) Required, 7], [Property: User.LockoutEnd (DateTimeOffset?), 8], [Property: User.NormalizedEmail (string) Index MaxLength(256), 9], [Property: User.NormalizedUserName (string) Index MaxLength(256), 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.SecurityStamp (string), 14], [Property: User.TwoFactorEnabled (bool) Required, 15], [Property: User.UserName (string) MaxLength(256), 16] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        IGT.Data.DatabaseContext.AkramDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-03 17:51:42.431 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:51:42.432 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 17:51:42.433 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.436 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.437 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:51:42.438 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:51:42.439 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:51:42.441 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:51:42.447 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-03 17:51:42.457 +03:00 [DBG] Context 'AkramDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-03 17:51:42.459 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.460 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 3ms reading results.
2024-05-03 17:51:42.461 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.462 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:51:42.574 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-05-03 17:51:42.582 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:51:42.586 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.587 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.588 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:51:42.592 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:51:42.593 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-03 17:51:42.595 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-03 17:51:42.599 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-03 17:51:42.602 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.604 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:51:42.607 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.608 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:51:42.614 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.615 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.616 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:51:42.618 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:51:42.620 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:51:42.622 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:51:42.627 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:51:42.630 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.632 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:51:42.633 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.637 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (3ms).
2024-05-03 17:51:42.640 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.642 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.643 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:51:42.644 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:51:42.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:51:42.647 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:51:42.652 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-03 17:51:42.655 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.656 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:51:42.658 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.659 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:51:42.672 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-03 17:51:42.676 +03:00 [DBG] No information found on request to perform content negotiation.
2024-05-03 17:51:42.677 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-03 17:51:42.678 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-03 17:51:42.679 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-03 17:51:42.684 +03:00 [INF] Executing OkObjectResult, writing value of type 'IGT.Core.Dtos.BaseDTO`1[[IGT.Service.Helpers.AuthenticationModel, IGT.Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-03 17:51:42.695 +03:00 [INF] Executed action IGT.Api.Controllers.AuthenticationController.login (IGT.Api) in 381.0493ms
2024-05-03 17:51:42.699 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.AuthenticationController.login (IGT.Api)'
2024-05-03 17:51:42.700 +03:00 [INF] HTTP POST /api/Authentication/login responded 200 in 410.7817 ms
2024-05-03 17:51:42.703 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:51:42.706 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:42.707 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 17:51:42.709 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7210/api/Authentication/login - 200 null application/json; charset=utf-8 436.9013ms
2024-05-03 17:51:54.839 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:51:54.847 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:51:54.848 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:51:54.850 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:51:54.852 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:51:54.854 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:51:54.855 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:51:54.858 +03:00 [DBG] Authorization was successful.
2024-05-03 17:51:54.858 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:51:54.862 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:51:54.864 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:51:54.867 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:51:54.868 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:51:54.870 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:51:54.871 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:51:54.885 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:51:54.895 +03:00 [DBG] Compiling query expression: 
'DbSet<Privilege>()
    .Where(p => p.Roles
        .Any(r => r.Name == __get_Item_0) || p.IsGeneral && !(p.IsSuperAdmin))
    .Select(p => p.BackendURL)'
2024-05-03 17:51:54.924 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT p.BackendURL
        FROM Privilege AS p
        WHERE (EXISTS (
            SELECT 1
            FROM RolePrivilege AS r
            INNER JOIN 
            (
                SELECT a.Id, a.ConcurrencyStamp, a.Discriminator, a.Name, a.NormalizedName
                FROM AspNetRoles AS a
                WHERE a.Discriminator == N'Role'
            ) AS t ON r.RoleId == t.Id
            WHERE ((p.Id != NULL) && (p.Id == r.Id)) && (t.Name == @__get_Item_0)) || p.IsGeneral) && Not(p.IsSuperAdmin)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    IGT.Data.DatabaseContext.AkramDbContext, 
    False, 
    False, 
    True
)'
2024-05-03 17:51:54.933 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:51:54.934 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 17:51:54.937 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:54.940 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:54.941 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:51:54.942 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:51:54.944 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:51:54.945 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:51:54.962 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:51:54.967 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:54.968 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 2ms reading results.
2024-05-03 17:51:54.971 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:54.974 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (2ms).
2024-05-03 17:51:54.976 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-03 17:51:54.978 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-03 17:51:54.981 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-03 17:51:54.984 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 111.3906ms
2024-05-03 17:51:54.985 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:51:54.987 +03:00 [INF] HTTP GET /getAllUsers responded 403 in 133.7677 ms
2024-05-03 17:51:54.990 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:51:54.994 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:51:54.997 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-05-03 17:51:55.012 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 403 0 null 172.3113ms
2024-05-03 17:52:02.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:52:02.330 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:52:02.331 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:52:02.336 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:52:02.338 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:52:02.340 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:52:02.342 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:52:02.344 +03:00 [DBG] Authorization was successful.
2024-05-03 17:52:02.347 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:52:02.348 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:52:02.352 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:52:02.355 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:52:02.357 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:52:02.359 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:52:02.363 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:52:02.365 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:52:02.369 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:52:02.370 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 17:52:02.371 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:02.373 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:02.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:52:02.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:52:02.379 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-03 17:52:02.380 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:52:02.391 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:52:02.397 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:02.398 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:52:02.401 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:02.402 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:52:02.403 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-03 17:52:02.404 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-03 17:52:02.405 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-03 17:52:02.406 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 41.7508ms
2024-05-03 17:52:02.410 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:52:02.411 +03:00 [INF] HTTP GET /getAllUsers responded 403 in 71.0938 ms
2024-05-03 17:52:02.412 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:52:02.414 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:02.416 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 17:52:02.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 403 0 null 91.8936ms
2024-05-03 17:52:19.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:52:19.724 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:52:19.726 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:52:19.728 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:52:19.729 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:52:19.732 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:52:19.734 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:52:19.735 +03:00 [DBG] Authorization was successful.
2024-05-03 17:52:19.736 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:52:19.737 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:52:19.740 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:52:19.741 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:52:19.743 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:52:19.745 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:52:19.746 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:52:19.748 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:52:19.752 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:52:19.753 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 17:52:19.754 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:19.756 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:19.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:52:19.758 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:52:19.760 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-03 17:52:19.762 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:52:19.768 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:52:19.772 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:19.774 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:52:19.776 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:19.778 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:52:19.782 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-03 17:52:19.784 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-03 17:52:19.786 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-03 17:52:19.787 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 40.0803ms
2024-05-03 17:52:19.789 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:52:19.790 +03:00 [INF] HTTP GET /getAllUsers responded 403 in 58.7314 ms
2024-05-03 17:52:19.792 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:52:19.793 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:19.796 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-05-03 17:52:19.798 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 403 0 null 77.6234ms
2024-05-03 17:52:43.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7210/getAllUsers - null null
2024-05-03 17:52:43.315 +03:00 [DBG] 1 candidate(s) found for the request path '/getAllUsers'
2024-05-03 17:52:43.317 +03:00 [DBG] Endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)' with route pattern 'getAllUsers' is valid for the request path '/getAllUsers'
2024-05-03 17:52:43.319 +03:00 [DBG] Request matched endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:52:43.321 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-03 17:52:43.323 +03:00 [DBG] Successfully validated the token.
2024-05-03 17:52:43.323 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-03 17:52:43.326 +03:00 [DBG] Authorization was successful.
2024-05-03 17:52:43.328 +03:00 [INF] Executing endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:52:43.330 +03:00 [INF] Route matched with {action = "getAllUsers", controller = "UserManagment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllUsers() on controller IGT.Api.Controllers.UserManagmentController (IGT.Api).
2024-05-03 17:52:43.333 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["IGT.Service.Helpers.CustomAttributes.CustomAuthorizeAttribute"]
2024-05-03 17:52:43.335 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-03 17:52:43.336 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-03 17:52:43.338 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-03 17:52:43.339 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-03 17:52:55.022 +03:00 [DBG] Entity Framework Core 8.0.2 initialized 'AkramDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.2' with options: None
2024-05-03 17:52:55.129 +03:00 [DBG] Creating DbConnection.
2024-05-03 17:52:55.130 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-03 17:52:55.131 +03:00 [DBG] Opening connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:55.133 +03:00 [DBG] Opened connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:55.134 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-03 17:52:55.136 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-03 17:52:55.137 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-03 17:52:55.141 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:52:55.146 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[BackendURL]
FROM [Privilege] AS [p]
WHERE (EXISTS (
    SELECT 1
    FROM [RolePrivilege] AS [r]
    INNER JOIN (
        SELECT [a].[Id], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Name], [a].[NormalizedName]
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Discriminator] = N'Role'
    ) AS [t] ON [r].[RoleId] = [t].[Id]
    WHERE [p].[Id] = [r].[Id] AND [t].[Name] = @__get_Item_0) OR [p].[IsGeneral] = CAST(1 AS bit)) AND [p].[IsSuperAdmin] = CAST(0 AS bit)
2024-05-03 17:52:55.150 +03:00 [DBG] Closing data reader to 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:55.152 +03:00 [DBG] A data reader for 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' is being disposed after spending 1ms reading results.
2024-05-03 17:52:55.157 +03:00 [DBG] Closing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:52:55.159 +03:00 [DBG] Closed connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ' (1ms).
2024-05-03 17:53:15.816 +03:00 [INF] Authorization failed for the request at filter 'Authorize'.
2024-05-03 17:53:15.819 +03:00 [INF] Executing ForbidResult with authentication schemes ([]).
2024-05-03 17:53:15.821 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-05-03 17:53:15.824 +03:00 [INF] Executed action IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api) in 32481.156ms
2024-05-03 17:53:15.825 +03:00 [INF] Executed endpoint 'IGT.Api.Controllers.UserManagmentController.getAllUsers (IGT.Api)'
2024-05-03 17:53:15.827 +03:00 [INF] HTTP GET /getAllUsers responded 403 in 32504.5356 ms
2024-05-03 17:53:15.829 +03:00 [DBG] 'AkramDbContext' disposed.
2024-05-03 17:53:15.833 +03:00 [DBG] Disposing connection to database 'AkramDBTest4' on server 'DESKTOP-NT39CCP\MSSQLSERVERZ'.
2024-05-03 17:53:15.835 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-03 17:53:15.837 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7210/getAllUsers - 403 0 null 32532.0491ms
